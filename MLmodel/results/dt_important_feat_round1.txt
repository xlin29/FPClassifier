{CanvasRenderingContext2D}:"fillText"	0.7079200090997264
{BatteryManager}:"chargingTime"	0.13080537105119777
%open:{XMLHttpRequest}="GET":"https\://c.adsco.re/":#T	0.025197583314991615
{CanvasRenderingContext2D}:"strokeText"	0.020281403841031907
{HTMLCanvasElement}:"toDataURL"	0.0193732048126866
{HTMLBodyElement}:"onload"	0.011620642900987601
{RTCPeerConnection}:"createOffer"	0.009987985413924054
%open:{XMLHttpRequest}="GET":"http\://c.adsco.re/":#T	0.009099426819181768
%setAttribute:{HTMLIFrameElement}="src":"javascript\:no"	0.007468322511738811
{Performance}:"timing"	0.007301668782035169
{AudioParam}:"setValueAtTime"	0.004869672988490098
{RTCPeerConnection}:"localDescription"	0.003206521263348273
{AudioContext}:"destination"	0.0027013146674713024
{CanvasRenderingContext2D}:"save"	0.002586056069230144
%getShaderPrecisionFormat:{WebGLRenderingContext}=35632:36339	0.002524907764959878
%querySelectorAll:{HTMLHeadElement}=".js-jivo-bundle"	0.002245193835159092
{Window}:"celtra"	0.0021964236818373746
{HTMLUnknownElement}:"style"	0.0021510610651417944
{CanvasRenderingContext2D}:"getImageData"	0.001750418601919266
%getItem:{Storage}="_ym_ds"	0.0013362646305295405
{Window}:"AMap"	0.0013148354640216268
%setItem:{Storage}="APLUSGREYg_aplus_v2":"/* 2016-04-13 14\:04\:55 */\x0a!function e(t,a,r){function n(o,s){if(!a[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=a[o]={exports\:{}};t[o][0].call(l.exports,function(e){var a=t[o][1][e];return n(a?a\:e)},l,l.exports,e,t,a,r)}return a[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1\:[function(e,t,a){"use strict";var r=location.search,n={VERSION\:{DEFAULT\:"7",MANUAL\:9,MANUAL_TIMEOUT\:7},TIME\:{MANUAL_TIMEOUT\:6e3},RATE\:{AHOT_SAMPLING\:.1},DEBUG\:{AHOT\:r.indexOf("ap-debug-ahot")>-1,ANTI_SPAM\:r.indexOf("ap-debug-antispam")>-1,LS_PROXY\:r.indexOf("ap-debug-lsproxy")>-1}},i={NAME_STORAGE\:{REFERRER\:"wm_referrer",REFERRER_PV_ID\:"refer_pv_id"}};a.COMFIG=n,a.KEY=i},{}],2\:[function(require,module,exports){!function(){function tryToDecodeURIComponent(e,t){var a=t||"";if(e)try{a=decodeURIComponent(e)}catch(r){}return a}function obj2param(e){var t,a,r=[];for(t in e)e.hasOwnProperty(t)&&(a=""+e[t],r.push(util.isStartWith(t,s_plain_obj)?a\:t+"="+encodeURIComponent(a)));return r.join("&")}function arr2param(e){var t,a,r,n=[],i=e.length;for(r=0;i>r;r++)t=e[r][0],a=e[r][1],n.push(util.isStartWith(t,s_plain_obj)?a\:t+"="+encodeURIComponent(a));return n.join("&")}function arr2obj(e){var t,a,r,n={},i=e.length;for(r=0;i>r;r++)t=e[r][0],a=e[r][1],n[t]=a;return n}function objSimpleClone(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);return a}function param2obj(e){for(var t=e.split("&"),a=0,r=t.length,n={};r>a;a++){var i=t[a],o=i.indexOf("="),s=i.substring(0,o),c=i.substring(o+1);n[s]=tryToDecodeURIComponent(c)}return n}function isNumber(e){return"number"==typeof e}function isUnDefined(e){return"undefined"==typeof e}function isString(e){return"string"==typeof e}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function tryToGetAttribute(e,t){return e&&e.getAttribute?e.getAttribute(t)||""\:""}function tryToGetHref(e){var t;try{t=util.trim(e.getAttribute("href",2))}catch(a){}return t||""}function parseMetaContent(e,t){var a,r,n=e.split(";"),i=n.length;for(a=0;i>a;a++)r=n[a].split("="),t[util.trim(r[0])||s_plain_obj]=tryToDecodeURIComponent(util.trim(r.slice(1).join("=")))}function getCookie(e){var t=doc.cookie.match(new RegExp("(?\:^|;)\\\\s*"+e+"=([^;]+)"));return t?t[1]\:""}function makeCacheNum(){return Math.floor(268435456*Math.random()).toString(16)}function init_getMetaMicroscopeData(){var e,t,a,r=util.getMetaTags(),n=r.length;for(e=0;n>e;e++)t=r[e],"microscope-data"==tryToGetAttribute(t,"name")&&(a=tryToGetAttribute(t,"content"),parseMetaContent(a,_microscope_data),is_head_has_meta_microscope_data=s_true);_microscope_data_params=obj2param(_microscope_data),ms_data_page_id=_microscope_data.pageId,ms_data_shop_id=_microscope_data.shopId,ms_data_instance_id=_microscope_data.siteInstanceId,ms_data_siteCategoryId=_microscope_data.siteCategory,ms_prototype_id=_microscope_data.prototypeId,site_instance_id_or_shop_id=ms_data_instance_id||ms_data_shop_id}function getMetaAtpData(){var e,t,a,r=util.getMetaTags(),n=r.length;for(e=0;n>e;e++)t=r[e],"atp-beacon"==tryToGetAttribute(t,"name")&&(a=tryToGetAttribute(t,"content"),parseMetaContent(a,_atp_beacon_data));_atp_beacon_data_params=obj2param(_atp_beacon_data)}function getMetaWaiting(){return util.getMetaCnt("aplus-waiting")}function getMetaTerminal(){return util.getMetaCnt("aplus-terminal")}function getMetaRateAhot(){var e=util.getMetaCnt("aplus-rate-ahot");return parseFloat(e)||0}function getMetaAhot(){return util.getMetaCnt("ahot-aplus")}function isOnePage(){return util.getMetaCnt("isonepage")||"-1"}function getSPMProtocolFromMeta(){var e,t,a,r,n=util.getMetaTags();for(e=0,t=n.length;t>e;e++)a=n[e],r=tryToGetAttribute(a,"name"),r==s_SPM_ATTR_NAME&&(spm_protocol=tryToGetAttribute(a,s_SPM_DATA_PROTOCOL))}function getMetaSPMData(e){var t,a,r,n,i,o,s=util.getMetaTags();if(s)for(t=0,a=s.length;a>t;t++)if(n=s[t],i=tryToGetAttribute(n,"name"),i==e)return page_global_spm_id_origin=tryToGetAttribute(n,"content"),page_global_spm_id_origin.indexOf("\:")>=0&&(r=page_global_spm_id_origin.split("\:"),spm_protocol="i"==r[0]?"i"\:"u",page_global_spm_id_origin=r[1]),o=tryToGetAttribute(n,s_SPM_DATA_PROTOCOL),o&&(spm_protocol="i"==o?"i"\:"u"),page_global_is_wangpu=util.isStartWith(page_global_spm_id_origin,"110"),spm_ab=page_global_is_wangpu?default_ab\:page_global_spm_id_origin,s_true;return s_false}function init_getGlobalSPMId(){if(!isUnDefined(spm_ab))return spm_ab;if(spm_a&&spm_b)return spm_a=spm_a.replace(/^{(\\w+\\/)}$/g,"$1"),spm_b=spm_b.replace(/^{(\\w+\\/)}$/g,"$1"),wh_in_page=s_true,spm_ab=spm_a+"."+spm_b,getSPMProtocolFromMeta(),goldlog.spm_ab=[spm_a,spm_b],spm_ab;var e;if(getMetaSPMData(s_SPM_ATTR_NAME)||getMetaSPMData("spm-id"),spm_ab=spm_ab||default_ab,!spm_ab)return spm_ab;var t,a=doc.getElementsByTagName("body");return e=spm_ab.split("."),goldlog.spm_ab=e,a=a&&a.length?a[0]\:null,a&&(t=tryToGetAttribute(a,s_SPM_ATTR_NAME),t?(spm_ab=e[0]+"."+t,goldlog.spm_ab=[e[0],t])\:1==e.length&&(spm_ab=default_ab)),spm_ab}function makePVId(){function e(e){var t="0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ",a="0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ";return 1==e?t.substr(Math.floor(60*Math.random()),1)\:2==e?a.substr(Math.floor(60*Math.random()),1)\:"0"}for(var t,a="",r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=!1;a.length<6;)t=r.substr(Math.floor(62*Math.random()),1),!n&&a.length<=2&&("g"==t.toLowerCase()||"l"==t.toLowerCase())&&(0===a.length&&"g"==t.toLowerCase()?Math.random()<.5&&(t=e(1),n=!0)\:1==a.length&&"l"==t.toLowerCase()&&"g"==a.charAt(0).toLowerCase()&&(t=e(2),n=!0)),a+=t;return win[s_pv_id_key]=a,a}function init_aplusQueue(){var e,t=win[s_aplus_queue];t.push=e=function(){for(var e,a,r=0,n=arguments.length;n>r;r++)e=arguments[r],isString(e)?goldlog.send(hjlj_beacon_base+e)\:isArray(e)&&"push"!=(a=e[0])&&(t[a]=t[a]||[]).push(e.slice(1))};for(var a;a=t.shift();)e(a)}function recordValInWindowName(){var e,t;!is_in_iframe&&is_https&&(is_login_page&&page_referrer?(e=page_referrer,t=nameStorage.getItem(KEY.NAME_STORAGE.REFERRER_PV_ID))\:(e=page_url,t=pvid),nameStorage.setItem(KEY.NAME_STORAGE.REFERRER,e),nameStorage.setItem(KEY.NAME_STORAGE.REFERRER_PV_ID,t))}function processGoldlogQueue(){function e(){var e,t,a,r=win[s_GOLDMINER_QUEUE];if(r&&isArray(r)&&r.length)for(;e=r.shift();)if(e&&e.action&&isString(e.action)&&e.arguments&&isArray(e.arguments)){for(a=e.action.split("."),t=win;a.length;)if(t=t[a.shift()],!t)return;if("function"==typeof t)try{t.apply(t,e.arguments)}catch(n){}}}try{e()}catch(t){}}function init_watchGoldlogQueue(){var e=function(){try{processGoldlogQueue(),setTimeout(e,200)}catch(t){}};e(),util.on(win,"beforeunload",processGoldlogQueue)}function cleanParams(e){var t,a,r,n,i=[],o={};for(t=e.length-1;t>=0;t--)a=e[t],r=a[0],r!=s_plain_obj&&o.hasOwnProperty(r)||(n=a[1],("aplus"==r||n)&&(i.unshift([r,n]),o[r]=1));return i}function cleanParamsForWindvane(e){var t,a,r,n,i=[],o={logtype\:!0,cache\:!0,scr\:!0,"spm-cnt"\:!0};for(t=e.length-1;t>=0;t--)a=e[t],r=a[0],n=a[1],util.isStartWith(r,s_plain_obj)||o[r]||i.unshift([r,n]);return i}function tblogSend(e,t){var a,r;if(t){if(isWindVane&&isTerminal){r=cleanParamsForWindvane(cleanParams(t));var n,i={},o=getSPMFromUrl(page_referrer),s=isOnePage(),c=s.split("|"),l=c[0],u=c[1]?c[1]\:"";try{a=arr2obj(r),n=JSON.stringify(a),"{}"==n&&(n="")}catch(m){n=""}i.functype="2001",i.urlpagename=u,i.url=loc.href,i.spmcnt=(spm_ab||"0.0")+".0.0",i.spmpre=o||"",i.lzsid="",i.cna=acookie_cna||"",i.extendargs=n,i.isonepage=l,WindVane.call("WVTBUserTrack","toUT",i),win[s_goldlog].windVaneData=i}return isUseLSProxy()?useLSProxy({url\:makeUrl(e,t),js\:js_fdc_lsproxy,referrer\:loc.href})\:goldlog.send(e,t)}}function mkPlainKey(){return s_plain_obj+Math.random()}function wp_bucketId(e,t){var a,r=2146271213;for(a=0;a<e.length;a++)r=(r<<5)+r+e.charCodeAt(a);return(65535&r)%t}function getSPMFromUrl(e){var t,a=e.match(new RegExp("\\\\?.*spm=([\\\\w\\\\.\\\\-\\\\*/]+)"));return a&&(t=a[1])&&5==t.split(".").length?t\:null}function ifAdd(e,t){var a,r,n,i,o=t.length;for(a=0;o>a;a++)r=t[a],n=r[0],i=r[1],i&&e.push([n,i])}function init_loadScripts(){var e=(new Date).getTime(),t=Math.floor(e/72e5);Math.random()<.01&&addScript(url_alicdn+"/alilog/stat/a.js?t="+t);var a="laiwang",r="/ilw/a/lwlog.js?v=140709";isContain(loc.href.split("?")[0],a)&&addScript(url_alicdn+r);var n="/alilog/mlog/xwj_heat.js?v=151116b",i=getMetaRateAhot()||CONFIG.RATE.AHOT_SAMPLING;(Math.random()<i||isAhot||CONFIG.DEBUG.AHOT)&&addScript(url_alicdn+n),ms_data_instance_id&&ms_prototype_id&&ms_prototype_id.match(/^[124]$/)&&ms_data_shop_id&&addScriptFromFDC("wp-beacon.js?v=131014"),util.DOMReady(function(){setTimeout(function(){addScript("//g.alicdn.com/secdev/entry/index.js?t="+t)},1e3)}),util.onload(function(){var e=url_alicdn+"/pecdn/mlog/agp_heat.min.js?t="+t;addScript(e)})}function compareVersion(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var a=0;a<e.length||a<t.length;a++){var r=parseInt(e[a],10),n=parseInt(t[a],10);if(window.isNaN(r)&&(r=0),window.isNaN(n)&&(n=0),n>r)return-1;if(r>n)return 1}return 0}function callback(e,t){isAndroid&&compareVersion(osVersion,"2.4.0")<0?setTimeout(function(){e&&e(t)},1)\:e&&e(t)}function init_windVane(){var WV_Core={call\:function(e,t,a,r,n,i){var o,s;return lib.promise&&(lib.promise.deferred?s=lib.promise.deferred()\:lib.promise.defer&&(s=lib.promise.defer())),o=i>0?setTimeout(function(){WV_Core.onFailure(o,{ret\:"TIMEOUT"})},i)\:WV_Private.getSid(),a.sid=o,WV_Private.registerCall(o,r,n,s),isAndroid?compareVersion(wvVersion,"2.7.0")>=0?WV_Private.callMethodByPrompt(e,t,WV_Private.buildParam(a),o+"")\:WindVane_Native&&WindVane_Native.callMethod&&WindVane_Native.callMethod(e,t,WV_Private.buildParam(a),o+"")\:isIOS&&WV_Private.callMethodByIframe(e,t,WV_Private.buildParam(a),o+""),s?s.promise()\:void 0},fireEvent\:function(e,t){var a=doc.createEvent("HTMLEvents");a.initEvent(e,!1,!0),a.param=WV_Private.parseParam(t),doc.dispatchEvent(a)},getParam\:function(e){return WV_Private.params[PARAM_PREFIX+e]||""},onSuccess\:function(e,t){clearTimeout(e);var a=WV_Private.unregisterCall(e),r=a.success,n=a.deferred,i=WV_Private.parseParam(t);callback(function(e){r&&r(e),n&&n.resolve(e)},i.value||i),WV_Private.onComplete(e)},onFailure\:function(e,t){clearTimeout(e);var a=WV_Private.unregisterCall(e),r=a.failure,n=a.deferred,i=WV_Private.parseParam(t);callback(function(e){r&&r(e),n&&n.reject(e)},i),WV_Private.onComplete(e)}},WV_Private={params\:{},buildParam\:function(e){return e&&"object"==typeof e?JSON.stringify(e)\:e||""},parseParam\:function(str){var obj;if(str&&"string"==typeof str)try{obj=JSON.parse(str)}catch(e){obj=eval("("+str+")")}else obj=str||{};return obj},getSid\:function(){return Math.floor(Math.random()*(1<<50))+""+inc++},registerCall\:function(e,t,a,r){t&&(callbackMap[SUCCESS_PREFIX+e]=t),a&&(callbackMap[FAILURE_PREFIX+e]=a),r&&(callbackMap[DEFERRED_PREFIX+e]=r)},unregisterCall\:function(e){var t=SUCCESS_PREFIX+e,a=FAILURE_PREFIX+e,r=DEFERRED_PREFIX+e,n={success\:callbackMap[t],failure\:callbackMap[a],deferred\:callbackMap[r]};return delete callbackMap[t],delete callbackMap[a],n.deferred&&delete callbackMap[r],n},useIframe\:function(e,t){var a=IFRAME_PREFIX+e,r=iframePool.pop();r||(r=doc.createElement("iframe"),r.setAttribute("frameborder","0"),r.style.cssText="width\:0;height\:0;border\:0;display\:none;"),r.setAttribute("id",a),r.setAttribute("src",t),r.parentNode||setTimeout(function(){doc.body.appendChild(r)},5)},retrieveIframe\:function(e){var t=IFRAME_PREFIX+e,a=doc.querySelector("#"+t);iframePool.length>=iframeLimit?doc.body.removeChild(a)\:iframePool.push(a)},callMethodByIframe\:function(e,t,a,r){var n={"selfParam=1"\:1,sid\:this.parseParam(a).sid};n=this.buildParam(n);var i=LOCAL_PROTOCOL+"\://"+e+"\:"+r+"/"+t+"?"+n;this.params[PARAM_PREFIX+r]=a,this.useIframe(r,i)},callMethodByPrompt\:function(e,t,a,r){var n=LOCAL_PROTOCOL+"\://"+e+"\:"+r+"/"+t+"?"+a,i=WV_PROTOCOL+"\:";this.params[PARAM_PREFIX+r]=a,window.prompt(n,i)},onComplete\:function(e){isIOS&&this.retrieveIframe(e),delete this.params[PARAM_PREFIX+e]}};for(var key in WV_Core)WV_Core.hasOwnProperty(key)&&(win[s_goldlog][key]=WindVane[key]=WV_Core[key])}function addScript(e,t){var a="script",r=doc.createElement(a);r.type="text/javascript",r.async=!0,r.src=is_https?t||e\:e;var n=doc.getElementsByTagName(a)[0];n.parentNode.insertBefore(r,n)}function addScriptFromFDC(e){var t="//assets.alicdn.com/s/fdc/",a="//assets.alicdn.com/s/fdc/";addScript(t+e,a+e)}function createIframe(e,t){var a=document.createElement("iframe");a.style.width="1px",a.style.height="1px",a.style.position="absolute",a.style.display="none",a.src=e,t&&(a.name=t);var r=doc.getElementsByTagName("body")[0];return r.appendChild(a),a}function checkLS(){var e=!1;try{"localStorage"in win&&win.localStorage&&(localStorage.setItem("test","test"),localStorage.removeItem("test"),e=!0)}catch(t){}return e}function isUseLSProxy(){if(CONFIG.DEBUG.LS_PROXY)return!0;var e=navigator.userAgent;if(is_ali_app)return!1;var t=e.split(" Safari/");return 2!=t.length?!1\:checkLS()&&win.postMessage&&t[1].match(/[\\d\\.]+/)&&e.indexOf("AppleWebKit")>-1&&e.match(/\\bVersion\\/\\d+/)&&!e.match(/\\bChrome\\/\\d+/)&&!e.match(/TencentTraveler|QQBrowser/)&&!e.match(/UCBrowser|UCWEB/)}function useLSProxy(e){var t="//mmstat.alicdn.com/aplus-proxy.html?v=20130115";createIframe(t,JSON.stringify(e)),win.addEventListener&&win.JSON&&win.addEventListener("message",function(e){function t(){var e=hostsname.split("."),t=e.length;return t>1?e[t-2]+"."+e[t-1]\:hostsname}var a=e.data;try{a=JSON.parse(a)}catch(r){return}if(a[0]&&"cna"==a[0].k)for(var n,i,o,s=0,c=a.length;c>s;s++)n=a[s],o=n.k,i=encodeURIComponent(o)+"="+("cna"==o?n.v\:encodeURIComponent(n.v))+"; domain=."+t()+"; path=/; expires="+new Date(n.t).toGMTString(),doc.cookie=i})}function makeUrl(e,t){var a=-1==e.indexOf("?")?"?"\:"&",r=t?isArray(t)?arr2param(t)\:obj2param(t)\:"";return r?e+a+r\:e}function isDpp(){return isContain(mms.getExParams(),"atp_isdpp")}function inAntiSpamWhiteList(){for(var e=!1,t=["item.taobao.com","detail.tmall.com","list.tmall.com","s.taobao.com","list.taobao.com","tw.taobao.com","detail.tmall.hk","chaoshi.tmall.com"],a=0;a<t.length;a++){var r=t[a];if(hostsname.indexOf(r)>-1){e=!0;break}}return isDpp()&&(e=!0),e}function chkFPPage(){return!isTerminal&&!is_ali_app&&!/iPhone|iPad|iPod|Android/i.test(ua)}function try2AddFingerPrint(e){if(chkFPPage()){var t,a,r=require("./lib/fingerprint").get(),n=["fp","fp2"];for(t=0;t<n.length;t++)a=n[t],r.hasOwnProperty(a)&&e.push([a,r[a]])}}var script_name="aplus_v2";require("./lib/client");var win=window,doc=document,time_start=(new Date).getTime(),s_aplus_queue="_ap",_k="g_tb_aplus_loaded",_launch="g_tb_aplus_launch",url_alicdn="//g.alicdn.com";if(win[s_aplus_queue]||(win[s_aplus_queue]=[]),!doc.getElementsByTagName("body").length)return void setTimeout(arguments.callee,50);if(!win[_k]){win[_k]=1;var s_goldlog="goldlog",goldlog=win[s_goldlog]||{};win[s_goldlog]=goldlog;var js_fdc_lsproxy=url_alicdn+"/alilog/mlog/lsproxy.js?v=20150514",_ali_analytics="ali_analytics",util=require("./lib/util"),isContain=util.isContain,m_rule=require("./lib/rule"),mms=require("./lib/misc"),f_makePageId=require("./lib/makeid").makePageId,st_page_id,m_config=require("./config"),CONFIG=m_config.COMFIG,KEY=m_config.KEY,VERSION=CONFIG.VERSION.DEFAULT,loc=location,loc_protocol=loc.protocol,is_https="https\:"==loc_protocol,is_in_iframe=parent!==win.self,use_protocol=is_https?loc_protocol\:"http\:",default_ab="0.0",hostsname=loc.hostname,isAhot=getMetaAhot(),isPad=/TB\\-PD/i.test(navigator.userAgent),isTerminal=isPad?!0\:getMetaTerminal(),tblog_beacon_base=use_protocol+"//log.mmstat.com/",hjlj_beacon_base=is_https?tblog_beacon_base\:use_protocol+(isTerminal?"//wgo.mmstat.com/"\:"//gm.mmstat.com/"),tblog_beacon_url=tblog_beacon_base+m_rule.getBeaconSrc(loc.hostname,isTerminal,is_in_iframe)+".gif",tblog_data=[["logtype",is_in_iframe?0\:1]],tblog_extra_data=[],page_url=loc.href,loc_hash=loc.hash,page_referrer=doc.referrer,is_login_page=is_https&&(page_url.indexOf("login.taobao.com")>=0||page_url.indexOf("login.tmall.com")>=0),s_false=!1,s_true=!0,s_plain_obj="\:\:-plain-\:\:",s_SPM_ATTR_NAME="data-spm",s_SPM_DATA_PROTOCOL="data-spm-protocol",s_GOLDMINER_QUEUE="goldlog_queue",s_pv_id_key="g_aplus_pv_id",pvid=makePVId(),acookie_cna=getCookie("cna"),_microscope_data={},_microscope_data_params,_atp_beacon_data={},_atp_beacon_data_params,site_instance_id_or_shop_id,ms_data_shop_id,ms_data_instance_id,ms_data_page_id,ms_data_siteCategoryId,ms_prototype_id,wh_in_page=s_false,spm_a=win._SPM_a,spm_b=win._SPM_b,spm_protocol,spm_ab,page_global_spm_id_origin,page_global_is_wangpu,is_head_has_meta_microscope_data=s_false,ua=navigator.userAgent,lib=win.lib||(win.lib={}),isIOS=/iPhone|iPad|iPod/i.test(ua),isAndroid=/Android/i.test(ua),isWindVane=/WindVane/i.test(ua),osVersion=ua.match(/(?\:OS|Android)[\\/\\s](\\d+[._]\\d+(?\:[._]\\d+)?)/i),wvVersion=ua.match(/WindVane[\\/\\s](\\d+[._]\\d+[._]\\d+)/),WindVane={},WindVane_Native=win.WindVane_Native,callbackMap={},inc=1,iframePool=[],iframeLimit=3,LOCAL_PROTOCOL="hybrid",WV_PROTOCOL="wv_hybrid",IFRAME_PREFIX="iframe_",SUCCESS_PREFIX="suc_",FAILURE_PREFIX="err_",DEFERRED_PREFIX="defer_",PARAM_PREFIX="param_",waitingMeta=getMetaWaiting(),hasWaitingMeta=1==waitingMeta,m_log=require("./lib/log"),is_ali_app;ua.match(/AliApp\\(([A-Z\\-]+)\\/([\\d\\.]+)\\)/i)&&(is_ali_app=!0);var nameStorage=require("./lib/nameStorage").nameStorage;if(page_referrer=doc.referrer||nameStorage.getItem(KEY.NAME_STORAGE.REFERRER)||"",osVersion=osVersion?(osVersion[1]||"0.0.0").replace(/_/g,".")\:"0.0.0",wvVersion=wvVersion?(wvVersion[1]||"0.0.0").replace(/_/g,".")\:"0.0.0",goldlog.version=VERSION,goldlog.pvid=pvid,goldlog.referrer=page_referrer,goldlog._d={},goldlog._microscope_data=_microscope_data,goldlog.on=util.on,goldlog.DOMReady=util.DOMReady,goldlog.getCookie=getCookie,goldlog.tryToGetAttribute=tryToGetAttribute,goldlog.tryToGetHref=tryToGetHref,goldlog.isNumber=isNumber,goldlog.nameStorage=nameStorage,goldlog.send=function(e,t){var a=new Image,r="_img_"+Math.random(),n=makeUrl(e,t);return win[r]=a,a.onload=a.onerror=function(){win[r]=null},a.src=n,a=null,n},goldlog.emit=function(e,t){var a,r="ued.1.1.2?type=9";return isArray(t)?a=[["_gm\:id",e]].concat(t)\:(a=objSimpleClone(t),a["_gm\:id"]=e),goldlog.send(hjlj_beacon_base+r,a)},goldlog.trace=function(e,t,a,r){goldlog.record(e,t,a,r)},goldlog.record=function(e,t,a,r){r=(arguments[3]||"")+"";var n,i,o="?",s=s_false,c="",l=(spm_ab||"0.0")+".0.0."+pvid,u="//ac.mmstat.com/";if("ac"==e)n=u+"1.gif",s=util.isStartWith(r,"A")&&r.substr(1)==util.makeChkSum(e);else if(util.isStartWith(e,"ac-"))n=u+e.substr(3),s=util.isStartWith(r,"A")&&r.substr(1)==util.makeChkSum(e);else if(util.isStartWith(e,"/"))s=util.isStartWith(r,"H")&&r.substr(1)==util.makeChkSum(e),n=hjlj_beacon_base+e.substr(1),i=s_true,c+="&spm-cnt="+l;else{if(!util.isEndWith(e,".gif"))return s_false;n=tblog_beacon_base+e}if(!s&&"%"!=r&&util.makeChkSum(page_url)!=r)return s_false;if(st_page_id=st_page_id||f_makePageId(),st_page_id&&(a+=(a?"&"\:"")+"st_page_id="+st_page_id),n+=o+"cache="+makeCacheNum()+"&gmkey="+encodeURIComponent(t)+"&gokey="+encodeURIComponent(a)+"&cna="+acookie_cna+"&isbeta="+VERSION+c,i&&(n+="&logtype=2"),isWindVane&&isTerminal){var m,d={},p={gmkey\:t,gokey\:a,isbeta\:VERSION},g=isOnePage(),f=g.split("|"),_=f[0],h=f[1]?f[1]\:"";try{m=JSON.stringify(p),"{}"==m&&(m="")}catch(b){m=""}d.functype="2101",d.logkey=e,d.logkeyargs=m,d.urlpagename=h,d.url=loc.href,d.cna=acookie_cna||"",d.extendargs="",d.isonepage=_,WindVane.call("WVTBUserTrack","toUT",d)}return isUseLSProxy()?useLSProxy({url\:n,js\:js_fdc_lsproxy,referrer\:loc.href})\:goldlog.send(n)},goldlog.launch=function(e,t){if(!win[_launch]||t){win[_launch]=s_true;var a,r,n=VERSION,i=mms.getExParams(),o=tblog_data.slice(0);if(hasWaitingMeta&&(n=CONFIG.VERSION.MANUAL,e&&e.isWait&&(n=CONFIG.VERSION.MANUAL_TIMEOUT)),e)for(a in e)e.hasOwnProperty(a)&&(r=e[a])&&o.push([a,r]);o.push([mkPlainKey(),i]),o.push(["isbeta",n]),o=o.concat(tblog_extra_data);var s=makeCacheNum();m_log.updateKey(o,"cache",s);var c;if(t){pvid=makePVId(),goldlog.pvid=pvid,c=t.page_id,o.push([s_plain_obj,t.gokey]),m_log.updateSPMCnt(o,c,pvid),m_log.updateSPMUrl(o,pvid);var l=goldlog.spm_ab?goldlog.spm_ab[1]\:"";l&&(l=c?l.split("/")[0]+"/"+c\:l.split("/")[0],spm_ab=goldlog.spm_ab[0]+"."+l,goldlog.spm_ab[1]=l)}if(page_url!=location.href&&(page_referrer=page_url,page_url=location.href),t&&t.referrer&&(page_referrer=t.referrer),page_referrer&&m_log.updateKey(o,"pre",page_referrer),goldlog.req=win.g_aplus_pv_req=tblogSend(tblog_beacon_url,o),inAntiSpamWhiteList()||CONFIG.DEBUG.ANTI_SPAM){var u=param2obj(i).asid,m=obj2param({asid\:u,pre\:page_referrer});goldlog.record("/ahot.1.9","",m,"H1733420")}}},goldlog.sendPV=m_log.sendPV,win.goldminer={record\:goldlog.emit},win[s_GOLDMINER_QUEUE]&&isArray(win[s_GOLDMINER_QUEUE])||(win[s_GOLDMINER_QUEUE]=[]),isTerminal||init_watchGoldlogQueue(),init_getMetaMicroscopeData(),init_getGlobalSPMId(),init_aplusQueue(),init_loadScripts(),isWindVane&&isTerminal&&init_windVane(),"aplus_int"!=script_name){var etag=require("./lib/etag");etag.init(acookie_cna),tblogSend=etag.inject(tblogSend,mkPlainKey)}!function(){var e,t,a,r=getCookie("tracknick"),n=getCookie("thw"),i=/\\btanx\\.com$/.test(hostsname)?getCookie("cnaui")\:"",o=getSPMFromUrl(page_url),s=getSPMFromUrl(page_referrer),c=win[_ali_analytics]&&win[_ali_analytics].ua&&win[_ali_analytics].ua.ua_info||{};if(loc_hash&&0===loc_hash.indexOf("#")&&(loc_hash=loc_hash.substr(1)),!is_in_iframe||m_rule.is_iframeExcption(page_referrer)){("3"==ms_prototype_id||"5"==ms_prototype_id)&&(t=getCookie("t"),a=t?wp_bucketId(t,20)\:""),e=[[mkPlainKey(),"title="+escape(doc.title)],["pre",page_referrer],["cache",makeCacheNum()],["scr",screen.width+"x"+screen.height]],acookie_cna&&e.push([mkPlainKey(),"cna="+acookie_cna]),r&&e.push([mkPlainKey(),"nick="+r]),ifAdd(e,[["wm_pageid",ms_data_page_id],["wm_prototypeid",ms_prototype_id],["wm_sid",ms_data_shop_id],["spm-url",o],["spm-pre",s],["cnaui",i]]),e.push(["spm-cnt",(spm_ab||"0.0")+".0.0."+pvid]),tblog_data=tblog_data.concat(e),ifAdd(tblog_extra_data,[["thw",n],["bucket_id",a],["urlokey",loc_hash],["wm_instanceid",ms_data_instance_id],["p",c.p],["o",c.o],["b",c.b],["s",c.s],["w",c.w],["mx",c.mx],["ism",c.ism],["st_page_id",st_page_id||f_makePageId()],["lver",goldlog.lver],["jsver",script_name]]),try2AddFingerPrint(tblog_extra_data),hasWaitingMeta?setTimeout(function(){goldlog.launch({isWait\:!0})},CONFIG.TIME.MANUAL_TIMEOUT)\:goldlog.launch();var l=spm_ab.split(".")[0];is_in_iframe||isTerminal||"a21bo.7724922"!=spm_ab&&"2013"!=l&&"a220o"!=l||createIframe("//cookiemapping.wrating.com/link.html")}if(is_in_iframe){getMetaAtpData();var u,m=_atp_beacon_data.on,d="1"==m?"//ac.mmstat.com/y.gif"\:tblog_beacon_url;d=isContain(hostsname,"wrating.com")?tblog_beacon_url\:d,"1"!=m&&"2"!=m||!(u=_atp_beacon_data.chksum)||u!==util.makeChkSum(page_url).toString()||tblogSend(d,tblog_data)}util.on(win,"beforeunload",function(){recordValInWindowName()})}();var time_end=(new Date).getTime();setTimeout(function(){Math.random()>1e-4||goldlog.emit("global_sample",{type\:"timer",t\:time_end-time_start})},1)}}(),function(){function e(e){var t,a;try{return t=[].slice.call(e)}catch(r){t=[],a=e.length;for(var n=0;a>n;n++)t.push(e[n]);return t}}function t(e,t){return e&&e.getAttribute?e.getAttribute(t)||""\:""}function a(e,t,a){if(e&&e.setAttribute)try{e.setAttribute(t,a)}catch(r){}}function r(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(r){a(e,t,"")}}function n(e){var t,a=e.match(new RegExp("\\\\?.*spm=([\\\\w\\\\.\\\\-\\\\*/]+)"));return a&&(t=a[1])&&5==t.split(".").length?t\:null}function i(e,t){return 0===e.indexOf(t)}function o(e){for(var t=["javascript\:","tel\:","sms\:","mailto\:","tmall\://"],a=0,r=t.length;r>a;a++)if(i(e,t[a]))return!0}function s(e){return"string"==typeof e}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(e){return"number"==typeof e}function u(e,t){return e.indexOf(t)>=0}function m(e,t){return e.indexOf(t)>-1}function d(e,t){for(var a=0,r=t.length;r>a;a++)if(m(e,t[a]))return ve;return Ee}function p(e){return s(e)?e.replace(/^\\s+|\\s+$/g,"")\:""}function g(e){return"undefined"==typeof e}function f(e,t){var a=t||"";if(e)try{a=decodeURIComponent(e)}catch(r){}return a}function _(){return de=de||he.getElementsByTagName("head")[0],pe||(de?pe=de.getElementsByTagName("meta")\:[])}function h(e,t){var a,r,n=e.split(";"),i=n.length;for(a=0;i>a;a++)r=n[a].split("="),t[p(r[0])||Fe]=f(p(r.slice(1).join("=")))}function b(){var e,a,r,n=_(),i=n.length;for(e=0;i>e;e++)if(a=n[e],"aplus-terminal"==t(a,"name")){r=t(a,"content");break}return r}function v(){var e,a,r,n,i=_();for(e=0,a=i.length;a>e;e++)r=i[e],n=t(r,"name"),n==Xe&&(ge=t(r,ze))}function E(e){var a,r,n,o,s,c,l=_();if(l)for(a=0,r=l.length;r>a;a++)if(o=l[a],s=t(o,"name"),s==e)return le=t(o,"content"),le.indexOf("\:")>=0&&(n=le.split("\:"),ge="i"==n[0]?"i"\:"u",le=n[1]),c=t(o,ze),c&&(ge="i"==c?"i"\:"u"),ue=i(le,"110"),ce=ue?ke\:le,ve;return Ee}function S(){var e,a,r,n=_(),i=n.length;for(e=0;i>e;e++)if(a=n[e],"aplus-touch"==t(a,"name")){r=t(a,"content");break}return r}function A(){return Math.floor(268435456*Math.random()).toString(16)}function y(e){var t,a,r=[];for(t in e)e.hasOwnProperty(t)&&(a=""+e[t],r.push(i(t,Fe)?a\:t+"="+encodeURIComponent(a)));return r.join("&")}function T(e){var t,a,r,n=[],o=e.length;for(r=0;o>r;r++)t=e[r][0],a=e[r][1],n.push(i(t,Fe)?a\:t+"="+encodeURIComponent(a));return n.join("&")}function P(e){var t;try{t=p(e.getAttribute("href",2))}catch(a){}return t||""}function M(e,t,a){return"tap"==t?void w(e,a)\:void e[We]((Le?"on"\:"")+t,function(e){e=e||_e.event;var t=e.target||e.srcElement;a(t)},Ee)}function w(e,t){var a="ontouchend"in document.createElement("div"),r=a?"touchstart"\:"mousedown";M(e,r,function(e){t&&t(e)})}function R(e){var t=_e.KISSY;t?t.ready(e)\:_e.jQuery?jQuery(he).ready(e)\:"complete"===he.readyState?e()\:M(_e,"load",e)}function I(e,t){var a,r=new Image,n="_img_"+Math.random(),i=-1==e.indexOf("?")?"?"\:"&",o=t?c(t)?T(t)\:y(t)\:"";return _e[n]=r,r.onload=r.onerror=function(){_e[n]=null},r.src=a=o?e+i+o\:e,r=null,a}function O(){var e;if(xe&&!Je&&(e=Se.match(/^[^?]+\\?[^?]*spm=([^&#?]+)/),e&&(Je=e[1]+"_")),!g(ce))return ce;if(_e._SPM_a&&_e._SPM_b&&(oe=_e._SPM_a.replace(/^{(\\w*|-\\/)}$/g,"$1"),se=_e._SPM_b.replace(/^{(\\w*|-\\/)}$/g,"$1"),oe&&"-"!=oe&&se&&"-"!=se))return Ge=ve,ce=oe+"."+se,v(),ce;if(E(Xe)||E("spm-id"),!ce)return Ce=!0,ce=ke,ke;var a,r,n=he.getElementsByTagName("body");return n=n&&n.length?n[0]\:null,n&&(a=t(n,Xe),a&&(r=ce.split("."),ce=r[0]+"."+a)),m(ce,".")||(Ce=!0,ce=ke),ce}function x(a,r){var n,i,o,s,c,l,u,m,d,p=[];for(n=e(a.getElementsByTagName("a")),i=e(a.getElementsByTagName("area")),s=n.concat(i),u=0,m=s.length;m>u;u++){for(l=!1,c=o=s[u];(c=c.parentNode)&&c!=a;)if(t(c,Xe)){l=!0;break}l||(d=t(o,Ke),r||"t"==d?r&&"t"==d&&p.push(o)\:p.push(o))}return p}function N(e,a,r,n){var o,c,m,d,p,g,f,_,h,b,v,E,S,A,y,T,M,w;if(a=a||e.getAttribute(Xe)||"",a&&(o=x(e,n),0!==o.length)){if(m=a.split("."),T=i(a,"110")&&3==m.length,T&&(M=m[2],m[2]="w"+(M||"0"),a=m.join(".")),s(E=O())&&E.match(/^[\\w\\-\\*]+(\\.[\\w\\-\\*\\/]+)?$/))if(u(a,".")){if(!i(a,E)){for(d=E.split("."),m=a.split("."),A=0,S=d.length;S>A;A++)m[A]=d[A];a=m.join(".")}}else u(E,".")||(E+=".0"),a=E+"."+a;if(a.match&&a.match(/^[\\w\\-\\*]+\\.[\\w\\-\\*\\/]+\\.[\\w\\-\\*\\/]+$/)){var R=n?Ye\:$e;for(w=parseInt(t(e,R))||0,y=0,p=w,S=o.length;S>y;y++)c=o[y],g=P(c),(n||g)&&(T&&c.setAttribute(Ze,M),f=c.getAttribute(et),f&&z(f)?j(c,f,r)\:(h=H(c.parentNode),h.a_spm_ab?(v=h.a_spm_ab,b=h.ab_idx)\:(v=void 0,p++,b=p),_=W(c)||b,n&&(_="at"+((l(_)?1e3\:"")+_)),f=v?a+"-"+v+"."+_\:a+"."+_,j(c,f,r)));e.setAttribute(R,p)}}}function k(e){var t,a=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],r=a.length;for(t=0;r>t;t++)if(-1!=e.indexOf(a[t]))return!0;return!1}function C(e){return e?!!e.match(/^[^\\?]*\\balipay\\.(?\:com|net)\\b/i)\:Ee}function F(e){return e?!!e.match(/^[^\\?]*\\balipay\\.(?\:com|net)\\/.*\\?.*\\bsign=.*/i)\:Ee}function D(e){for(var a;(e=e.parentNode)&&e.tagName!=Ve;)if(a=t(e,ze))return a;return""}function V(e,t){if(e&&/&?\\bspm=[^&#]*/.test(e)&&(e=e.replace(/&?\\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\\?&/,"?").replace(/\\?$/,"")),!t)return e;var a,r,n,i,o,s,c,l="&";if(-1!=e.indexOf("#")&&(n=e.split("#"),e=n.shift(),r=n.join("#")),i=e.split("?"),o=i.length-1,n=i[0].split("//"),n=n[n.length-1].split("/"),s=n.length>1?n.pop()\:"",o>0&&(a=i.pop(),e=i.join("?")),a&&o>1&&-1==a.indexOf("&")&&-1!=a.indexOf("%")&&(l="%26"),e=e+"?spm="+Je+t+(a?l+a\:"")+(r?"#"+r\:""),c=m(s,".")?s.split(".").pop().toLowerCase()\:""){if({png\:1,jpg\:1,jpeg\:1,gif\:1,bmp\:1,swf\:1}.hasOwnProperty(c))return 0;!a&&1>=o&&(r||{htm\:1,html\:1,php\:1,aspx\:1}.hasOwnProperty(c)||(e+="&file="+s))}return e}function L(e){return e&&Se.split("#")[0]==e.split("#")[0]}function j(e,a,r){if(e.setAttribute(et,a),!r&&!t(e,Qe)&&(me=_e.g_aplus_pv_id,me&&(a+="."+me),me||ce&&ce!=ke)){var n=P(e),s="i"==(t(e,ze)||D(e)||ge),c=Ie+"tbspm.1.1?logtype=2&spm=";n&&!k(n)&&(s||!(i(n,"#")||L(n)||o(n.toLowerCase())||C(n)||F(n)))&&(s?(c+=a+"&url="+encodeURIComponent(n)+"&cache="+A(),fe==e&&I(c))\:r||(n=V(n,a))&&U(e,n))}}function U(e,t){var a,r=e.innerHTML;r&&-1==r.indexOf("<")&&(a=he.createElement("b"),a.style.display="none",e.appendChild(a)),e.href=t,a&&e.removeChild(a)}function W(e){var a;return Ce?a="0"\:(a=t(e,Xe),a&&a.match(/^d\\w+$/)||(a="")),a}function G(e){for(var t,a,r=e;e&&e.tagName!=De&&e.tagName!=Ve&&e.getAttribute;){if(a=e.getAttribute(Xe)){t=a,r=e;break}if(!(e=e.parentNode))break}return t&&!/^[\\w\\-\\.\\/]+$/.test(t)&&(t="0"),{spm_c\:t,el\:r}}function H(e){for(var a,r={},n="";e&&e.tagName!=De&&e.tagName!=Ve;){if(!n&&(n=t(e,tt))){a=parseInt(t(e,"data-spm-ab-max-idx"))||0,r.a_spm_ab=n,r.ab_idx=++a,e.setAttribute("data-spm-ab-max-idx",a);break}if(t(e,Xe))break;e=e.parentNode}return r}function B(e){var t;return e&&(t=e.match(/&?\\bspm=([^&#]*)/))?t[1]\:""}function X(e,t){var a=P(e),r=B(a),n=null,i=ce&&2==ce.split(".").length;return i?(n=[ce,0,W(e)||0],void j(e,n.join("."),t))\:void(a&&r&&(a=a.replace(/&?\\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\\?&/,"?").replace(/\\?$/,"").replace(/\\?#/,"#"),U(e,a)))}function z(e){var t=e.split(".");return t[0]+"."+t[1]==ce}function q(e,a){fe=e,Ge&&J();var r,n,i=t(e,et);if(i&&z(i))j(e,i,a);else{if(r=G(e.parentNode),n=r.spm_c,!n)return void X(e,a);Ce&&(n="0"),N(r.el,n,a),N(r.el,n,a,!0)}}function Q(t){if(t&&1==t.nodeType){r(t,$e),r(t,Ye);var a,n=e(t.getElementsByTagName("a")),i=e(t.getElementsByTagName("area")),o=n.concat(i),s=o.length;for(a=0;s>a;a++)r(o[a],et)}}function K(e){var t=e.parentNode;if(!t)return"";var a=e.getAttribute(Xe),r=G(t),n=r.spm_c||0;n&&-1!=n.indexOf(".")&&(n=n.split("."),n=n[n.length-1]);var i=ce+"."+n,o=Ne[i]||0;return o++,Ne[i]=o,a=a||o,i+".i"+a}function $(e){var a,r=e.tagName;return me=_e.g_aplus_pv_id,"A"!=r&&"AREA"!=r?a=K(e)\:(q(e,ve),a=t(e,et)),a=(a||"0.0.0.0").split("."),{a\:a[0],b\:a[1],c\:a[2],d\:a[3],e\:me}}function Y(e,t){if(t||(t=he),he.evaluate)return t.evaluate(e,he,null,9,null).singleNodeValue;for(var a,r=e.split("/");!a&&r.length>0;)a=r.shift();var n,i=/^.+?\\[@id="(.+?)"]$/i,o=/^(.+?)\\[(\\d+)]$/i;return(n=a.match(i))?t=t.getElementById(n[1])\:(n=a.match(o))&&(t=t.getElementsByTagName(n[1])[parseInt(n[2])-1]),t?0===r.length?t\:Y(r.join("/"),t)\:null}function J(){var e,t,r,n={};for(e in He)He.hasOwnProperty(e)&&(t=Y(e),t&&(n[e]=1,r=He[e],a(t,Xe,("A"==t.tagName?r.spmd\:r.spmc)||"")));for(e in n)n.hasOwnProperty(e)&&delete He[e]}function Z(){if(!Be){if(!_e.spmData)return void(Oe||setTimeout(arguments.callee,100));Be=ve;var e,t,a,r,n=_e.spmData.data;if(n&&c(n)){for(e=0,t=n.length;t>e;e++)a=n[e],r=a.xpath,r=r.replace(/^id\\("(.+?)"\\)(.*)/g,'//*[@id="$1"]$2'),He[r]={spmc\:a.spmc,spmd\:a.spmd};J()}}}function ee(){\x0avar e,a,r,n,i=he.getElementsByTagName("iframe"),o=i.length;for(a=0;o>a;a++)e=i[a],!e.src&&(r=t(e,qe))&&(n=$(e),n?(n=[n.a,n.b,n.c,n.d,n.e].join("."),e.src=V(r,n))\:e.src=r)}function te(){function e(){t++,t>10&&(a=3e3),ee(),setTimeout(e,a)}var t=0,a=500;e()}function ae(e,t){var a,r,o="gostr",s="locaid",c={};if(h(t,c),a=c[o],r=c[s],a&&r){i(a,"/")&&(a=a.substr(1));var l=$(e),u=[l.a,l.b,l.c,r].join("."),m=a+"."+u,d=["logtype=2","cache="+Math.random(),"autosend=1","spm-cnt="+[l.a,l.b].join(".")+".0.0"],p=n(Se);p&&d.push("spm-pre="+p);var g;for(g in c)c.hasOwnProperty(g)&&g!=o&&g!=s&&d.push(g+"="+c[g]);d.length>0&&(m+="?"+d.join("&"));var f,_={gmkey\:"",gokey\:d.length>0?d.join("&")\:""};setTimeout(function(){if(we&&_e.goldlog&&_e.goldlog.call&&(f=_e.goldlog.windVaneData)){try{_=JSON.stringify(_),"{}"==_&&(_="")}catch(e){_=""}f.functype="2101",f.logkey="/"+a+"."+u,f.logkeyargs=_,f.extendargs="",delete f.spmcnt,delete f.spmpre,delete f.lzsid,_e.goldlog.call("WVTBUserTrack","toUT",f)}},300),I(Ie+m),e.setAttribute(et,u)}}function re(e){for(var a;e&&e.tagName!=De;){a=t(e,Qe);{if(a){ae(e,a);break}e=e.parentNode}}}function ne(){we&&Re?M(he,"tap",re)\:M(he,"mousedown",re)}function ie(e){for(var t;e&&(t=e.tagName);){if("A"==t||"AREA"==t){q(e,Ee),_e.g_SPM&&(g_SPM._current_spm=$(e));break}if(t==Ve||t==De)break;e=e.parentNode}}var oe,se,ce,le,ue,me,de,pe,ge,fe,_e=window,he=document,be=location,ve=!0,Ee=!1,Se=be.href,Ae=be.protocol,ye="https\:"==Ae,Te=ye?Ae\:"http\:",Pe=be.host,Me=/TB\\-PD/i.test(navigator.userAgent),we=Me?!0\:b(),Re=S(),Ie=Te+(we?"//wgo.mmstat.com/"\:"//gm.mmstat.com/"),Oe=Ee,xe=parent!==_e.self,Ne={},ke="0.0",Ce=!1,Fe="\:\:-plain-\:\:",De="HTML",Ve="BODY",Le=!!he.attachEvent,je="attachEvent",Ue="addEventListener",We=Le?je\:Ue,Ge=Ee,He={},Be=Ee,Xe="data-spm",ze="data-spm-protocol",qe="data-spm-src",Qe="data-spm-click",Ke="data-auto-spmd",$e="data-spm-max-idx",Ye="data-auto-spmd-max-idx",Je="",Ze="data-spm-wangpu-module-id",et="data-spm-anchor-id",tt="data-spm-ab",at=["xiaobai.com","admin.taobao.org","aliloan.com","mybank.cn"],rt=["tmc.admin.taobao.org"];(!d(Pe,at)||d(Pe,rt))&&(R(function(){Oe=ve}),O(),Z(),we||te(),ne(),we&&Re?M(he,"tap",ie)\:(M(he,"mousedown",ie),M(he,"keydown",ie)),_e.g_SPM={resetModule\:Q,anchorBeacon\:q,getParam\:$})}(),function(){function e(e,t,a){e[A]((v?"on"\:"")+t,function(e){e=e||l.event;var t=e.target||e.srcElement;a(e,t)},!1)}function t(){return/&?\\bspm=[^&#]*/.test(location.href)?location.href.match(/&?\\bspm=[^&#]*/gi)[0].split("=")[1]\:""}function a(e,t){if(e&&/&?\\bspm=[^&#]*/.test(e)&&(e=e.replace(/&?\\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\\?&/,"?").replace(/\\?$/,"")),!t)return e;var a,r,n,i,o,s,c,l="&";if(-1!=e.indexOf("#")&&(n=e.split("#"),e=n.shift(),r=n.join("#")),i=e.split("?"),o=i.length-1,n=i[0].split("//"),n=n[n.length-1].split("/"),s=n.length>1?n.pop()\:"",o>0&&(a=i.pop(),e=i.join("?")),a&&o>1&&-1==a.indexOf("&")&&-1!=a.indexOf("%")&&(l="%26"),e=e+"?spm="+t+(a?l+a\:"")+(r?"#"+r\:""),c=s.indexOf(".")>-1?s.split(".").pop().toLowerCase()\:""){if({png\:1,jpg\:1,jpeg\:1,gif\:1,bmp\:1,swf\:1}.hasOwnProperty(c))return 0;!a&&1>=o&&(r||{htm\:1,html\:1,php\:1}.hasOwnProperty(c)||(e+="&file="+s))}return e}function r(e){function t(e){return e=e.replace(/refpos[=(%3D)]\\w*/gi,s).replace(i,"%3D"+r+"%26"+n.replace("=","%3D")).replace(o,r),n.length>0&&(e+="&"+n),e}var a=window.location.href,r=a.match(/mm_\\d{0,24}_\\d{0,24}_\\d{0,24}/i),n=a.match(/[&\\?](pvid=[^&]*)/i),i=new RegExp("%3Dmm_\\\\d+_\\\\d+_\\\\d+","ig"),o=new RegExp("mm_\\\\d+_\\\\d+_\\\\d+","ig");n=n&&n[1]?n[1]\:"";var s=a.match(/(refpos=(\\d{0,24}_\\d{0,24}_\\d{0,24})?(,[a-z]+)?)(,[a-z]+)?/i);return s=s&&s[0]?s[0]\:"",r?(r=r[0],t(e))\:e}function n(t){var a=l.KISSY;a?a.ready(t)\:l.jQuery?jQuery(u).ready(t)\:"complete"===u.readyState?t()\:e(l,"load",t)}function i(e,t){return e&&e.getAttribute?e.getAttribute(t)||""\:""}function o(e){if(e){var t,a=b.length;for(t=0;a>t;t++)if(e.indexOf(b[t])>-1)return!0;return!1}}function s(e,t){if(e&&/&?\\bspm=[^&#]*/.test(e)&&(e=e.replace(/&?\\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\\?&/,"?").replace(/\\?$/,"")),!t)return e;var a,r,n,i,o,s,c,l="&";if(-1!=e.indexOf("#")&&(n=e.split("#"),e=n.shift(),r=n.join("#")),i=e.split("?"),o=i.length-1,n=i[0].split("//"),n=n[n.length-1].split("/"),s=n.length>1?n.pop()\:"",o>0&&(a=i.pop(),e=i.join("?")),a&&o>1&&-1==a.indexOf("&")&&-1!=a.indexOf("%")&&(l="%26"),e=e+"?spm="+t+(a?l+a\:"")+(r?"#"+r\:""),c=s.indexOf(".")>-1?s.split(".").pop().toLowerCase()\:""){if({png\:1,jpg\:1,jpeg\:1,gif\:1,bmp\:1,swf\:1}.hasOwnProperty(c))return 0;!a&&1>=o&&(r||{htm\:1,html\:1,php\:1}.hasOwnProperty(c)||(e+="&__file="+s))}return e}function c(e){if(o(e.href)){var a=i(e,h);if(!a){if(!g)return;var r=g(e),n=[r.a,r.b,r.c,r.d,r.e].join(".");f&&(n=[r.a||"0",r.b||"0",r.c||"0",r.d||"0"].join("."),n=(t()||"0.0.0.0.0")+"_"+n);var c=s(e.href,n);e.href=c,e.setAttribute(h,n)}}e=void 0}var l=window,u=document,m=location,d=(m.href,l._alimm_spmact_on_);if("undefined"==typeof d&&(d=1),1==d&&(d=1),0==d&&(d=0),d){var p=function(){return{a\:0,b\:0,c\:0,d\:0,e\:0}},g=l.g_SPM&&l.g_SPM.getParam?l.g_SPM.getParam\:p,f=!0;try{f=self.location!=top.location}catch(_){}var h="data-spm-act-id",b=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],v=!!u.attachEvent,E="attachEvent",S="addEventListener",A=v?E\:S;e(u,"mousedown",function(e,t){for(var a,r=0;t&&(a=t.tagName)&&5>r;){if("A"==a||"AREA"==a){c(t);break}if("BODY"==a||"HTML"==a)break;t=t.parentNode,r++}}),n(function(){for(var e,n,o=document.getElementsByTagName("iframe"),s=0;s<o.length;s++){e=i(o[s],"mmsrc"),n=i(o[s],"mmworked");var c=g(o[s]),l=[c.a||"0",c.b||"0",c.c||"0",c.d||"0",c.e||"0"].join(".");e&&!n?(f&&(l=[c.a||"0",c.b||"0",c.c||"0",c.d||"0"].join("."),l=t()+"_"+l),o[s].src=a(r(e),l),o[s].setAttribute("mmworked","mmworked"))\:o[s].setAttribute(h,l)}})}}()},{"./config"\:1,"./lib/client"\:3,"./lib/etag"\:5,"./lib/fingerprint"\:6,"./lib/log"\:7,"./lib/makeid"\:8,"./lib/misc"\:9,"./lib/nameStorage"\:10,"./lib/rule"\:11,"./lib/util"\:13}],3\:[function(e,t,a){"use strict";!function(e,t){var a=2,r="ali_analytics";if(!(e[r]&&e[r].ua&&a<=e[r].ua.version)){var n,i,o,s,c,l,u,m,d,p,g,f,_,h,b,v,E,S=e.navigator,A=S.appVersion,y=S&&S.userAgent||"",T=function(e){var t=0;return parseFloat(e.replace(/\\./g,function(){return 0===t++?"."\:""}))},P=function(e,t){var a,r;t[a="trident"]=.1,(r=e.match(/Trident\\/([\\d.]*)/))&&r[1]&&(t[a]=T(r[1])),t.core=a},M=function(e){var t,a;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?\:\\s|\:)?([0-9.]+)/))&&(a=t[1]||t[2])?T(a)\:0},w=function(e){return e||"other"},R=function(a){function r(){for(var e=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["Windows NT 10.0","win10"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]],t=0,r=e.length;r>t;++t)if(-1!==a.indexOf(e[t][0]))return e[t][1];return"other"}function n(t,a,r,n){var i,o=e.navigator.mimeTypes;try{for(i in o)if(o.hasOwnProperty(i)&&o[i][t]==a){if(void 0!==r&&n.test(o[i][r]))return!0;if(void 0===r)return!0}return!1}catch(s){return!1}}var i,o,s,c,l,u,m,d="",p=d,g=d,f=[6,9],_="{{version}}",h="<!--[if IE "+_+"]><s></s><![endif]-->",b=t&&t.createElement("div"),v=[],E={webkit\:void 0,edge\:void 0,trident\:void 0,gecko\:void 0,presto\:void 0,chrome\:void 0,safari\:void 0,firefox\:void 0,ie\:void 0,ieMode\:void 0,opera\:void 0,mobile\:void 0,core\:void 0,shell\:void 0,phantomjs\:void 0,os\:void 0,ipad\:void 0,iphone\:void 0,ipod\:void 0,ios\:void 0,android\:void 0,nodejs\:void 0,extraName\:void 0,extraVersion\:void 0};if(b&&b.getElementsByTagName&&(b.innerHTML=h.replace(_,""),v=b.getElementsByTagName("s")),v.length>0){for(P(a,E),c=f[0],l=f[1];l>=c;c++)if(b.innerHTML=h.replace(_,c),v.length>0){E[g="ie"]=c;break}!E.ie&&(s=M(a))&&(E[g="ie"]=s)}else((o=a.match(/AppleWebKit\\/*\\s*([\\d.]*)/i))||(o=a.match(/Safari\\/([\\d.]*)/)))&&o[1]?(E[p="webkit"]=T(o[1]),(o=a.match(/OPR\\/(\\d+\\.\\d+)/))&&o[1]?E[g="opera"]=T(o[1])\:(o=a.match(/Chrome\\/([\\d.]*)/))&&o[1]?E[g="chrome"]=T(o[1])\:(o=a.match(/\\/([\\d.]*) Safari/))&&o[1]?E[g="safari"]=T(o[1])\:E.safari=E.webkit,(o=a.match(/Edge\\/([\\d.]*)/))&&o[1]&&(p=g="edge",E[p]=T(o[1])),/ Mobile\\//.test(a)&&a.match(/iPad|iPod|iPhone/)?(E.mobile="apple",o=a.match(/OS ([^\\s]*)/),o&&o[1]&&(E.ios=T(o[1].replace("_","."))),i="ios",o=a.match(/iPad|iPod|iPhone/),o&&o[0]&&(E[o[0].toLowerCase()]=E.ios))\:/ Android/i.test(a)?(/Mobile/.test(a)&&(i=E.mobile="android"),o=a.match(/Android ([^\\s]*);/),o&&o[1]&&(E.android=T(o[1])))\:(o=a.match(/NokiaN[^\\/]*|Android \\d\\.\\d|webOS\\/\\d\\.\\d/))&&(E.mobile=o[0].toLowerCase()),(o=a.match(/PhantomJS\\/([^\\s]*)/))&&o[1]&&(E.phantomjs=T(o[1])))\:(o=a.match(/Presto\\/([\\d.]*)/))&&o[1]?(E[p="presto"]=T(o[1]),(o=a.match(/Opera\\/([\\d.]*)/))&&o[1]&&(E[g="opera"]=T(o[1]),(o=a.match(/Opera\\/.* Version\\/([\\d.]*)/))&&o[1]&&(E[g]=T(o[1])),(o=a.match(/Opera Mini[^;]*/))&&o?E.mobile=o[0].toLowerCase()\:(o=a.match(/Opera Mobi[^;]*/))&&o&&(E.mobile=o[0])))\:(s=M(a))?(E[g="ie"]=s,P(a,E))\:(o=a.match(/Gecko/))&&(E[p="gecko"]=.1,(o=a.match(/rv\:([\\d.]*)/))&&o[1]&&(E[p]=T(o[1]),/Mobile|Tablet/.test(a)&&(E.mobile="firefox")),(o=a.match(/Firefox\\/([\\d.]*)/))&&o[1]&&(E[g="firefox"]=T(o[1])));i||(i=r());var S,y,w;if(!n("type","application/vnd.chromium.remoting-viewer")){S="scoped"in t.createElement("style"),w="v8Locale"in e;try{y=e.external||void 0}catch(R){}if(o=a.match(/360SE/))u="360";else if((o=a.match(/SE\\s([\\d.]*)/))||y&&"SEVersion"in y)u="sougou",m=T(o[1])||.1;else if((o=a.match(/Maxthon(?\:\\/)+([\\d.]*)/))&&y){u="maxthon";try{m=T(y.max_version||o[1])}catch(I){m=.1}}else S&&w?u="360se"\:S||w||!/Gecko\\)\\s+Chrome/.test(A)||E.opera||E.edge||(u="360ee")}return(o=a.match(/TencentTraveler\\s([\\d.]*)|QQBrowser\\/([\\d.]*)/))?(u="tt",m=T(o[2])||.1)\:(o=a.match(/LBBROWSER/))||y&&"LiebaoGetVersion"in y?u="liebao"\:(o=a.match(/TheWorld/))?(u="theworld",m=3)\:(o=a.match(/TaoBrowser\\/([\\d.]*)/))?(u="taobao",m=T(o[1])||.1)\:(o=a.match(/UCBrowser\\/([\\d.]*)/))&&(u="uc",m=T(o[1])||.1),E.os=i,E.core=E.core||p,E.shell=g,E.ieMode=E.ie&&t.documentMode||E.ie,E.extraName=u,E.extraVersion=m,E.resolution=e.screen.width+"x"+e.screen.height,E},I=function(e){function t(e){return Object.prototype.toString.call(e)}function a(e,a,r){if("[object Function]"==t(a)&&(a=a(r)),!a)return null;var n={name\:e,version\:""},i=t(a);if(a===!0)return n;if("[object String]"===i){if(-1!==r.indexOf(a))return n}else if(a.exec){var o=a.exec(r);if(o)return o.length>=2&&o[1]?n.version=o[1].replace(/_/g,".")\:n.version="",n}}var r={name\:"other",version\:""};e=(e||"").toLowerCase();for(var n=[["nokia",function(e){return-1!==e.indexOf("nokia ")?/\\bnokia ([0-9]+)?/\:/\\bnokia([a-z0-9]+)?/}],["samsung",function(e){return-1!==e.indexOf("samsung")?/\\bsamsung(?\:[ \\-](?\:sgh|gt|sm))?-([a-z0-9]+)/\:/\\b(?\:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return-1!==e.indexOf("windows phone ")||-1!==e.indexOf("xblwp")||-1!==e.indexOf("zunewp")||-1!==e.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\\biphone\\b|\\biph(\\d)/],["mac","macintosh"],["mi",/\\bmi[ \\-]?([a-z0-9 ]+(?= build|\\)))/],["hongmi",/\\bhm[ \\-]?([a-z0-9]+)/],["aliyun",/\\baliyunos\\b(?\:[\\-](\\d+))?/],["meizu",function(e){return e.indexOf("meizu")>=0?/\\bmeizu[\\/ ]([a-z0-9]+)\\b/\:/\\bm([0-9x]{1,3})\\b/}],["nexus",/\\bnexus ([0-9s.]+)/],["huawei",function(e){var t=/\\bmediapad (.+?)(?= build\\/huaweimediapad\\b)/;return-1!==e.indexOf("huawei-huawei")?/\\bhuawei\\-huawei\\-([a-z0-9\\-]+)/\:t.test(e)?t\:/\\bhuawei[ _\\-]?([a-z0-9]+)/}],["lenovo",function(e){return-1!==e.indexOf("lenovo-lenovo")?/\\blenovo\\-lenovo[ \\-]([a-z0-9]+)/\:/\\blenovo[ \\-]?([a-z0-9]+)/}],["zte",function(e){return/\\bzte\\-[tu]/.test(e)?/\\bzte-[tu][ _\\-]?([a-su-z0-9\\+]+)/\:/\\bzte[ _\\-]?([a-su-z0-9\\+]+)/}],["vivo",/\\bvivo(?\: ([a-z0-9]+))?/],["htc",function(e){return/\\bhtc[a-z0-9 _\\-]+(?= build\\b)/.test(e)?/\\bhtc[ _\\-]?([a-z0-9 ]+(?= build))/\:/\\bhtc[ _\\-]?([a-z0-9 ]+)/}],["oppo",/\\boppo[_]([a-z0-9]+)/],["konka",/\\bkonka[_\\-]([a-z0-9]+)/],["sonyericsson",/\\bmt([a-z0-9]+)/],["coolpad",/\\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\\blg[\\-]([a-z0-9]+)/],["android",/\\bandroid\\b|\\badr\\b/],["blackberry",function(e){return e.indexOf("blackberry")>=0?/\\bblackberry\\s?(\\d+)/\:"bb10"}]],i=0;i<n.length;i++){var o=n[i][0],s=n[i][1],c=a(o,s,e);if(c){r=c;break}}return r},O=1;try{n=R(y),i=I(y),o=n.os,s=n.shell,c=n.core,l=n.resolution,u=n.extraName,m=n.extraVersion,d=i.name,p=i.version,f=o?o+(n[o]?n[o]\:"")\:"",_=s?s+parseInt(n[s])\:"",h=c,b=l,v=u?u+(m?parseInt(m)\:"")\:"",E=d+p}catch(x){}g={p\:O,o\:w(f),b\:w(_),w\:w(h),s\:b,mx\:v,ism\:E},e[r]||(e[r]={}),e[r].ua||(e[r].ua={}),e[r].ua={version\:a,ua_info\:g}}}(window,document)},{}],4\:[function(e,t,a){function r(e,t){var a=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(a>>16);return r<<16|65535&a}function n(e,t){return e<<t|e>>>32-t}function i(e,t,a,i,o,s){return r(n(r(r(t,e),r(i,s)),o),a)}function o(e,t,a,r,n,o,s){return i(t&a|~t&r,e,t,n,o,s)}function s(e,t,a,r,n,o,s){return i(t&r|a&~r,e,t,n,o,s)}function c(e,t,a,r,n,o,s){return i(t^a^r,e,t,n,o,s)}function l(e,t,a,r,n,o,s){return i(a^(t|~r),e,t,n,o,s)}function u(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var a,n,i,u,m,d=1732584193,p=-271733879,g=-1732584194,f=271733878;for(a=0;a<e.length;a+=16)n=d,i=p,u=g,m=f,d=o(d,p,g,f,e[a],7,-680876936),f=o(f,d,p,g,e[a+1],12,-389564586),g=o(g,f,d,p,e[a+2],17,606105819),p=o(p,g,f,d,e[a+3],22,-1044525330),d=o(d,p,g,f,e[a+4],7,-176418897),f=o(f,d,p,g,e[a+5],12,1200080426),g=o(g,f,d,p,e[a+6],17,-1473231341),p=o(p,g,f,d,e[a+7],22,-45705983),d=o(d,p,g,f,e[a+8],7,1770035416),f=o(f,d,p,g,e[a+9],12,-1958414417),g=o(g,f,d,p,e[a+10],17,-42063),p=o(p,g,f,d,e[a+11],22,-1990404162),d=o(d,p,g,f,e[a+12],7,1804603682),f=o(f,d,p,g,e[a+13],12,-40341101),g=o(g,f,d,p,e[a+14],17,-1502002290),p=o(p,g,f,d,e[a+15],22,1236535329),d=s(d,p,g,f,e[a+1],5,-165796510),f=s(f,d,p,g,e[a+6],9,-1069501632),g=s(g,f,d,p,e[a+11],14,643717713),p=s(p,g,f,d,e[a],20,-373897302),d=s(d,p,g,f,e[a+5],5,-701558691),f=s(f,d,p,g,e[a+10],9,38016083),g=s(g,f,d,p,e[a+15],14,-660478335),p=s(p,g,f,d,e[a+4],20,-405537848),d=s(d,p,g,f,e[a+9],5,568446438),f=s(f,d,p,g,e[a+14],9,-1019803690),g=s(g,f,d,p,e[a+3],14,-187363961),p=s(p,g,f,d,e[a+8],20,1163531501),d=s(d,p,g,f,e[a+13],5,-1444681467),f=s(f,d,p,g,e[a+2],9,-51403784),g=s(g,f,d,p,e[a+7],14,1735328473),p=s(p,g,f,d,e[a+12],20,-1926607734),d=c(d,p,g,f,e[a+5],4,-378558),f=c(f,d,p,g,e[a+8],11,-2022574463),g=c(g,f,d,p,e[a+11],16,1839030562),p=c(p,g,f,d,e[a+14],23,-35309556),d=c(d,p,g,f,e[a+1],4,-1530992060),f=c(f,d,p,g,e[a+4],11,1272893353),g=c(g,f,d,p,e[a+7],16,-155497632),p=c(p,g,f,d,e[a+10],23,-1094730640),d=c(d,p,g,f,e[a+13],4,681279174),f=c(f,d,p,g,e[a],11,-358537222),g=c(g,f,d,p,e[a+3],16,-722521979),p=c(p,g,f,d,e[a+6],23,76029189),d=c(d,p,g,f,e[a+9],4,-640364487),f=c(f,d,p,g,e[a+12],11,-421815835),g=c(g,f,d,p,e[a+15],16,530742520),p=c(p,g,f,d,e[a+2],23,-995338651),d=l(d,p,g,f,e[a],6,-198630844),f=l(f,d,p,g,e[a+7],10,1126891415),g=l(g,f,d,p,e[a+14],15,-1416354905),p=l(p,g,f,d,e[a+5],21,-57434055),d=l(d,p,g,f,e[a+12],6,1700485571),f=l(f,d,p,g,e[a+3],10,-1894986606),g=l(g,f,d,p,e[a+10],15,-1051523),p=l(p,g,f,d,e[a+1],21,-2054922799),d=l(d,p,g,f,e[a+8],6,1873313359),f=l(f,d,p,g,e[a+15],10,-30611744),g=l(g,f,d,p,e[a+6],15,-1560198380),p=l(p,g,f,d,e[a+13],21,1309151649),d=l(d,p,g,f,e[a+4],6,-145523070),f=l(f,d,p,g,e[a+11],10,-1120210379),g=l(g,f,d,p,e[a+2],15,718787259),p=l(p,g,f,d,e[a+9],21,-343485551),d=r(d,n),p=r(p,i),g=r(g,u),f=r(f,m);return[d,p,g,f]}function m(e){var t,a="";for(t=0;t<32*e.length;t+=8)a+=String.fromCharCode(e[t>>5]>>>t%32&255);return a}function d(e){var t,a=[];for(a[(e.length>>2)-1]=void 0,t=0;t<a.length;t+=1)a[t]=0;for(t=0;t<8*e.length;t+=8)a[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return a}function p(e){return m(u(d(e),8*e.length))}function g(e,t){var a,r,n=d(e),i=[],o=[];for(i[15]=o[15]=void 0,n.length>16&&(n=u(n,8*e.length)),a=0;16>a;a+=1)i[a]=909522486^n[a],o[a]=1549556828^n[a];return r=u(i.concat(d(t)),512+8*t.length),m(u(o.concat(r),640))}function f(e){var t,a,r="0123456789abcdef",n="";for(a=0;a<e.length;a+=1)t=e.charCodeAt(a),n+=r.charAt(t>>>4&15)+r.charAt(15&t);return n}function _(e){return unescape(encodeURIComponent(e))}function h(e){return p(_(e))}function b(e){return f(h(e))}function v(e,t){return g(_(e),_(t))}function E(e,t){return f(v(e,t))}function S(e,t,a){return t?a?v(t,e)\:E(t,e)\:a?h(e)\:b(e)}t.exports=S},{}],5\:[function(e,t,a){function r(e,t){var a=new Date;a.setTime(a.getTime()+31536e7),t+="; expires="+a.toUTCString(),t+="; domain="+i.getDomain(location.hostname),t+="; path=/",o.cookie=e+"="+t}function n(e,t){function a(e){r.onreadystatechange=r.onload=r.onerror=null,r=null,t(e)}var r=o.createElement("script");if(r.async=!0,"onload"in r)r.onload=a;else{var n=function(){/loaded|complete/.test(r.readyState)&&a()};r.onreadystatechange=n,n()}r.onerror=function(){a(1)},r.src=e,s.appendChild(r)}var i=e("./tld"),o=document,s=o.head||o.getElementsByTagName("head")[0],c=0,l=-1,u="",m=!1;t.exports={init\:function(e){if(e)return void(c=1);var t=null;m=!0,n("https\://log.mmstat.com/eg.js",function(e){e&&(l=-3),m&&(m=!1,goldlog.Etag&&(u=goldlog.Etag,r("cna",u)),"undefined"!=typeof goldlog.stag&&(l=goldlog.stag),clearTimeout(t))}),t=setTimeout(function(){m=!1,l=-2},1e3)},inject\:function(e,t){var a=function(r,n){return n?!c&&m?void setTimeout(function(){a(r,n)},50)\:(n.push(["tag",c]),n.push(["stag",l]),!c&&u&&n.unshift([t(),"cna="+u]),e(r,n))\:void 0};return a}}},{"./tld"\:12}],6\:[function(e,t,a){"use strict";function r(e){return function(t){return{}.toString.call(t)==="[object "+e+"]"}}function n(e){return"function"==typeof _?_(e)\:""}function i(){var e=p.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(a){}return t||(t=null),t}function o(e){d.localStorage&&localStorage.setItem&&localStorage.setItem(f,_(e))}function s(){if(d.localStorage&&localStorage.getItem){var e=localStorage.getItem(f);if(e){try{e=JSON.parse(e)}catch(t){}return e}}}var c,l,u,m=e("./encrypt/md5"),d=window,p=document,g=navigator,f="aplus_fp",_=d.JSON&&JSON.stringify,h=r("Function"),b=function(e,t,a){if(e){var r=0,n=e.length;if(n===+n)for(;n>r&&t.call(a,e[r],r,e)!==!1;r++);else for(r in e)if(e.hasOwnProperty(r)&&t.call(a,e[r],r,e)===!1)break}},v=[],E={},S=function(e,t){h(t)&&(t=t()),v.push({k\:e,v\:t})},A=function(){u||(u=1,E.canvas=function(){var e=p.createElement("canvas");return e.getContext&&e.getContext("2d")}(),E.plugins="undefined"!=typeof g.plugins,E.webgl=function(){if(!E.canvas)return!1;var e,t=p.createElement("canvas");try{e=t.getContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(a){e=!1}return!!d.WebGLRenderingContext&&!!e}(),S("ua",g.userAgent),S("platform",g.platform),S("language",g.language),S("doNotTrack",g.doNotTrack||"unknown"),S("cookieEnabled",g.cookieEnabled),S("colorDepth",d.screen.colorDepth),S("screenWidth",d.screen.width),S("screenHeight",d.screen.height),S("timezoneOffset",(new Date).getTimezoneOffset()),S("hasSessionStorage",function(){try{return!!d.sessionStorage}catch(e){return!0}}),S("hasLocalStorage",function(){try{return!!d.localStorage}catch(e){return!0}}),S("hasIndexedDB",!!d.indexedDB),E.canvas&&S("canvasFP",function(){var e=[],t=p.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var a=t.getContext("2d");return a.rect(0,0,10,10),a.rect(2,2,6,6),e.push("canvas winding\:"+(a.isPointInPath(5,5,"evenodd")===!1?"yes"\:"no")),a.textBaseline="alphabetic",a.fillStyle="#f60",a.fillRect(125,1,62,20),a.fillStyle="#069",a.font="12px 'Arial'",a.fillText("Cwm fjordbank glyphs vext quiz",2,15),a.fillStyle="rgba(102, 204, 0, 0.7)",a.font="18px 'Arial'",a.fillText("Cwm fjordbank glyphs vext quiz",4,45),a.globalCompositeOperation="multiply",a.fillStyle="rgb(255,0,255)",a.beginPath(),a.arc(50,50,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(0,255,255)",a.beginPath(),a.arc(100,50,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,255,0)",a.beginPath(),a.arc(75,100,50,0,2*Math.PI,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,0,255)",a.arc(75,75,75,0,2*Math.PI,!0),a.arc(75,75,25,0,2*Math.PI,!0),a.fill("evenodd"),e.push("canvas fp\:"+t.toDataURL()),c=e.join("~")}),E.webgl&&S("webglFP",function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"},a=function(e){var t,a=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");return a?(t=e.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===t&&(t=2),t)\:null};if(e=i(),!e)return null;var r=[],n="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",o="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s);var c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,c,e.STATIC_DRAW),s.itemSize=3,s.numItems=3;var u=e.createProgram(),m=e.createShader(e.VERTEX_SHADER);e.shaderSource(m,n),e.compileShader(m);var d=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(d,o),e.compileShader(d),e.attachShader(u,m),e.attachShader(u,d),e.linkProgram(u),e.useProgram(u),u.vertexPosAttrib=e.getAttribLocation(u,"attrVertex"),u.offsetUniform=e.getUniformLocation(u,"uniformOffset"),e.enableVertexAttribArray(u.vertexPosArray),e.vertexAttribPointer(u.vertexPosAttrib,s.itemSize,e.FLOAT,!1,0,0),e.uniform2f(u.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,s.numItems),e.canvas&&r.push(e.canvas.toDataURL()),r.push("1"+e.getSupportedExtensions().join(";")),r.push("2"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),r.push("3"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),r.push("4"+e.getParameter(e.ALPHA_BITS)),r.push("5"+(e.getContextAttributes().antialias?"yes"\:"no")),r.push("6"+e.getParameter(e.BLUE_BITS)),r.push("7"+e.getParameter(e.DEPTH_BITS)),r.push("8"+e.getParameter(e.GREEN_BITS)),r.push("9"+a(e)),r.push("10"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),r.push("11"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),r.push("12"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),r.push("13"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),r.push("14"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),r.push("15"+e.getParameter(e.MAX_TEXTURE_SIZE)),r.push("16"+e.getParameter(e.MAX_VARYING_VECTORS)),r.push("17"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),r.push("18"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),r.push("19"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),r.push("20"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),r.push("21"+e.getParameter(e.RED_BITS)),r.push("22"+e.getParameter(e.RENDERER)),r.push("23"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),r.push("24"+e.getParameter(e.STENCIL_BITS)),r.push("25"+e.getParameter(e.VENDOR)),r.push("26"+e.getParameter(e.VERSION)),e.getShaderPrecisionFormat?(r.push("50"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),r.push("51"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),r.push("52"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),r.push("53"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),r.push("54"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),r.push("55"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),r.push("56"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),r.push("57"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),r.push("58"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),r.push("59"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),r.push("60"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),r.push("61"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),r.push("62"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),r.push("63"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),r.push("64"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),r.push("65"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),r.push("66"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),r.push("67"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),r.push("68"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),r.push("69"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),r.push("70"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),r.push("71"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),r.push("72"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),r.push("73"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),r.push("74"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),r.push("75"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),r.push("76"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),r.push("77"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),r.push("78"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),r.push("79"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),r.push("80"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),r.push("81"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),r.push("82"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),r.push("83"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),r.push("84"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),r.push("85"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax),l=r.join("~"))\:r.join("~")}),E.plugins&&S("plugins",function(){var e=[];b(g.plugins,function(t){e.push(t)}),e=e.sort(function(e,t){return e.name>t.name?1\:e.name<t.name?-1\:0});var t=[];return b(e,function(e){t.push(e.name)}),t.join(";")}),S("mimeTypes",function(){var e=g.mimeTypes;if(e){var t=[];return b(e,function(e){t.push(e&&e.type)}),t.join(";")}return""}))};t.exports={get\:function(){var e=s();return e?e\:(A(),e={fp\:m(c+l),fp2\:m(n(v))},o(e),e)}}},{"./encrypt/md5"\:4}],7\:[function(e,t,a){"use strict";function r(){var e=c.getMetaCnt("aplus-ajax"),t=goldlog.spm_ab;return t&&c.makeChkSum([t[0],(t[1]||"").split("/")[0]].join("."))==e?!0\:c.makeChkSum(location.href)==e?!0\:!1}function n(e,t,a){o(e,"spm-cnt",function(e){var r=e.split(".");return t?r[1]=r[1].split("/")[0]+"/"+t\:r[1]=r[1].split("/")[0],a&&(r[4]=a),r.join(".")})}function i(e,t){var a=g_SPM._current_spm;a&&o(e,"spm-url",function(){return[a.a,a.b,a.c,a.d].join(".")+(t?"."+t\:"")},"spm-cnt")}function o(e,t,a,r){var n,i,o=e.length,s=-1,c="function"==typeof a;for(n=0;o>n;n++){if(i=e[n],i[0]===t)return void(c?i[1]=a(i[1])\:i[1]=a);r&&i[0]===r&&(s=n)}r&&(c&&(a=a()),s>-1?e.splice(s,0,[t,a])\:e.push([t,a]))}function s(e){r()&&goldlog.launch({},e||{})}var c=e("./util");t.exports={sendPV\:s,checkIfSendPV\:r,updateSPMCnt\:n,updateSPMUrl\:i,updateKey\:o}},{"./util"\:13}],8\:[function(e,t,a){"use strict";function r(){if(!o.is_aliloan())return null;if(n)return n;var e;for(e=(goldlog.page_id||"")+c,e=e.substr(0,20);e.length<42;)e+=i.rndInt32();return e=e.substr(0,42),s.alilog_1688_pvid=s.dmtrack_pageid=s.unique_pageid=e,n=e,e}var n,i=e("./util"),o=e("./rule"),s=window,c=(new Date).getTime();a.makePageId=r},{"./rule"\:11,"./util"\:13}],9\:[function(e,t,a){"use strict";function r(){var e=n.getElementById("tb-beacon-aplus"),t=o.tryToGetAttribute(e,"exparams");if(!t)return t;var a,r,i=["taobao.com","tmall.com","etao.com","hitao.com","taohua.com","juhuasuan.com","alimama.com"];if(s){for(r=i.length,a=0;r>a;a++)if(o.isContain(location.hostname,i[a]))return t;t=t.replace(/\\buserid=\\w*&?/,"")}return t=t.replace(/\\buserid=/,"uidaplus=")}var n=document,i=window,o=e("./util"),s=parent!==i.self;a.getExParams=r},{"./util"\:13}],10\:[function(e,t,a){var r=function(){function e(){var e,t=[],i=!0;for(var u in m)m.hasOwnProperty(u)&&(i=!1,e=m[u]||"",t.push(l(u)+s+l(e)));a.name=i?r\:n+l(r)+o+t.join(c)}function t(e,t,a){e&&(e.addEventListener?e.addEventListener(t,a,!1)\:e.attachEvent&&e.attachEvent("on"+t,function(t){a.call(e,t)}))}var a=window;if(a.nameStorage)return a.nameStorage;var r,n="nameStorage\:",i=/^([^=]+)(?\:=(.*))?$/,o="?",s="=",c="&",l=encodeURIComponent,u=decodeURIComponent,m={},d={};return function(e){if(e&&0===e.indexOf(n)){var t=e.split(/[\:?]/);t.shift(),r=u(t.shift())||"";for(var a,o,s,l=t.join(""),d=l.split(c),p=0,g=d.length;g>p;p++)a=d[p].match(i),a&&a[1]&&(o=u(a[1]),s=u(a[2])||"",m[o]=s)}else r=e||""}(a.name),d.setItem=function(t,a){t&&"undefined"!=typeof a&&(m[t]=String(a),e())},d.getItem=function(e){return m.hasOwnProperty(e)?m[e]\:null},d.removeItem=function(t){m.hasOwnProperty(t)&&(m[t]=null,delete m[t],e())},d.clear=function(){m={},e()},d.valueOf=function(){return m},d.toString=function(){var e=a.name;return 0===e.indexOf(n)?e\:n+e},t(a,"beforeunload",function(){e()}),d}();a.nameStorage=r},{}],11\:[function(e,t,a){"use strict";function r(e,t,a){if(t)return"m";if(a)return o.isContain(e,"wrating.com")?"k"\:"y";var r,n,i="o",s=[["ju.taobao.com","4"],["juhuasuan.com","4"],["alipay.com","f"],["china.alibaba.com","6"],["qd.alibaba.com","o"],["jaq.alibaba.com","o"],["110.alibaba.com","o"],["security.alibaba.com","o"],["1688.com","6"],["alibaba.com","7"],["aliloan.com","8"],["cnzz.com","9"],["net.cn","a"],["hichina.com","a"],["phpwind.com","b"],["aliyun.com","c"],["tao123.com","d"],["alimama.com","e"],["taobao.com","1"],["tmall.com","2"],["tmall.hk","2"],["etao.com","3"],["sm.cn","s"],["*",i]],c=s.length;for(r=0;c>r;r++)if(n=s[r],o.isContain(e,n[0]))return n[1];return i}function n(e){var t,a,r=["/theme/info/info","/promo/co_header.php","fast_buy.htm","/add_collection.htm","/taobao_digital_iframe","/promo/co_header_taoinfo.php","/list_forum","/theme/info/info"];for(t=0,a=r.length;a>t;t++)if(-1!=l.indexOf(r[t]))return!0;var n=[m,d];for(t=0,a=n.length;a>t;t++)if(o.isEndWith(u,n[t]))return!0;if(e=e||s.referrer){var i=/^https?\:\\/\\/[\\w\\.]+\\.taobao\\.com/i;return!i.test(e)}return!1}function i(){return"boolean"==typeof p?p\:p=o.isEndWith(u,m)||o.isEndWith(u,d)}var o=e("./util"),s=document,c=location,l=c.pathname,u=c.hostname,m="aliloan.com",d="mybank.cn";a.getBeaconSrc=r,a.is_iframeExcption=n;var p;a.is_aliloan=i},{"./util"\:13}],12\:[function(e,t,a){"use strict";function r(e){var t,a=e.split("."),r=a.length;return t=n.any(i,function(t){return n.isEndWith(e,t)})?a.slice(r-3)\:a.slice(r-2),t.join(".")}var n=e("./util"),i=[".com.cn",".net.cn"];a.getDomain=r},{"./util"\:13}],13\:[function(e,t,a){"use strict";function r(e,t){return e&&e.getAttribute?e.getAttribute(t)||""\:""}function n(e){return f=f||h.getElementsByTagName("head")[0],_&&!e?_\:f?_=f.getElementsByTagName("meta")\:[]}function i(e){var t,a,i,o=n(),s=o.length;for(t=0;s>t;t++)a=o[t],r(a,"name")===e&&(i=r(a,"content"));return i||""}function o(e){e=(e||"").split("#")[0].split("?")[0];var t=e.length,a=function(e){var t,a=e.length,r=0;for(t=0;a>t;t++)r=31*r+e.charCodeAt(t);return r};return t?a(t+"#"+e.charCodeAt(t-1))\:-1}function s(e,t){return e.indexOf(t)>-1}function c(e,t){return 0===e.indexOf(t)}function l(e,t){var a=e.length,r=t.length;return a>=r&&e.indexOf(t)==a-r}function u(e){return"function"==typeof e}function m(e){return"string"==typeof e?e.replace(/^\\s+|\\s+$/g,"")\:""}function d(e,t,a){e[A]((v?"on"\:"")+t,function(e){e=e||b.event;var t=e.target||e.srcElement;a(e,t)},!1)}function p(e,t){var a,r=e.length;for(a=0;r>a;a++)t(e[a])}function g(e,t){var a,r=e.length;for(a=0;r>a;a++)if(t(e[a]))return!0;return!1}var f,_,h=document,b=window;a.tryToGetAttribute=r,\x0aa.getMetaTags=n,a.getMetaCnt=i,a.makeChkSum=o,a.isContain=s,a.isStartWith=c,a.isEndWith=l,a.isFunction=u,a.trim=m,a.rndInt32=function(){return Math.round(2147483647*Math.random())};var v=!!h.attachEvent,E="attachEvent",S="addEventListener",A=v?E\:S;a.on=d,a.DOMReady=function(e){var t=b.KISSY;t&&u(t.ready)?t.ready(e)\:b.jQuery?jQuery(h).ready(e)\:"complete"===h.readyState?e()\:d(b,"load",e)},a.onload=function(e){d(b,"load",e)},a.each=p,a.any=g},{}]},{},[2]);"	0.0010643782207243448
?:{WebSocket}={AsyncFunction}	0.0009658600271699199
{RTCPeerConnection}:"createDataChannel"	0.0009608735218866165
{HTMLSpanElement}:"nodeType"	0.0009043644671908475
{HTMLHeadElement}:"replaceChild"	0.0008168466688996081
{Navigator}:"vendor"	0.0007925592428683445
{Window}:"__awsc_et__"	0.0007244683099116965
{HTMLBodyElement}:"childNodes"	0.0006912742001586714
%getAttribute:{HTMLScriptElement}="output"	0.0005844231210740602
%fetch:{Window}="https\://arc.nexx.cloud/libs/shaka_1093_br.js":{Object}	0.0005774969952711485
%getExtension:{WebGLRenderingContext}={String}	0.0005713028456207943
{HTMLDivElement}:"RemovedNodes"	0.0005162046070212566
%addEventListener:{HTMLDocument}="unload":<anonymous>:#T	0.00049345166394495
{HTMLScriptElement}:"onerror"	0.00045918310683375994
%matches:{HTMLBodyElement}=".product__sku-selection>div>.product__sold-out-message, .hbc-button.hbc-button--full.hbc-button--primary.product-wait-list__add-to-waitlist-button>span>.hbc-button__text, .product__promo-message, .hbc-price-display__summary-price, .banner__copy>.hbc-button.hbc-button--primary.saks-plus__button>span>.hbc-button__text, #section--price.section-block>.section-block>.section-heading.section-heading--waitlist-form, .section-block>.section-block>.section-heading.section-heading--waitlist-form, #waitlist-form__phone, .add-new-payment__check-balance-button.hbc-button.hbc-button--primary, .spreads-wrapper>.saks-spread.show>.saks-image-map.url-link[href="/locations/services?sre=mhpmainm12s1l1"], .checkbox.shipping-method__checkbox>.checkbox__label>.checkbox__checkbox-label, .alert, .error-page-heading, #cardNumberInvalidMessage, .checkout-btn.disabled, .invalid, .invalid-feedback, .login-page.veiled>.login>.alert.alert-danger, .proxy-checkout-btn.disabled, .search-keywords, .shopping-bag-section>.cart-empty>.empty-msg, .card-body.main-content.veiled>.login>.alert.alert-danger, .popover.popover-bottom.show, .error-message-wrapper>.alert.alert-danger.error-message.hbc-alert-error>.error-message-text, .cart-wrapper>.cart-error.cart-error-messaging>.alert.alert-danger.alert-dismissible.fade.show.valid-cart-error, .hbc-checkout.hbc-container>.hbc-message-bar>.alert.alert--dismissable.alert--warning.hbc-message-bar__alert, [data-plcccard=\u201ctrue\u201d], .coupon-promotion-relationship.hbc-alert-error"	0.00040119580719346086
{HTMLDocument}:"head"	0.0003850438252608503
?:{Image}="https\://ww1097.smartadserver.com/h/aip?tmstp=5299493431&ckid=9218732187214796136&pubid=5&systgt=%24qc%3d1307016421%3b%24ql%3dHigh%3b%24qpc%3d60612%3b%24qt%3d152_199_42352t%3b%24dma%3d602%3b%24b%3d16750%3b%24o%3d99999%3b%24sw%3d1600%3b%24sh%3d768%3b%24wpc%3d13%3b%24wpc%3d163%3b%24wpc%3d95&uii=393888460384976242&acd=1601684063757&envtype=0&hol_cpm=0&opid=6300535878911967595&opdt=1601684063&visit=V&statid=19&tgt=%24dt%3d1t%3b%24dma%3d602&imptype=0&pgDomain=https%3a%2f%2f300mbfilms.org%2f&capp=0&mcrdbt=0&insid=8748517&siteid=338015&imgid=0&pgid=1183577&fmtid=79570&isLazy=0"	0.00036227491206079467
%write:{HTMLDocument}="<style>input{font-family\:Tahoma}.MwIcon{top\:6px}a#pull{z-index\:800;top\:-11px;color\:#fff;width\:120px;height\:33px;font-size\:14px;line-height\:30px;background-color\:Green}a#lang{background-color\:#bbf;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABFZJREFUeNrsl3tInXUYxz3Hw9jAFThG1iokDMNW7I8oZA3pD8E/InCsWBfNzWbNUZbO21HP2VHP8dbR1vK+vLQaWJIg3choBEEEBfunkSFIq+FC2pASQd5Ln2c8R97svOdoG0SwFz487+X3+/6e3/O7Pa/Htu2U//Ly3HRgMw6EO7vvxhyAAkiHLDBhHhbhY5hqqKm8dEMdaO2IPozphLwN6n4G9Y21Veevy4GWttdTMVGocLz+E2ZAxC/ru12wB/JhmzNoTfXHG/+VA82RrlsxH6ioXBdBxCYC/upVlzrS+DMSNMjQ1zIsT1JnZcMOnAh3SM8/dTQ+BK+eaKiNK9LaHvVh9kKm2vcN0yjGFmmRadhPfXN9XV88QduyOx2NV4Wa6rpb2roeg1iRX+AqLDXVVxu2bcmk3Ac5+r0i1ev9xDDMnzVqT0BI7xNHoCkUkbH8DiQK/T6fbxz7CNwLd8AcfK+NyTD9Bj/pvPDDbljVMv2GYZzUSEjv728J+med7XnXe2TZVhukwpzX6z1pWVYd5EMmbIEceBYuwCgswp2wFT6Ec/B0sKEmgt3h8Xjq0JpXzbaEEfAHmqVXP+jjwUhzYIKISPgOwvZ1daXX5+BxXQXS4y56uLy+EXRLMKP6eA+683EjYFl2IYi9ApPXlmLQP21ZZhQMSHGwE3bDLlgCImLeFW9OoTWhmnJ/wHUSErJHYxtJZyS0NmNN0/oxjq6M/33a88H21uBCguV+G9pf6i6a6zoHKJQNYv82URBf5l0nGPpdsPR5LEnjUvYWOK/1shM5kK6F/rGXE5FvTNPsg6sww3MhNgK/Jmq8qrYxkzIykZdUe2cCB9bGN+5OF+1oneFbO/heq66vwbICzNu53+Hee5NVY24HM6bv6gAlroDYDDfBnq62C9CN3BnIgyzY90pl7YPxyvPtd/gDzXTVXnSPgMnaNi2xe5KdYm92dyzAR4R3P5RCy7GK45Vxyn3LtwCauao9m2gOfK3jVHD05cotyZygTJZuUFLHC7m864GnwOvQvQR5Wu4rVwfYlCZlY4J0KErmQP+p7jndEWMrQ3ZDcWqvPDt0SyENTJhydWDgrR4RnFaxUFl5xbZkTuhKWIAUBzODvW9c8wCNNLQCqjlBGxcTnwWWVQ/MFYsdzupL5sDpgVOyvJYdURiGzx16cl6wa1qrENxQPnC47JgkFA2xPGNkqDfo5kDJC0e3Yt7Tznwxdrq/16Ejx3q1PjaiE95YPmDb0uADeo4HDh0pl2S0fHS4byVO7iBJiEzY4fGRAUk8UiifpodPbN+fpG54UynZ86UvpWlKVqCvLmtCcXb87YE1R4oOlcn3h86MDrVqnSJNPmI7nhxqxc46m8qKiw+/KMNRpwmKXCuafMxqciJXtpKv0UjRpCT8zshg83Wn5fQyRxPNwg2m5WchSFTmbuiPyXMlRzJ0XPM1CcnQVGtRs2b5H5h6d2x48ea/4f/Ggb8EGACZQULzwV6aKgAAAABJRU5ErkJggg==)}a#home{background-color\:#fbb;border-radius\:10px 10px 0 0;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAAgAAAAIACH+pydAAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAAD3RSTlMABAwQFBgcICQoMDQ4PEAQT3wtAAAAAWJLR0QAiAUdSAAAAJ5JREFUKM+90LEJwmAUReETtdBGBCtxBC2EgKU4iSNkBEeQTBLQASwcwBEkVcRozgwWJvEvrES8zeN+PF7x4OvsbpgHfar7EDoXrULYqAbQ18c5gCjTdKDlqIaZFpDo4dV7F6t1O4BETwBzLQAmeh8BREdNgW17fqhXIAuh/LQRLd8QA9A1ZxzHC4bSwkrzP0Nkm/pBWdPLGuYNnPhNnuv8k4WNnrFrAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEwLTAyLTExVDExOjUwOjA4LTA2OjAw1hBl+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAwNi0wNS0wNVQxMzoyMjo0MC0wNTowML/k/hoAAAAASUVORK5CYII=)}a#search{background-color\:#5a5;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAAgAAAAIACH+pydAAAAKlBMVEUAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD1lHmjAAAADnRSTlMAAAQIDBAUICQoMDQ4QE0be7wAAAABYktHRAH/Ai3eAAAAwElEQVQoz43RsQrCMBAG4KOg6Ka4FEQQ1y6Oju4iuLi7+haimyA4+Ryirn0EQVCwWv538frHaJIuvSl8/LlcEmkHJRWgJTJKkW+ERWigqNUPopSQ9y0kwGG+BE4WdjjraoLsCx0T1o1DAzEebDdlW4Uu9oQmjgZ6WBDquFkYE2p/mIUQbCk1jXH3jy0NpqNfOHoeXo69nOsDL/+Brow4T5gwYkBkwGM0YqEoRlxgxIUiknmgkbcHGnn6EG3XFT77A6uOcvKZ/VTJAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEwLTAyLTExVDExOjUwOjA4LTA2OjAw1hBl+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAwNi0wNS0wNVQxMzoyMjo0MC0wNTowML/k/hoAAAAASUVORK5CYII=)}a#cmt{background-color\:#f93;border-radius\:10px 10px 0 0;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQVJREFUeNrsV9EJhDAMbaSfzuECOoBz+K8OoGO4gPjvHA7gBM7hf84c9KhawXrtFY4EChpC8vLaNCkgoggpkQgsDIABSJOybVucpslpoDzPRdd1cNTDsQw3Q1zX1Uu2cRyLLbE9CAKgVtM0mKYpVlWFut7FIp/km2Lo+h0DWZa9f+Z5Bh8MmPxzFcg7RkVR4LIsVo6TJBHjOMJ/MHAnEz4DtnvPZ4AvIiMAapkkdV07n1SVTxXDuh3rp/vJzXjVjk9bQAZHlCR6wCfByedpFjAxYJK+73EYhg99NC2VZUm0fl0dcPdhonq5ElczQ2RDoen7Zwz4mpikjTFVgmsBfpyGBvASYAAyhcz9jFQ8/AAAAABJRU5ErkJggg==)}a#mwp{background-color\:#f93;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGxQTFRF+vr6AAAA30Ie7cW7zMzM8vLy88vB19fX0tLS0Kif////ycnJy8vLxMTE1dXVyqKZ16+mw8PD1NTUrKys7Ozsx8fHtbW1tLS00dHR6+vr6enpsbGxzs7O3d3dsLCwuLi4qampra2t6urq////HodSFAAAACR0Uk5T//////////////////////////////////////////////8AWCwNDQAAAIdJREFUeNpiUCYAGIaQAkZsAEUBOxBwc4GALBcEcKMpYGFh4WUAAT5WCKC6AiZMgKaAk5OTnw0EBJghYAAUEHIkkjfBJAOecIAoYKC6AjFhYWFeDhBg4YAABTQTeHh4BME6haAmiFKsAM0N3HLSimJSkiJKIvISHDIcQCeLM5KUJgd3zgIIMACp6lhXi1lcTwAAAABJRU5ErkJggg==)}a#book{background-color\:#93b5f9;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACKUlEQVRYhe2Vv4sTQRTHv28jZL1mTbRILPwRTGNhcZaCooKKjUeKyCwhnUE4UgmHIkgaEas7LKKsoEuKyyZ/gIiFjT8KsRHS5AQJFhYRCSQX0WR3noUeaJi9mw2Ra/Ltdt7b7/vsznszwFxz7bIoSrJt2xkAGSllhoiOSik3iegzgE4ul3ubz+eD/wJQKBQWx+PxKoDToUZEHQAPTNN86Lruj5kBCCHuMfMKMxuans8sy1pyHGesk7ytqRBiSUp5M0JxALjc7/fXm81mTCc5NKlYLO4PguAFgIUIxbd0vN1uv261Wp92Sgz9Mt/3LzHzAUVoRERPDMM4bxjGMhF1QyzO6JDuCQtIKc+q1onovud5d/48vhRCHGTm25N5zHxKB2C7ve0T0XsAXycA1icK7Qt5v6MDoDWGpVJpYTgcHvF9/7Dnec+JiAHAtu2ilPKpqkkNw7har9ebMwFQSQhxS0p5V+VBRB+TyeRitVrd3MlHa1T+VqVSMVKp1CNmXlEVx+8tu+i67hcdv8gA6XR6lZmXVTEi2gBwrtFobOj6Rb0LTkop34UcTG/i8fiVWq32LYpn6BiqFATBNSgmh4hemaZ5IcodsKUoRyyI6JhqPRaL3ZimeGQAAIcUaz+z2eyHaYoDEbfANM0TiUTin77p9XpcqVRG0wJoN2G5XI53u93rqphlWY8dx/k+DYD2HxgMBnsBrKlio9GoAWAqgKg9MHPNAXYdYK65fgGqKr5QzDuznQAAAABJRU5ErkJggg==)}a#new{background-color\:#aaa;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHGklEQVRYw9WXfVBU9RrHE8TJZvyjvE3N1D8iLyuEImrhNVdeuoC0u7jnnGVhYVdWXmVhQdQFhEIB5UXAHA1Ty17+qazGkaZ7s9F7A7OcGq6DUiqpFIWwKxss7Dmwb+e5z2/Xhd1YMau5M/1mfjM7s2fO53m+3+d5fr/z0EN/5VWTLV20OY2e/38DvpRNLTqqlWozUulHtqmkAVf2iLrKVFJKJaf8WvPFoc25EoWMof3/VOjxEuqJYiX9pEpO+7UXSWXcAZHjzZKUg8eLJTquJRF6apKulW/eJL5dHz94vjyhO5Wh/1aWKfHfrRYty0il/ngwx7SUzNCSYnyjZFP9uV3iU1zbRmBbEvnx5gQr1/wCcE1xYGqIsXINQhitX2/ZoxaVXq4Uftm1I6abYZjHfxdUlyUNKFFRj2Wl0QsOa6RbuAMvghPcmsRzLQnA7XeBucYY4Bo2ALdvPbB71wFbvxbMddE8W/ssfLVj/XU5Qz+tSZc8rFWIFz9QAAUZ9GOjbRJTb534UneN6CLXmgQu8D+Aa45HeCzC3eDnEfx3YOuigYDZPauB3b0Kftq1xnRh29pOfWWk4VD2C68wDL3gNweARbagt1Z0iWvdCMRnbzDJWohwT/BzCF7jBLM1K4F9eQWwLy0HtvoZMO8Kg2KFWIvF6Xdf8NHilCewwGRHNClbul9Ovsjtx6ybPeUWesnN1rnBmHVNFIIjZ8BV4QhfBqMVAntrVnzbq+oNmXtV8cJ0mfTehZmvoJ7UN240TvvcTMCxs3z2ltsNxqyrI6bB5spQMFeEgLk8CMw7A2Fi5xJ+/+a4w2jFwjmkp/zeKBLXe/mMWc/2+VdyI5itcsltrhQ4wSwGPNVRR8AwsWMJXCkO16MNQgxgnk94bbZk0TGNSHZOl3iKbYzhp33eS8BrffjsKfddMAZo++9p4F5TAHeYBsfw9zC+fQmYcPcWhemPZAnrytKTl2fKNs2enkcKRVoEO3z6TLKe5XOE6xlUy3rhHZh8t8z5m7dbnWAz1o5j3ABjZYEwivuXbYEwUroUzhdE9skZasmsAOQy+pETmo0H8aX87LaKcmVNfMYALR/vBfuNr8AxehumPqiEybfywTE2BCza5jAOgLXnXzB1th14m8UJNpa64F9vjRjKkEkZny25UykJOL41SWeqXWv15fPUe9udIK5dDrzDBtwxlVN2kvUEFpntu3NgOf8mOCaMYNodDQ6THp+zg1EXAXdKloIB95ncVb3ZqSmrFYzUuyXLVeJFOD67vH2OgqnTtWD9z1Gn5FOnasDW+5kTSjK39XwCjpEfwH7rGxjXBcPEvhjguXHgLSz8UoaV/34VKjAFI9XRoNcGwXBxEAzhvlEoGKtQJGbQlEcQChk1f1umhOopX3fN02fLmTYgy9Z7xuXv5ASYseisF94G+82LMFEb7SywsYowp8/cpwfBwZlgpCwEDKVBYNCtgGGtC3y7KAj6CgWTLcrYk2hBlFT6KxVUqVK/cuWL4rHqSKurrcKd85+fMoPt27Ng//ESOAw3XTZglRPPuQ+rwXqtC+yGfjBuD4WR7QK4syMMDNqlXuDBomD4WRMMb2Wt+wLhgT5bsXVLQuhg5cpB9/h097NjuA+4oxlg+fwY8DwP1m8+ApMuBGwDV2Cy8wSYDqU5M3b77Cm3G/xTYTAMFIbAj1tD+LbM2CbsgtnDqFGdqOgqie42VoRbzBU4xcqDwaxbCpazh8DSdQLGcZhwJyuB62iAUVLZd9vKF/g2ggcJWDMNhh8Qfj5nxfARpbAD7wyz25CmaX9ymdijTCidKA/iSWWTCWZuxoPo/QqvfjYimMBdYN9yk6zvgqG/IAQ+ynr2KuOahI8iy/fBVJKe7N+jjfjSPT6dBYZ7BuyR9Rzg6awRfKsgFG7mh0JfnsBemCqSye41ismqykxY1lkY2X2hcMX1/pJQ0zR4DrmnwRpvcD+Cb7nAjk/VqwZOZ6252qSIa5/zMJIzUn9yjUIrnv68YGWne3zeKb23zz87wd5yEzDJ+kYeBpAr4FWyTWoEP4XvXnxP+T1Xrlzy8IA2xEDgQ9ogu/4+cvsCX8sVOK4j/HqOAKrSEnYzD3JbLpCLFx9QxbxSlCbSNinj2u7nc3/BDPj7PAHJGv6ZtWqAZE7gZfJkDQYQ8ED3QoqiFuD2a1XGZqLc/MX85fqv8yL0Hm01k3XejNwnVc9d/S5nmf2UilQ98xS+wx93wO//GFEkCPdlxh8ml4mDyg11BNyZEznUoV7TS7K+nBs++bry+S+I3P9WrxwmrbYVq70hPb6deP6HvwtSaYoU5kLMYp5GLlr+2ZaoPjzNGLUsZfXlnLCxRkUcme2B+xWxTYcyNnTgs6TP55Fq/00F9yArjZHOJ1OMnOepDOW3My0pgxwsBIgKLST//enQuVZycrIf2X/pL+z/AZyJAsTLmKQiAAAAAElFTkSuQmCC)}#FastView{display\:none;left\:50%;margin-left\:-150px;width\:300px;background-color\:#F1F1E1}#FastView .s{font-size\:10px;line-height\:11px}.slideTop{font-size\:12px;position\:absolute;left\:50%;margin-left\:-150px;top\:-438px;width\:300px;height\:475px;background-color\:#F1F1E1;text-align\:center;direction\:rtl;z-index\:901;border\:1px solid #68a;border-top\:0;border-radius\:0 0 10px 10px;transition\:.2s ease-in-out;box-shadow\:0 2px 5px rgba(0,0,0,0.5)}.slideTop .s{display\:block;position\:relative;top\:438px;vertical-align\:middle;height\:38px}.slideTop .b{display\:none}.slideTop.open{top\:0}.slideTop.open .s{display\:none}.slideTop.open .b{display\:block}.slideStatic{font-size\:12px;position\:absolute;left\:50%;margin-left\:-150px;top\:0;width\:300px;height\:38px;background-color\:#F1F1E1;text-align\:center;direction\:rtl;z-index\:901;border\:1px solid #68a;border-top\:0;border-radius\:0 0 10px 10px;transition\:.2s ease-in-out;box-shadow\:0 2px 5px rgba(0,0,0,0.5)}body{font-family\:Tahoma;margin-top\:0}a{color\:#002;text-decoration\:none}a\:hover{color\:#004;text-decoration\:underline}div.box3 .header{font-size\:14px;font-weight\:bold;margin-bottom\:4px;direction\:rtl}div.box3 .content{font-size\:13px;text-align\:right;direction\:rtl}.box4{line-height\:14px;background-color\:white;color\:black;width\:236px;display\:inline-block;vertical-align\:top;padding\:1px 1px 0 1px;margin\:1px 1px 3px 1px;border\:0 solid black;-moz-border-radius\:4px;-webkit-border-radius\:4px;border-radius\:4px;font-family\:Tahoma;font-size\:12px;overflow\:hidden}.box6{line-height\:14px;background-color\:white;color\:black;display\:inline-block;vertical-align\:top;padding\:1px 1px 0 1px;margin\:1px 1px 3px 1px;border\:0 solid black;-moz-border-radius\:4px;-webkit-border-radius\:4px;border-radius\:4px;font-family\:Tahoma;font-size\:12px;overflow\:hidden}.box5{background-color\:#ddd;color\:black;width\:236px;display\:inline-block;vertical-align\:top;padding\:1px 1px 0 1px;margin\:1px 1px 3px 1px;border\:0 solid black;-moz-border-radius\:4px;-webkit-border-radius\:4px;border-radius\:4px;font-family\:Tahoma;font-size\:13px}.box1{display\:inline-block;vertical-align\:top;background-color\:#fff;color\:#000;padding\:0;margin\:0 2px 4px 2px;border\:0 solid black;-moz-border-radius\:8px;-webkit-border-radius\:8px;border-radius\:8px;-moz-box-shadow\:0 1px 3px rgba(0,0,0,0.5);-webkit-box-shadow\:0 1px 3px rgba(0,0,0,0.5);box-shadow\:0 1px 3px rgba(0,0,0,0.5);font-family\:Tahoma;font-size\:13px;line-height\:15px;overflow\:hidden}div.box1 .header{padding\:1px 1px 0 1px;direction\:rtl;text-align\:right;font-size\:14px;border-bottom\:1px solid #000;font-weight\:bold;color\:#000;background-color\:#ccc;-moz-box-shadow\:0 1px 3px rgba(0,0,0,0.5);-webkit-box-shadow\:0 1px 3px rgba(0,0,0,0.5);box-shadow\:0 1px 3px rgba(0,0,0,0.5)}div.box1 .bigheader{height\:24px}div.box1 .content{padding\:3px 3px 3px 3px;margin\:2px 2px 2px 2px;direction\:rtl;text-align\:right;overflow\:hidden}div.box1 a{color\:#002;text-decoration\:none}div.box1 a\:hover{color\:#004;text-decoration\:underline}div.box1 .pointer{cursor\:pointer}div.box1 table{width\:100%}.table1 th{color\:#555}.table1 th{border\:0 solid #fff;border-bottom\:1px solid #fff;font-weight\:bold}.table1 tr\:nth-child(2n){background-color\:#f9f9f9}.table1 tr\:hover td{border\:1px solid #ccc}.table1 tr td{border\:1px solid #f9f9f9}.table1{background-color\:#fff;width\:100%;border\:0 solid #000}.table2 tr td{text-align\:center}.table2 tr td{border\:1px solid #f9f9f9}.box1.red .header{color\:#000;background-color\:#Faa}.box1.blue .header{color\:#000;background-color\:#d7e3fc}.box1.green .header{color\:#000;background-color\:#bfe6ac}.box1.silver{background\:#f9f9f9;color\:#000}.box1.silver .header{border-bottom\:0 solid #000;text-shadow\:0 -2px 2px rgba(255,255,255,0.5)}.box1.yellow .header{color\:#000;background-color\:#fbf6a4}.box1.white{background\:#fff;color\:#000}.box1.white .header{border-bottom\:1px solid #000}.box1.olive{background\:#F5F5EF;color\:#000}.box1.grey{background\:#f1f1f1;color\:#000}.box1.black{background\:Black;color\:#fff}.box2{height\:210px;display\:inline-block;vertical-align\:top;overflow\:hidden;direction\:rtl}.clear{clear\:both}.pn{display\:inline-block;color\:#090}.mn{display\:inline-block;color\:#F00;white-space\:nowrap}.ltr{direction\:ltr}l{direction\:ltr}.rtl{direction\:rtl}table.nowrap td{white-space\:nowrap;overflow\:hidden}.inline{display\:inline-block}.RelCompany{height\:210px;overflow\:hidden;overflow-y\:scroll;overflow-x\:none}.RelCoCol1{overflow\:hidden;height\:20px}.ShareHolder{height\:200px;overflow\:hidden;overflow-y\:scroll;overflow-x\:none}.RefPortfo{height\:210px;overflow\:hidden;overflow-y\:scroll;overflow-x\:none}.sh{cursor\:pointer}.rc{width\:50px;height\:17px}.hidden{display\:none!important}#ToolsBtn{float\:left;color\:Blue;cursor\:pointer;padding\:0;margin\:0;overflow\:hidden;height\:24px;display\:block}#CStatus{display\:inline;margin-left\:5px;margin-right\:5px}#ToolsDiv{transition\:.8s ease-in-out;-o-transition\:.8s ease-in-out;-moz-transition\:.8s ease-in-out;-webkit-transition\:all .8s ease-in-out}.slidehide{display\:none}.slideshow{height\:270px}div.gridbox{overflow\:hidden;text-align\:left}.dhx_sub_row{background-color\:white}div.gridbox .xhdr{background-color\:#D4D0C8}div.gridbox table.obj{height\:1px}div.gridbox table.hdr td{font-family\:Tahoma;font-size\:12px;background-Color\:#D4D0C8;border\:1px solid;border-color\:white Gray Gray white;text-align\:center;margin\:0;padding\:5px 0 5px 0;font-weight\:normal;-moz-user-select\:none;-moz-user-select\:-moz-none;overflow\:hidden;empty-cells\:show}div.gridbox table.hdr td div.hdrcell{overflow\:hidden}div.gridbox table.obj td{border\:1px solid;border-color\:white Gray Gray white;font-family\:Tahoma;font-size\:12px;-moz-user-select\:none;-moz-user-select\:-moz-none;overflow\:hidden;padding-top\:0;padding-bottom\:0;empty-cells\:show}div.gridbox table.obj th,div.gridbox table.hdr th{padding\:0;margin\:0}div.gridbox table.row20px tr td{height\:20px;white-space\:nowrap;padding\:0}div.gridbox .objbox{background-color\:white;position\:relative}div.gridbox table.obj td span.space,div.gridbox table.obj td img.space{width\:18px}div.gridbox table.obj tr.rowselected td.cellselected,div.gridbox table.obj td.cellselected{background-color\:#d8d8d8;color\:black}div.gridbox table.obj tr.rowselected td{background-color\:#e1e0d7;color\:black}div.gridbox table.obj td.editable{-moz-user-select\:text}div.gridbox table.obj td.group_row{vertical-align\:middle;font-family\:Tahoma;font-size\:10pt;font-weight\:bold;height\:30px;border\:0;border-bottom\:2px solid navy}.dragSpanDiv{font-size\:12px;border\:1px gray solid;background-color\:white;z-index\:999}.dhx_combo_select{font-family\:Tahoma;font-size\:12px;border\:1px solid;border-color\:black silver silver black;background-color\:white;overflow\:hidden;cursor\:default;position\:absolute;height\:auto;z-index\:600}.dhx_combo_edit{width\:100%;border\:0;padding\:0;padding-right\:1px!ie;margin\:0;font\:12px Tahoma;overflow\:hidden}.dhx_textarea{border\:1px solid;border-color\:black silver silver black;position\:absolute;height\:100px;z-index\:600}.dhx_clist{background-color\:white;border\:1px solid black;padding\:2px 2px 2px 2px;z-index\:300}.gridDragLine{position\:absolute;top\:10px;left\:0;width\:100%;height\:2px;background-color\:black;overflow\:hidden}div.pagingBlock{font-size\:12px;font-family\:Tahoma}div.pagingBlock .pagingCurrentPage{font-weight\:bold;cursor\:default}div.pagingBlock .pagingPage{cursor\:pointer;text-decoration\:underline}span.recordsInfoBlock{font-size\:12px;font-family\:Tahoma}div.pagingBlock a{text-decoration\:none;padding-right\:2px;color\:black;cursor\:pointer}div.pagingBlock a.dhx_not_active{text-decoration\:none;cursor\:default}.toolbar_select{font-size\:10px}.dhtmlxGrid_selection{-moz-opacity\:.5;filter\:alpha(opacity = 50);background-color\:yellow;opacity\:.5;border\:1px dotted black}div.gridbox_modern{border\:1px solid #D6D6D6}div.gridbox_modern .dhx_sub_row{background-color\:transparent}div.gridbox_modern .xhdr_last{border\:1px solid;border-color\:#FDFDFD #B5B5B5 #B5B5B5 #FDFDFD}div.gridbox_modern table.hdr td{border-right\:1px solid #B5B5B5;border-left\:1px solid #FDFDFD;border-top\:1px solid #FDFDFD;border-bottom\:1px solid #B5B5B5;background-color\:transparent;font-family\:Tahoma,Verdana;font-size\:11px;font-weight\:bold;color\:#055A78;vertical-align\:top;text-align\:left}div.gridbox_modern table.hdr td div.hdrcell{width\:auto;padding-left\:10px}div.gridbox_modern table.hdr .filter{padding-left\:0!important;text-align\:center}div.gridbox_modern table.obj td{border\:0 solid;font-family\:Tahoma,Verdana;font-size\:11px;padding-right\:4px;padding-left\:4px}div.gridbox_modern table.row20px tr td{padding-right\:4px;padding-left\:4px}div.gridbox_modern .dhx_combo_edit{font-family\:Tahoma,Verdana;font-size\:11px}div.gridbox_modern table.obj tr.rowselected td{background-color\:#9ac2e5;color\:black}div.gridbox_modern table.obj tr.rowselected td.cellselected,div.gridbox table.obj td.cellselected{background-color\:#9ac2e5}div.gridbox_modern .odd_modern{background-color\:#EDEDED}div.gridbox_modern div.ftr td{padding\:0;padding-left\:10px;padding-right\:5px;border-top\:0 solid gray;border-right\:0 solid gray;background-color\:#ffc;font-style\:italic;font-family\:Tahoma,Verdana;font-size\:12px}.awesome,.awesome\:visited{margin\:2px;background\:#2daebf;display\:inline-block;padding\:1px 7px 2px 7px;color\:#fff;text-decoration\:none;border-radius\:5px;box-shadow\:0 1px 3px rgba(0,0,0,0.5);text-shadow\:0 -1px 1px rgba(0,0,0,0.25);border-bottom\:1px solid rgba(0,0,0,0.25);position\:relative;cursor\:pointer}.awesome\:hover{background-color\:#007d9a;color\:#fff}.awesome\:active{top\:1px}.green.awesome,.green.awesome\:visited{background-color\:#91bd09}.green.awesome\:hover{background-color\:#749a02}.black.awesome,.black.awesome\:visited{background-color\:#555}.black.awesome\:hover{background-color\:#111}.red.awesome,.red.awesome\:visited{background-color\:#F87B5C}.red.awesome\:hover{background-color\:#cd3109}.white.awesome,.white.awesome\:visited{background-color\:#fff;color\:Black}.white.awesome\:hover{background-color\:#eee;color\:Black}.tra.awesome,.tra.awesome\:visited{background-color\:transparent;border\:1px solid #aaa;color\:#aaa}.tra.awesome{background-color\:transparent;border\:1px solid #aaa;color\:#aaa}ul.historyYear{direction\:rtl}ul.historyYear li{direction\:rtl;cursor\:pointer;background-color\:#ccc;display\:inline-block;width\:60px;height\:20px;margin\:1px;border-radius\:1px 1px 1px 1px;border\:1px solid black}ul.historyYear li\:hover{background-color\:#55d;color\:Yellow}ul.historyYear li.act{background-color\:#7d9;color\:black}ul.historyMonth{direction\:rtl}ul.historyMonth li{direction\:rtl;cursor\:pointer;background-color\:#ccc;display\:inline-block;width\:60px;height\:20px;margin\:1px;border-radius\:1px 1px 1px 1px;border\:1px solid black}ul.historyMonth li\:hover{background-color\:#55d;color\:Yellow}ul.historyMonth li.act{background-color\:#7d9;color\:black}ul.historyDay{direction\:rtl}ul.historyDay li{direction\:rtl;display\:inline-block;width\:250px;height\:66px;margin\:1px;vertical-align\:top}.historyDayCell0{vertical-align\:top;direction\:rtl;cursor\:pointer;background-color\:#ada;display\:inline-block;width\:120px;height\:60px;margin\:2px 2px 2px 0;border-radius\:1px 1px 1px 1px;border\:1px solid black}.historyDayCell1{vertical-align\:top;direction\:rtl;cursor\:pointer;background-color\:#fee;display\:inline-block;width\:120px;height\:60px;margin\:2px 0 2px 2px;-moz-border-radius\:1px 1px 1px 1px;-webkit-border-radius\:1px 1px 1px 1px;border-radius\:1px 1px 1px 1px;border\:1px solid black}#SmallChart{height\:205px;text-align\:left;direction\:ltr}.new{background-color\:#f88}.range-input{position\:relative;text-align\:center;height\:25px}.range-rail{margin-top\:8px;height\:3px;-moz-border-radius\:1px 1px 1px 1px;-webkit-border-radius\:1px 1px 1px 1px;border-radius\:1px 1px 1px 1px;border\:1px solid #fff;background-color\:#fff}.range-selection{position\:absolute;background\:#333;height\:4px;top\:0;border-top\:1px solid #999}.range-handle{display\:block;position\:absolute;top\:-4px;width\:12px;height\:12px;border\:0 solid black;background-color\:#f55;-moz-border-radius\:5px 5px 5px 5px;-webkit-border-radius\:5px 5px 5px 5px;border-radius\:5px 5px 5px 5px;-moz-box-shadow\:0 1px 3px rgba(0,0,0,0.5);-webkit-box-shadow\:0 1px 3px rgba(0,0,0,0.5);box-shadow\:0 1px 3px rgba(0,0,0,0.5)}.popup_block{color\:Black;z-index\:397;float\:left;position\:fixed;top\:50%;left\:50%}.popup_title{padding-top\:2px;margin-left\:20px;z-index\:1001;position\:absolute;direction\:rtl;font-size\:12px;font-weight\:bold}.popup_inside{direction\:rtl;font-size\:11px;text-align\:center;overflow\:auto;color\:Black;z-index\:397;background-color\:white;border\:20px solid #ddd;float\:left;position\:fixed;top\:50%;left\:50%;-webkit-box-shadow\:0 0 20px #000;-moz-box-shadow\:0 0 20px #000;box-shadow\:0 0 20px #000;-webkit-border-radius\:10px;-moz-border-radius\:10px;border-radius\:10px}.popup_close{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACkBJREFUeNrsWgtwVFcZ/u4+spvdzRPygMQ0hIaXIJbwqAMUEGc6Aw4IWHUACzpMoU5b7dRxwA6M2gLFOlULzhCLBRlA6ShRFIThmRYoTBqQSUoCgQ2QEELeyb73vvz/mxsaY/bubhpAO57MP7m7uff833f+5zk3gqqq+CwMEz4j4/9E/tuGpfcHQRDinoBjjJ4TKioqclNSUmbYbLYiu90+NiEhId9isWSZzeZkvk+W5S5Jku6Fw+GbwWCwKhQKlXd2dp6ZMGFCPU8zUAL3Y5wvemQgC1FXV7e4paVlp9/vv6nGOfgZfpbn6Luo8RDRsA+QiMXtdn+DQBxUFEVSP+XgOXgunjNeQgMlIpSVlY1vaGjYTi7SpQ7y4Dl5btbBuh4UEXNVVdXi5ubmM+oDHqyDdbHOwSZiuXLlynPt7e3XyQ3UhyGsi3VGc7V4iFgqKytXd3V11T0sEj3COlm3EZlYiZgvXLjwzba2thsPm0SPsG7GEMnNYiEiHDhwoIiC7/yjItEjjIGx9JcAYiHiqK6u/n0sijzlh9X6dVPUu28tVcX2xthW+u9vq/VrJ6nNe9aqUsAT9X7GwpgiEYnUolhKS0u/lZeXt6Q30Ujir3wf9txCwN+K0O2qqPfLAS+CNWVIHDMZ4ZuXIXe1Rn2GsTCmSPESiYhz+PDhy6ndcEZLf+0H34Jafx5JWRlIyslG5182aSAjDSXoReu+DUhQWpE0JA1JQ11o2fUy5I57hnoYC2NibLESsRw7duzr+fn5s6KS+NuvIVWUwOUQEPjwz1Bqy+BKM6HjvfX9klECXWjd/xOYWsphFzzwn9gJobkGTmsXmne8AKmtwVAfY2Js/VmlPyKJWVlZC6gPNBmZuv3QNoQuvgenwwLxznUoYghSexOE1jq4nDLa969HgMjcdydvG1r2vwah7hwSLTK51FUosgqxuQEmbxPsaEHz716iOe5G1MmYGBtjjEZEWLduXWF2dva0aNYIlpcgiSwh3XVDCQWpfTVDFcwQW5qgtjfAaQ+i7Y+vInjjIlnCg9a9r0K4cRIOGxC+da0bnGCi5wQicw8WfzsSfDfRcXynoV7Gxhj7ZrC+JrJOnTp1dnp6elbUpmtIPrwfHyLfFaDlDFXpbsYJnNjaBIsURnLmSLSXbIaQmA5L13UkJgoI3r5BtwgaAUFR9e0DEKIF8CdkIn3Uk4Z6GRtjpMtKknAki9gzMjKKYmnW0p/ZADFvBvx+mXMgVLnb/Apfm8wI3SOXCYeQQgnAQUnTlZWNYL1b48r4+X6dB0RJgUdJQuqSDXB8YU5U3TpGu5FrOdLS0gpjSbmWoZ9D5qpfQX6MyUjgNaZ03y2yAiHBAX9tJaSaczA1V8F3uVRTpyi8yeL7FG0/JYoyvGoy0pdvgXPa1xCLbsbYt6b0JWJLTk4eFvOmJH04sp57G8rIWfASGXYvBqgSGXYdJhW4VQ1fVRnkoB8KE1H574pGXCISHqRhyLffhGvqgpj3IDpGmyERl8uVGtcOi8mQZdRRc+H1cbR0r7ZMVtE6ByulfXsSVLMFsiJrJEyaJVR4hCHIWPHzuEjw0DEaErHSfjsxFvP2FnPaMGR9500IY+bC41O04O1xMWIERWJRtLjgwBBFBV5rFjKeJXea/FXEq48xMlajrGXGAIfgSEOQso6Z3UoTvRf6pCnq/mWCFicBxQHZmf1pDk7MhgXR5/OF4p1R8nvh3vk68NEeOBLY93tlsPvEFO2zLLHFVKQEalD/2x+is+pi3Az6w9iXiEybGU88k3ID6N65EeqZYrhsMiRJ0bKSqqWn7mtZT7Wq5m70WeTyqSCl4zLqil9B59V/xkVExygbERFbaMRjiRvv/AzqB0TCTm2H1J1+VVXW3CdMsaCIVLPkMMJBSYsZzTIU9BIRMpFlktsv4da2l+Iio2MUjYiE6uvr62IJONHXhZodr0H84B0iIZE7QctWirb0KsIhCXJIhJmCRSDQZiWMUJCyFv/oBVGUOMvJSCLL1G79PjqqL8UU7IyRsRoSuUYjllW5uecXkMkSKQ4i0WMJrVQTiTC5T1ik5lBBi70QzRkzyLUssKoiAtQJdMePoglbxiIQmbZLuPmbl+G5XhFVt47RkIj/6NGjZY2NjZ3RJgtfPIjUhBCCVAi7Y0DWiIghWSPhoOTYbBuJ3O++jlE/KoZv9EKiaKUfkToBsTuL6eSZuJlIJrdcRPO5fxjqZWyMkbEaEQmeOnWqqqKioiaaeRMmLYBftNFqKhDDspZuZaoX7E52ItGWOBKZK7cg7cl5sGfnYcTzb8A3ZgEUkxU2k4xgQNJIsEUkkVyQms2u9C8ic6ZxXWFsjJGxGgY7SdN5GjIvs9Em59m1UJ76HlVsJ62yrPm/Qi2Hw25GwPU4hqzYgqyZ87pbW+7wMnPw2OpNkMcthslsg82sIBAQibhErb0FbSmTkP/CL+HMHxs5QxImxsYY+wa70PvQQT+NTyL50okTJ7ZOnz59lGHqpYx0dftP4bpQDIvsg9lkQpt9JJJXvIGcp+b1XwOaGlC9bR3y3H8la4SIlAVNqUXIfHEbskaPN3Srs2fPXps7d+6LdPkhiaf3aXx/O8QASe3x48dLvV5vOGKMhMOQyDVyl7+CunHLEEoYQoFdAGnhOmRPfzoiGGvqUAxbuR63cr5CZkpDnXMiElduQnrBaLJQgNoXkVf+P55jLIyJsekYEc0iPFJIpu3bt2/TokWLou5Pbte6UXbkIDKH52DmwmdiqgWVFz9C1bn3MXLiJOSNHY+hQ4d+4t9Exmr9t1YKJSUl5UuXLv0xXV4g6ez7fiTSUaSPpGb37t1/ysvLyy4qKsoxApU3ogB5z/8gruo8ftJkTfq1Wh8S5eXldxgLY9KxGb+x6l20Se4dOXLkeGFh4eO0vVwyYsSIVDyCUVtb27F///4jjIUx6djieofIfujeunXrH/bu3Xvyzp073odNgnWybsbAWPqLjWgW6enA2Rc/3rhx47vUfpiXLVs2u6CgIOVhkHC73Z1E4vTmzZvfZQw6loglIVKw9yWbSfLE6tWrKd6WfnnKlCnZD5JEWVlZIyWak8XFxfvo4yW9bkhGL0NjIdJDhtPK52fNmvX0ypUr59EYlZSUZB1MAh6PRzx8+PC1Xbt2HS4tLT2qW6IlEomBEOnZkbFbFZBMXLNmzYL58+c/MXv27Fyz2Sx8GgJcsU+fPl1/6NChS9u3bz9IX13WY6Kz775jMIhAP93j/TIf4PGRzLhVq1bNnTNnzhhyt2G5ubnOeAhQO+4jN7pLvVP1jh07TtBXV/QUe08P7KgvNgdKpLerOfXYGcEylgZZZ+yECROGU6pOz8nJcVGRs7tcLotemfkVdJAzEaXUNmr+GsgKVTz0al2rx4LPyJUGm0hvQmyhVJ1Uth5LqXrP5uh12iHqrTf3SB267zfq4Dt0C0jxAhgsIr1dzqofYzr0Myeb/l3PaYeskwnp4tdbcXEw/oVjsIg8stFvr/W//E9o/xJgAJDIrE2uzeflAAAAAElFTkSuQmCC);width\:50px;height\:50px;z-index\:399;display\:inline-block;position\:fixed;cursor\:pointer;top\:50%;left\:50%}.ui-jqchart-tooltip{position\:absolute;white-space\:nowrap;padding\:.2em .4em;z-index\:9999;border\:1px solid #ddd;color\:#333;background\:#eee;-moz-border-radius\:4px;-webkit-border-radius\:4px;border-radius\:4px;-o-box-shadow\:0 0 5px #aaa;-moz-box-shadow\:0 0 5px #aaa;-webkit-box-shadow\:0 0 5px #aaa;box-shadow\:0 0 5px #aaa}.codal{font-size\:9px;line-height\:9px}.share{font-size\:10px;text-decoration\:underline}.rss{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJDSURBVHjajJJNSBRhGMd/887MzrQxRSLbFuYhoUhEKsMo8paHUKFLdBDrUIdunvq4RdClOq8Hb0FBSAVCUhFR1CGD/MrIJYqs1kLUXd382N356plZFOrUO/MMz/vO83+e93n+f+1zF+kQBoOQNLBJg0CTj7z/rvWjGbEOIwKp9O7WkhtQc/wMWrlIkP8Kc1lMS8eyFHpkpo5SgWCCVO7Z5JARhuz1Qg29fh87u6/9VWL1/SPc4Qy6n8c0FehiXin6dcCQaylDMhqGz8ydS2hKkmxNkWxowWnuBLHK6G2C8X6UJkBlxUmNqLYyNbzF74QLDrgFgh9LLE0NsPKxjW1Hz2EdPIubsOFdH2HgbwAlC4S19dT13o+3pS+vcSfvUcq9YnbwA6muW9hNpym/FWBxfh0CZkKGkPBZeJFhcWQAu6EN52QGZ/8prEKW+cdXq0039UiLXhUYzdjebOJQQI30UXp6mZn+Dtam32Afu0iyrgUvN0r+ZQbr8HncSpUVJfwRhBWC0hyGV8CxXBL5SWYf9sYBidYLIG2V87/ifVjTWAX6AlxeK2C0X8e58hOr/Qa2XJ3iLMWxB1h72tHs7bgryzHAN2o2gJorTrLxRHVazd0o4TXiyV2Yjs90uzauGvvppmqcLjwmbZ3V7BO2HOrBnbgrQRqWUgTZ5+Snx4WeKfzCCrmb3axODKNH+vvUyWjqyK4DiKQ0eXSpFsgVvLJQWpH+xSpr4otg/HI0TR/t97cxTUS+QxIMRTLi/9ZYJPI/AgwAoc3W7ZrqR2IAAAAASUVORK5CYII%3D);width\:14px;height\:14px}dl.ZoomBox{text-align\:center;margin-bottom\:3px;direction\:ltr}dl.ZoomBox dd{height\:20px;display\:inline-block;background\:#cce;color\:#000;padding\:0 2px 0 2px;margin\:0;border\:0 solid black;-moz-box-shadow\:0 1px 3px rgba(0,0,0,0.5);-webkit-box-shadow\:0 1px 3px rgba(0,0,0,0.5);box-shadow\:0 1px 3px rgba(0,0,0,0.5);font-family\:Tahoma;font-size\:10.5pt;text-shadow\:0 2px 2px rgba(55,55,55,0.4)}dl.ZoomBox dd\:first-child{-moz-border-radius\:20px 0 0 20px;-webkit-border-radius\:20px 0 0 20px;border-radius\:20px 0 0 20px}dl.ZoomBox dd\:last-child{-moz-border-radius\:0 20px 20px 0;-webkit-border-radius\:0 20px 20px 0;border-radius\:0 20px 20px 0}.ArrowUp{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB00lEQVQ4jZWSPWhTURiGn/N70yrNHURBFG2sJrSDii6CoEFxcxccBAc7qNS6OYmDiFKR4lA6qIvi4OaiYCFmcXCKXYpOggFxEINwm5zcP4d7Caa5Fnvg43A+vvfh5T2f4F9nmSNAI3/VmaVVNCY3E1+vzvv3ji74Y2q8kff+A5CLr1Vv+NXyDD/dby5NXfGNtA2WRiGySHy1NucfKk+z0n7P2q8vaDwuTl72bWIbPBqGiELxxDQr7Sb9uE9CAgIO+pN0w4AXq886fefq3MoyEUO2c/G7dpNe7IjTiIQUIVKklFT9KVy4zvOPTzuu5+rcoSUGgdXmM9vfmnTjHutxQBAFuMSBgJgIrTTHdhwmCUNefXjZcd1eXXGetbnaTf/EzpN87/5AScWB8n5ef31DEAeE9ElEzNk9p6lM7GPclNg2tp3Krkpp9XPrgmCZdGOy948v8uDTIp42eNpiteHc3jqP3z6EiKzC7NbM/hUkwBKplBKjNFYZrDaUTAYhAu4Oz4/uQQRSZACjNdYYPGMxSmeATfdgABAYpQYuPJ05IdwCQMkcoDVWm605EDlAKYXOQVqpQoAuBABndp/CM1mAJeOhpCwEiJHObdKNXzWoGHgyrPkDdGqej7PMgTEAAAAASUVORK5CYII=);width\:16px;height\:16px;display\:inline-block}.ArrowDown{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABpklEQVQ4jY2RvW7TUBTHfzZ2oFNdC7W1EyQGkJC6WErE0AEpGyxIgGBCPAEPw8wTMPSDhQ3hvUqlSijwAFFUkEttFKsJyfU9DHGuEsdFnO2ec/5f91hU6uPurjR8H6kOgGma8uz83FruOdUlAZ48fbMG/n3L5sv7d2v9NQKsucD3dIBojYiACO6D+zWe6gjKysYj0HpOUhRs6aI21rUEojWiFFIUhmTh7p8ECxU9mTBJEmZ5jrq64ub29n9GKFUuTk7QSpm3Go/rIxwHgRjlJYvLYAO0LA5aLfOU0kH28PFzL9y5U+tksX1vM2D/9VszztILPn/6kFnHQRBZrhvf3X/k3djYIOv3EaVIfg5XlG/vNLEdh829PSZJwo9vX7Pp9E/XAjgKw8h23Xir3fYALk9PKZQyYAFsx8HvdFB5TtrvZ0D31WBwZkIfhWFkuW7sdzoewK9eD10Uc44SPMtzsiUwwMphD8MwshuN2G+3PSmdCNQqm3TVsxw2mytOBK4FA9hVghfD4ZmezbqXvV4GoEajNdsrx6o2FnXQakUCcfmR3Zc1YIC/8jzRCbYNZzUAAAAASUVORK5CYII=);width\:16px;height\:16px;display\:inline-block}#InsExport{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAiNJREFUeNrsVc9rGlEQnl0DimcPIRQk0GPS4CGCSPHW5prmFgVB9Gr+iATyg0DaowiCeCv01j9AD1ZEodQgGlihB5EgmJhEjbq6rzMvq2xfs+1aCCXQgY/dfet+35tvZnwSYwyeMmR44nj+AkvigiRJL/HyakGeCtZSsSRA5O12+5OGxZdlmQNFfwJFQ1GgXC6Dx+MBr9e7g0uKZYu0PzRWt9uFZrMJoVAISqUSBAKBjYVqYLPJCNs8A4LNgImqgsvlAqfTCZFIBHw+3148Hl+3LMBJ0QojOc0LWZLL5fi1VqvBcDgEh8MB4XD4Eq37HIvFVn4how+NwHh3dX3NCN2bG3Z7d8d6vR7HaDRik8mEaRpWSIhqtZqNRqMfRb4lswzmmejZzJ5nRf7rNuVEM0KySbdqOp1CPp+Hfr8PmA1HMBgEu90O9Xr9IpFIrOInu5YEJDED+aHofr+fZ9BqtTiIHG2DdDq9jHa8TiaTLWsCDwPHMbMLDGtU2E6nw4ucSqWgUCh8yGaz59b/KgRycdCoRd1uN2QyGRoyhp31daE5EAnFKaad0/2brbfwpVgs4tI30yo/1qaDwYAhCRuPx0xVVd6aWGTenvRcqVTw3YgdnBxf4O/XaE8iz5zvUYH7e1MBmgel0WD7R4dEvkkumJGbCWyjgEZDReRGAQocQO307H1B3/lvyQmSeGSity/0nZlNlKZ7/p1ZOG+l/2fyPxf4IcAAabqxa/ydj2YAAAAASUVORK5CYII=)}#InsMenu{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQBJREFUeNrUlbENgzAQRW1sMURWSIVEnSWgIAViCqZgAlqgZYGUqWlZBFHQIIKRbMGBjWVMkd9wRnePz/lk42ma0B1y0E2iPMiy7DM/nhd53zRN3xswg84vH6bErutQnuevnWOuvu/Neuo4x63gqutaxEEQbNYqhWGoBhNCkOd5qGmaxQWD6whjrAaP47hAebKuY2hgB46iSMRsxnUdU0rVYPh7uo7Xhg7BsFfWegzHxnVdO+MGvwwLjB1XVSXiOI43a5VY7unm+b6/jBxzAQuMHTOt57goCi1wkiRqMEzQdSw9NmUqy9KO47MCmYZhkILb+bC/enG0YjP/7s77CTAAnstMbYdkZhMAAAAASUVORK5CYII=)}#InsChart{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAArtJREFUeNrsVVtIVFEUXcfRwVGn1KCPMARJSIjxkSCVpviKXij9NVJf4UckRARWEn1pUdkDI6iPqB+joNJIoSRTSMsB32ahFYhFJfnI0fExM/e07p0L6VwjpSSCNiz2vfucvfY+e+97rpBSYjklAMss/36AQH9DRlk9lAATnGERqCqKh1O3W4n8ik5YJ0YRoHif8DWHUPW2uf4NJzL/yAlydJ27PCWScnbO28jvBnisUuraJ0KYR/ocxxpLspLdrm+dtIwuJUCdTljrV4ZcKQSkwAPFMzvYfev49fTSp63NpXsOcC3ckMTPmkzJ1uuwXfi8XNQhqrcnMAheU1D+166agrTTDaMKV7eW1b/Dj48195cn8Ew5X2oPXu+EyZdBSCtwagb4ePL8PjlmCnT03ztX7QwNh8tiZVAz3NOTLbqvY4F+yXmgxAaFRaYkXW6TN2xZ718DfbStsu0qsj8Pi5DdwMMBGlR8JjZcfaX5EBtVbeDzN8RXdGlt3J1hP5p80SELo9bbbVe6kXSpdSil5H5NPzBMykc93PSG+EDEXesDE8Kms00GPuF/2Q0IoWkF6L2TuT/6bt7hIcvM5EEhUdtUnBbDpRVM4QW9Grhzh9rEYMJCZDJQb2HsPD5DgB4GoGM2618XByQxs7ZQ1ziPqkw7rZGW6qIERAOJHUAz9z1Tgwh9WsxEjB+focnMvJyoI6Y+Ae1Cc5Dq7AebvB6NhH1pTwA2c086V6qo4SZci/wOjujza9lycxDSOdzM8sDrGm8xu2e0MqhB2Oz2RCCVj3narAAXlAXIDCWqFaIyCtjL7CttQMEaYB3NK4nx1DON/eolWH3Ipl2COuFcAmHz4zN8aDuBYqpy4os6igkVHW+tE2PqDQrFNxXz9nOK1ITs1LejFnMCoU/REmQtsZoYIgYNfP//yX89wHcBBgA1zTrz74ivwQAAAABJRU5ErkJggg==)}#InsSms{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUBJREFUeNrsVb1qhEAQHn8Ki0MOEbEziFiIWFhYSirrPELeLPEJ0lvqK4iV+PMGh4IIimZ3g5LAnV6yd5DiPhhm3Vnnmz9XZp5nuCeYB8EeWJqXwzB8RrIZIb/nAKk3JE8XjvR7QfA79g/f94+app011nUtxHF8oiEgzqMoOmsMgoCcoSEgUFUVRFH8sdc0DX2TOY5bNcMwfxqEzQx4/sssCAJ0XQfjOMJvx3qTYJomosuyhGEYoG1b6Pt+3Xcch44AR4zhui6p+dKH72sqgqUcRVFAVVVgWRaJPk1TMAwDJEkC2u+AQNd1kGV5jfpwONwmgwV5nkOWZWDbNrAsS55N0yQZ7E3XVQS4HIqirFFjx3fJAPcAY8nmFj04oeYePc8DLAuWNW48GgSqu+glSZJ3JJdu0wrJ6+OX+b8JPgUYACP+ia52EGNWAAAAAElFTkSuQmCC)}#InsAdd{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPtJREFUeNrsVdsNwyAMBNTfdpBukAk6R7IBk7BBMg4bdJD0P+kdMi1FQaFV8lEpliyChe07PxQ9z7PaU/SR4D8S9H1/xeGgjdaaJg+1bdve13xNJZAQnB8CqMHpahxPlQkCciA+8zIMwyMm3IrBh5CFlOo3Bqw5AjgECsip0zS9GyfB8W6UZB662BNTQOgQMARnAAY3xiyyoB1nsSeLDOBEh1fNc8ntYFLsiVE7S2mKPOvPaUnLE5ELYhVLSMUb/w0Dy8al05I2OdqTJeVbW81ApuEW72Ay5k2mdF132WUPMvSbbDLr28gGp7bNNtlKnVW6WMf/4EgQ5CnAAGo+oFn3knk1AAAAAElFTkSuQmCC)}.InsBtn{position\:relative;top\:6px;width\:24px;height\:24px;display\:inline-block;border-radius\:4px 4px 0 0;margin-left\:5px;padding\:0;vertical-align\:bottom;background-color\:#fffff5;transition\:.2s ease-in}.InsBtn\:hover{top\:0;background-color\:#ffc}.highlight1{background-color\:#FFE5E5!important}.highlight2{font-weight\:bold}.highlight3{background-color\:#FFD7D7!important}.tooltip{border-color\:#FF9;opacity\:.95;filter\:alpha(opacity=95);-o-box-shadow\:0 2px 5px rgba(0,0,0,0.5);-moz-box-shadow\:0 2px 5px rgba(0,0,0,0.5);-webkit-box-shadow\:0 2px 5px rgba(0,0,0,0.5);box-shadow\:0 2px 5px rgba(0,0,0,0.5);font-size\:12px;position\:absolute;-moz-border-radius\:0 9px 9px 9px;-webkit-border-radius\:0 9px 9px 9px;border-radius\:0 9px 9px 9px;background-color\:#ffc;padding\:15px;max-width\:240px;z-index\:10}div.tooltip div.head{direction\:rtl;text-align\:right;font-weight\:bold}div.tooltip div.more{direction\:rtl;text-align\:justify}.SlideItem{-o-box-shadow\:0 2px 5px rgba(0,0,0,0.5);-moz-box-shadow\:0 2px 5px rgba(0,0,0,0.5);-webkit-box-shadow\:0 2px 5px rgba(0,0,0,0.5);box-shadow\:0 2px 5px rgba(0,0,0,0.5);transition\:.2s ease-in;-o-transition\:.2s ease-in;-moz-transition\:.2s ease-in;-webkit-transition\:all .2s ease-in;cursor\:pointer;border\:0 solid #fff;font-size\:12px;-moz-border-radius\:3px 3px 3px 3px;-webkit-border-radius\:3px 3px 3px 3px;border-radius\:3px 3px 3px 3px;padding\:5px;margin\:4px}.SlideItem\:hover{background-color\:#afa}.CodalIcon{width\:32px;height\:32px;display\:inline-block}.CodalJpg{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABbJJREFUeNq0V11sVEUU/mbm/u3d3XaRQAtKEFGjxpBCjSQ0RUlMhKghDdLwaIQEE/DBJzWGF40m2EhifEEJ+orFFFuDxr/gg0/yV02MCFpakpoUrF3LlmW3u3c8Z+7d7W7Z3XYVZ3Myd+6dOeebM985c1ZorcFNCGENDg5+Sv1TQRDgvzTSAdIx2NPT8ywNC7XmlOyah2iQHBoa0rerTUxM6P7+/gHSq+oBYLEq3nmlnZ89PwwhJQT9Fts0/2h95/oOHDt2DLt27cLmzZt7CMS3vb29T9TzhKz0XOnBdhw4tg3HaUJoPq8zSgl8Ov032tra0N3d/djAwMAVVrsQgHJTpEAp1bxIWeaA58cwOfkX2tvbsWnTphUnTpwYrQWiPoAqYeWWEYvGthFRLUqab9EBwyNvJJKJsie6urpWEsnH54OwarrFsowbmQNaSBIXTBeFIhxkCXXhFnYwjYsqfHvfvWtxvL+fXWGIxtxiTlBbRhInSTcEwDuRZjcSgfTQnn4bfu5rUpjFy/oC3BquMwCIwxvpwzMbOtFBUif0nIU9oOYAQDnwp07So2++JZMULpWMlXMIWP/Pk8CZa8DetlHktTTA2PA9q1ejCRKqsvD5YiZDMoURsQM+naBHsD3uaS/+9GEsGV0F//phxGgcJ/ckSVw6RofEVqHUa3U4oCBFmAUsmUPfmjECQs+0nbiOUEv2FHBz4iCyMgVQ77W/gCJHe5F1kBcDZXQEpay3WA9YVR7QSJKWFpIEzfbIqKNCL2RHXsHNQgy5gmN6HrvkGcdCFDWhDtbXFAClZIUIxGg9Cxt3WaIjmBr/gIwHJAXT8zhmhfNklQ7ZHIASCUNRxqCj5oRBOLQyufw53LgxjRs3M6bncek7ryvraACgThhaETph3Me7daUJ64obD3ho4yEo9xBGdy/D3UevoZhDyAHBOjwERIYAuuEdUjcMTU9JSFkxjFzsJLfGyWj1TgSBE5Txslcd/PbLNuh8npLOLPFhBqrrLGQhSzEYLB5A6Y4u5XQpOMcDmekiijZMZFQjIOUyD7z2IDJT1FPG4ws1O1s06xRHga5RAywmFXNWMTsmRZPXrhK7Z2hcg82iOh1qXURudsasEwGdv0b12TUCICMDjrLN/V6qB97d88e/qow4AVXqkTU2UAXAUYnobNFUMVK3NJunp6S/LoBvJvZi7MxaXDh3ESHfxFy9E52frmA1KxeRe02JFWb+6L2M1mvDwwc23I9LE78v7IGY1YrW5LKoJAsNBkEBhSDPT+Zq9d0Usrk0xTjXB3Z0E+ZoTgG+kyIOZGBbHrncMiC4VGO9C3rAoCZxXCe6DTmPB8gX8nhz54/48NRuPL/lKNIz40jF78Tlq6fx0Xd7KC23YP+2z9ESW17W9fonGwmETealAc1654fxrVEQejBcKEUEoEg7Cz8Xdd70B4ceh++lcKDntHm3b2s//rw+gr7PtphIUeQV147DUnbkAV3WvagwVHSblM5WaN5DlBmjioe/W3ZYWQlboNVfgcOnerGkZSVWph42Ox2bpEREUWCqqga3oVWrarFtK+KfprMNoHRk2Apd+NLWr7A0vgrnrwzAc70QHK1Zdcc67HzkHTPu+7LbzOdsGuYH3cRdwACYcux++i1N3lUu17kd+X4HEco3JPTdpHm3Y/1b+PjcfrzxxToc2PaTuQEtU1eo5u8Cm+p8TeSziLX7Hj1p3l1JnyFjreY54aeIJ75xL0fI8eEXsbPjPbz65FnkizNmjut5BNKpSbwGUUDnzSU23b/ssUDP4sjp7cYTwlRI0ox9vyUKMfaTg+nCON7/4WkTpuEtqhCLJWiObY7SrJRzOaPBZYTMr8OXElVJR4fpRVQjrcpwupyodDlBzZ8jTImOzC3ZsuLfMRV2WEOyZL6929TY0BTJZf5fULZbAcCO/jQ4+P8aJxImyWzJ7j8CDABtoD8gq/KjWAAAAABJRU5ErkJggg==)}.CodalDoc{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABaJJREFUeNq0V2tsFFUU/mbmzj7aZWl5mUqgtS0UaQHFgG0JIlEJNgZTqomPBEloRIwxIRr/aeIDEx8EokaJhF9GYkKXhlYxoFEiPwxoELQg4FZBaYAWWJa0W2e7M+M5d2a67WZfVbxwOzv3cR7f+c65dxTbtuE1RVFEV1fXZ/Rsw01oqVSqo7W19TH6aWabl7r5j9epTeru7rZvVrt48aLd0dGxh+RquQwQGWN+78ex4yegquqEvbYsC4vvWIRIJIK2tjY0Nzc/Qr8PbN++veXw4cPJzPWZBoxq1HUfNG3iBpimJZ+apiEWu46Kigo0NTXdJ4Q4QwbMpamRrAozm0rKGQGvszGChOqiUE+LDAQDGBi4Io1YsmRJVWdn51n2LR8C6QlXsfRGAQyi0Zn+YahKAeIRAnV1kOuCgYAc85BobGysIpL3rlmzpsZDQuRGQJMGKCRoJGVj3e4oTl5KYGzWZCcW0H4BeG5RNchjziw3NKbkBL3PotcS6vG8Bmge9CTg1NUhqTzx0WrKVa0ACzSI9k588MRazKtfmGuRv2AI0hxQJKGkH4q/KCIK2nPlch8GjXT6WwRNdWUlCmXBGAScEGhsAD19QkF40z4ZkiEjhdSuNhw/H8eyN78h4cDBF5fjgXe/Q4lPIKAzGXXopjouPbM6mhMBYrREQVNlHE3ScuyVFdCJkQ8vninXrNt1FOWlPoQCAsvnTsOtZUE0Vk+B7SE4tgttYgYIQkBzOyPBDiSJ4ewtG/Hxod9xOf63RMhH74/vOIr+GwY+3bgUyRFzdK/XWV5WPTlD4HrOCtgAKtbEA0WGoC+WwLaDUTnHrOcQfXXqEl5fWy8RSZGVzBtNs8fX/QmFQB1fiNzDSvZzVxKIJZLYcM9tpMyCScLnV4SxedUcR5nrQDYZRRugZYTAsUD+l15XlAWwflkVkikLCWL7J08vzbnf6xMKgUc+VXW645qC4aQJg2LMrB8ixYOUEW89ugCVU0vSxzp3l3yFQpC3EHkcYMWcx2zIT6/eL+cN8pyBOfHaKsoQC8f/jEslnIKOBaqU8e8NEOmpZfOm46mm2Wh4+WsoBc4C1rNheRUTRpbzgkUrHwKjRcS0sWP9ndTvKv5eYKbGySjagIBwoBJC/KfrmKqJrAz35Oc04JmDYdTH/8LP3/eSECfP03fG4g3I3McoLmyqwckj4fwGBGmkVFdRGvbBJtIZIxYmlwhcT6QkKbnq8QnJuc+VkRWxXTpfWLgw0T+Djm8u3eWlAnHa5+dLCi1kuUFRFAdIql+XTI9uacJZuohMDQmUUc1v3dkjLyZ1M4Lo2rgAvw0MY870IJ7fE8WB09cQJCX7NtSjhsaiNFdLz6XvHMNQ0nRLVJEkJJfoLu1gvuLDX8gLBZuaKxBpb0DlGz9iLz03RaLYfyqGlvnleG9tDSJbYvi8vR691wys3NEjzwzVRY3lFV8JyVDLr8H2OZv8pTpCk/x4/4d+KTQQ0ul+qOCL3hsIhf3yyeMGhWHOtCA2f3kekyiEJSEfArRXJeRskpcFgDwI0LkOxT3D/SSAPJjsGlQedi8mFCbIMWV0nYOecJin5GBl4bOAqKQL2bkNU1WL0/5tq2fjTMxAn2HJE69lXrkc52eKPzLI0ySNb31wthwfJAsSTFi6CziyiuQAL7NV9zpM7dCTtagt86E3PoIXvu1DCcG5bv8F7H5oFn6leN8+xY+WyB9yvLXzHLaunIkLz84nY5OoK/eheudpyYNsGCgZ34YzGl46dLnh7lqywJKXEMO0ZWpJuJhQfDiRXTQs0zBEIRhMWm56Ql5YkjRpuflJJ4oksOKeDz1Houh5+95b6K0/26cZSR4ZoEXTYRdRbMZ6Ukx1Uhz5+RCYTA86STC1WJkTbKzsKvVz/F3AujMN0N2PBj/+v2ZQT/CXEev+R4ABALfYV2x8zufOAAAAAElFTkSuQmCC)}.CodalHtm{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABn1JREFUeNq0V2tsFFUU/u68dna7bbctfSiWl1hqyqMIKLS2IlFDYpQ0KKn+8IfID6MxkcgfiEiMTzQSDBqNGmOiSVNMsRBUEowPQKiIUKAoWJBSC7TQUrrb7msenntnd7uru+026m1OZ2bn3HO+e853zr3DbNsGH4wxpbW19Qu63m9ZFv7NIBsgG60NDQ0P0aORTifuV9zEHnJ37txp/1ejt7fXbm5ubiG7ciYAXJSk3/T4yo8cPQYmSWD0l+2w+R/NXzC/Gk1NTWhsbER9fX0Dgfhm1apV92SKhJQcufiNqmnQVBWaNgEhfT5PGCXwg4PXUVpairq6urtaWloucLPjAUgMmQzIspyVKCSqIkMjUWXHnEQccHvc6O8fQFlZGWpqam7YsWPH+XQgMgNIIwoJd+IicSuOeFQJXpI8TUa+S47NB1wUDW+uNxGJ2traG4nkPX8HoaQNi6KIMCYzQKIHhRumG42uh66a4BrTvAybOwzs+tNEVR5D17fn8OXCmfh8ezOxggmicW5xTtAoJskhGRwTAF8pB5DsnC+uPwK8fDyClgsWaNEOQPqXS1Z+WK5jplfCC+0GZs2dLyRD6WnjR0AeBUDpFCvu8tt4eK8fps1AfsBtMWGAwYgCy3aPYMtiN3yKjcsXuxE2eF3AEVKeMXUqJkBCOSEqiYcYvqltGG5m4/FbNHjI4BOzXCQ6olETCoXYS++e3RfA4hKqCIUqgovMRRGSaUjpOSA7USCRKfEXRyyc6Itga10+Ws8E8Viljg11Pqyvz8fTsz2wDQuKacFN633jyDARUBbzJIXPl4W9TCMDB2TRTp1oELH8IWxdVoiX9g9iOGzivV/8ePvwkHhPvkiYIJxEkfmxK0h8URCSTEpXbEHxtpt1CvjKk+TeGV509IXRcz0CmXdLw4RFoTciJsIEKBg0MBIyECSJRAwwAsQjkGxjQhHgoWexRqyQscsBC+8eHEC+LlG4bWyoL8bq2kmCif4hA5f8UZCaWLGfAFm8QBnviKNteoIpUBLl56Z6e7+tD4ptgZnO+48P92P1EgIgqVi7+wK+Oj0kdMNRC9MLdRx4qkKkjtnj7yEZIxDPv0Q1+PHBPqy4NR+7Tl6DS2XoHTRRvrFdlJdKS9dJL0qR8RAfPnlkGixGEZB57scHIKXbo5Nbbyhi42xfENsaZ+Kjxpuh03uT8s9MRyJhA0OBCFbOKUDn89SASjyiR0gstY2nnAGyacXcCqOVyRZlMGrgymAEd1f6UDPFi86rQbzzaAUOnfOjekoOygt0FOZptB3biFI52lRFUuoJJbsUSDE9TZYFdUQpEptXzivGtOcOgOxjzdKbsHfdAhG8WZPzEqcBxDujnK7mWYr9jAByNEeDSall8+mT8zIdvkavbPSSacTtZwTw+k9ebB/5FafbuxM7DUcdb0o8hyaFweBpsZNbd1wvDoeNnpJiG0JldTnOnfSODeD8dQWFsg/dxoDobAY/s3EekGXuNEhllueWcduU3AQI3idGqPaP9QQSdnhl8HdRM3buo4CWSj6y3zc2AJXqRqXiVdwqwjS5a9MdmL6pjTYXSdT4pVdq8MGBy1hTW5ZipK1rCCs/PIXXHpyBhVNzcd+242LZXz8zF0U5Cm7ffAQK2VWlcapg9FAoI2o7B9QIrV6hvhAxnMl7Ogexfk8XQgTI/+oS+DYcQp4uizlVkz2oLHHD5XbMVpV5MDBsIErEjG/fWZWhRaeP+EYyRACoFSAYS7CiK/B4NUiGA1D3qnCRPk+PjyJ3sDuAFdWTxLtdv13DA5UFMDQ5djLIBgCHqil0cSrBv3FRKu+pNUu6Csl0AIh77kCyUOhRsIXaduPsSSiitvji95cEALiUTP7TAaAIaHyC48D71gmazxCiFAyvnUOhJnDk0DZi3Y10LQJFO4U4lDZ10la9vFz0jOazfnzGlTiArCPAVYnFkuqE3Ev51AmAEuOAQoTk7xMdgO4t/mw7vwTJc/vVEDoHw3DrTlMqojRl2hZY0rdhSdW673rn31kBm8LLyyxqceayxFYbMZ2y5GXFKbCISPdzz0jiuaLIhY4roRRSVxbr6A1ECRjQvv93dLy5tJR+7ov7Ta0C2woc3XfGy3lgx+iQ3MbFnFi34/cnRLdgQoc/H8c/mX4qpiPx7RlWYKwI+OgynaQAmMBHYfaDO7pG8gf/Lkj4TQKgxj4aNPx/g74sMEwSjfv9S4ABAKb1zeOe2sckAAAAAElFTkSuQmCC)}.CodalPdf{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABTJJREFUeNq0V2tMXEUU/ubOvfsGGltUahCwKhhDICgKqIml1jYkxCDVEI0/jP5utWlif2p8xUQrvhq1QWtiQ6VQWiA+fvkgsSRoxVgTbNKEkCZQlmeVbQu7O54z9+6yu91dWEInmb1353HON+fxnblCKYVYE0KYfX19x+nZig1o4XC4u6WlpY1eI+nmtW7+iXVqef39/Wqj2sTEhOru7j5BcmUmAGbKmDv2cnbkTxiGsfoxhWBJ8b/RaBQ11VXo6elBa2srGhoa9tD7D+3t7U2Dg4NLqdtTAcQ1WpYLUhpZFSvThLFwGSrgI802iEgkqp9SSszNzaOoqAj19fU7TNP8hwDcTVPLaRWmNoOUswUydeGyUPBRB/K+6oIwrZW5BNAerwfB4LQGUVtbW9rb23uez7YmACYJk9k6nVBYJsKNDyetNR23sX+9Hg8CeYG4Jerq6kopyC8kgjAzW0BmjQGl5yV8R77G5c/fg4jFAccEtbKyMtCJObMc10R0TND/YvpLPsNCVgDSMWmWIEC0tBjm0FlIk6yxbK81SOH0zAyqq6t1z9Dca7DAKgDY12W3Q9DDIFeIpZW1i6EQ/ltcTFoeJQvdUVKC1bIgQX52F4ACzzzzG+S5UViTQaibNpGdoxmXc3qmPWhGC5BZtRXSdZ7zumGd+h7LX7bDfeA1GJSKq+3JCYBJFpCZussNs/MUVNU9wK5GKHKFdfAtyPx8SK8X0sPdA6m5xNR7WF5aPRldQKhjEXwd8/m9EK8fgvrlNCSb9uO3Ie7bCaPpGajtDU4hIPp/6AGgrka/J9acNQHQZJMOABEQjp2EuqsM4uQARHCGEupf4LmngG0lEEe/gfr5V+DJZuDDDohHHtQsmTMANlsSAH4n5WpyCtH3P4N84yBE3f1AfiBWWajTc/cOUApA/fEXRx7xg+CUWocFEl3A2eBxI/Lqu1B/j0K+8CyZmxRdW+Kam7xxiUzvdgENtbHw1ymbCYCRjYji3e1G+Pl9MKrvhZqehbX3RcjlMCQBTEvTPE4KdU9Yk5sLTDMxIMik5xAZuwj/d51QkbBtlQ1oWak44eYA/8AxyOKt9Bq1CedGAYj6vPaEmTJFyu1gNJgk1q0wJj8jgPJmug7W1mJ0eJh0ZVHEQZUuTTMtp2CsILnlJDcrAOWjSun3w1NYaNcCKqPq6lUtQGeFZUHwXYAYLzI762QoreOC5HLpqE9aT0woKCt0JSC5Wn5oYZUYoNO5KPIZgFoMoejSxfhU6HgX5ve+jK3jF5K2hLq6sXDgFb03cX1kfBxT2x/X1zekScWMNmYAFp3IcmJh6ubbMLe7Gb62p+GtrNRj83vaECy5EzOVNbDoArL5iyMwnao3dWsxgtsqMPdYE1x0apaXUxbwBjahWrbvkJ5AHsSlSXvulkL7WUDFZ8sWTbVLnxyG/2gHXNIW6aGCJKggscu4q1zT0M2I2YcOAN87b8J8gvidbjvy9xF7M1c6x7TCdNn7WCm1/LHzdk060YPIoQ+4uuUAgARajqAY1coff4I6MwQ1NAzXpgL76l5RTr61dD0Q+18CBr6FK2DXhmgVUTGZ3qDTGxx4Kd8Pa6qGDiHYkT5CxYVyWAT8wJUr9tj+fYgnYmcXcPhTuqjYeW7k5wFe7zqYkJEm5j+jb9xFH22BlXEee3SnzYjC2cNAKc30KXk9r0nlEf6fwh3XAaD6FiQSKoRS2PBGyll+0lDK1zE7t5T6ZgBi4xHoZKAbDMb4u4B1pwKwnI8GN25cu8a8xd+IrPt/AQYAntHxL2P1ZVwAAAAASUVORK5CYII=)}.CodalXls{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABe1JREFUeNq0V2tsVEUU/u69c+/d3e7SKBbSKKHhh9RHBCXFFsQHIAhCsS4iQV5K+AElEh4xYgB5iiQaW9ESkURDgppYqLQiohZYNj4otbRAIIWQoGAKFKRI6WP3Pjwze3e7rt22i3WS2bl3zrlnvjnnO2dmJdu2EW2SJLHy8vIvaPSjF5phGKUFBQXT6dHsTC7W5j/RTs1XUVFh91ZraGiwS0tLvyS7SjIALGFOjz7U1NZBluWUd21ZFh4ZOgS7du2C3+/HiBEjptLz/qKioonBYDCUqJ8IILaiqmpQlNQBmKYlRkVRcP16EzIzM5GXlzeGMVZPAO4lUbjTBRObTItzD6Tc40C73C40Nl4VIHJycrLKysrO8L31CAAjY8ptdOaEjcfX7XLB6/PGPJGbm5tFJD8XD4Il94AS44AsKdAUncYOvJZtIWS202j+Q245WXX/4AdRvqdc6EVCYwpOUIYNoFcP9RtdAlAclwpXMjee2Z4BJrHYAoZl4sCCG2gL34JLTcPorem0e052LpdgErC6NXYy83oPPNABgD/zjWx9eTfCpsH9K2RPlqTjyBIDj77HsH1OmbNbCarCMO/TfFxquCYARjxmY9DAgeguC+I80BEC0zYQfLUFI4s9GP3AcEo1Wyz2wUs7MbJIRcnsz7Hz6EZamoOWUHnyCH5c3IJboZtQmRpLz043mtQDTIl4gbNattFqNuPnZSEETlcTuz1wuTwoO7EFm6Z/hKU758KT5oM7LQ2HTlUJPa7Pv4va4PZSAsDjqcR1Ig+5sxlVy00ETlRBoxTTdDe+P7MDK/2bcbiuGofqfiG5JfS4fvz3EX6kAIAXoc67SDIEa45C1V1gmhvB3/dgcf4KGMQPlYLqdXnRx50uutflE2FIVtSSk5Diz3cRe6dU8+o+DN0oYdkLK3GuqQ6VhwIYPepxOnQU1Fw6iML85cjZrIkd8/QkA2huD6H69Va0h1PkQLz7VEVDutuHh2nxBVOX4ExTLSyi3NNjx6IyeBiaSydPaDhL8/PyF5FRhg2ztyFshHD6TX7QWcJOaiSMkoe6W/dgyAYJ86cvwpXQRehEQs4BWWOYNHkSDgQCBMINmc6PC83nMO3ZGXjjk/moXWujzQzFyJhSCJS4EPBveUnZUboN8fcH5w4hwrX32woCk0+KEv6ymjDNPxNDVkuoW00ZROFI/K57AKxDFCYDx2k3kLo+CR9aJVFJVmPAxJLkedlSkn7TpQfirg6C4V01TtLj6/+9S8u0E2x1A0CX3REBY71xK6PYS4KUifaTAlhVMxkH+49DY209uVFGbzWeCRlDB+NAzXfdeEChMkvdrfog8UOIPjSsMIWfk43y24oQKvJsUIFRhfujixg0Z9mGk2JUAUnON2LTTYnb5faB1h7UAUoxhZc1sr3O/zVmPbaG7lLteH74Urw7I4gQ2lAyh+qBbAq9qO5s0uPzawvKsX7qXpqTInKNpUBC4pJMhUWik43ZMt4PLMS6iXvw6x+VGJM9E6u/mQJFd450lQ4tNcJ82wgjd1A+XvnsPrpDpFH9V6HSrUh4wLIjudzjQkSIZULONB03jev46uQWFI4qxsdVr6HZaBKVL+oprhfVvdx8Hm9N3oensl+EpMoxmZzEA0kA2BHDcZ22IyT9+mRB0mjXOnOAqjEdXg3fDs5FWf0WDBswHhsmVMBklpBFQmD3EIATAm4ctIu777gXz2UXori6EFOyF4p37npRpBQDISUsFqIqBJ+3L+pvHEPJsWXwaXcSWOaA1DoNAeuKhAIL3WQWDHsHhy/uxoWWs2Lk7xurZgn5h+N+EuO1tksoPrYI6/JKcfnWb8jw3INTfx6BRmFR5OQ1RUr4b9jviU13XR47YTxVMNNxhpOGRCSebpao65Z45vNczms0f1ecub7uTFxrbRBznIiSU8P5TfuHffsRWHG1P71e6eyvGV0ApUZSykh2ePyXJg43st+VB9JpyKLeF90ePbdXEHm0qJ/n/wv42okAVOdPg47/r7VTbxGHLK39twADAIieenyFsZcIAAAAAElFTkSuQmCC)}.CodalXml{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABclJREFUeNq0V2lQU1cU/t7LexEhFFcSqYoY1LqABLoJsqh0sQIjnYqgo512nNaZjtPp+EN/9Ed/dHOmM52OXceq/VEFsRMEt1aho6UqahUk4rghCgUMli0ksWxJz71JnokmIdj2vDlz373nvnPP/c5y7xOcTicYCYIglZeXH6B2hcPhwL8h0gHSUZ6fn/8adYcelnvWVDrugciKigrnf0Vms9lZWlpqJL0qfwZ4WPIaD/Ps/EJtHQRRhEBP6NsGHMPDSDEkoaSkBIWFhcjIyMgnI6oKCgqy/SHBSPRV4SJZrYZalqFWj4JpPvuOKyXje3p6odVqkZ6enmk0GpuZ2pEMUEhFClQq1ehZFJUYCAsfi87OLuh0OqSmpk4pKyu77c+IwAaEwN332nCoeDtuNJxXxtxORhihoYnUKEikpaXFUJC3PmyE5BcWSeIwjhQBdWercKx8N1LSXoZICDgF1xf6+HiQ7zkSLNBYbLGYIJpMHEHcE9QAiRYXRXHEuLtqqsFk7VTEzVrAQ4gt39nVheTkZM4B0k89MgKq0Ay409iAeQtT+Xy2W4H099ms6LNaHyzqXnhmbCxGEYSqR/ha/Vn8Ytyp9C+ePga71YL5hjTev0ryY8ZdGLhvhyxRRqg8LHEORAFiQAXR7c/D+79DQ+1p4lOYQVDnrN7Ix69cOsPbhJTFHIH7dgv2//AZjvy0g4xKRdbyQm4cI4d35QvFgC5zK04cLcGvR4phs/Yiesp05BZsxJJXivhuOfw3G8j3CdDFzOD91Kw8igER56oP4+xvR6g9igVkwPzkxchZ9fboDPjy401oumFCRGQUNrz3CZatWOMjb7pu4vKiDVsp/11eZHUgdUkOZyav2PcNak4exmVCThczHSvy14duwKKsHPJvL8ztzSj+/lPcu9uC5zNzoJ+TyAOKKeXpRn3vYGXvNScPofLQXpguVLtdlA79UwtHh8CrazdxPn7wR5w5cRDlxV9zfjF3Hd7avA2XL/4ObUwskp7JUr65196CDzYXwNx2hyO3KCsX+WvewczZiUEzKWAaMnpp5XrOjdfqUbZnO8x373DZrev1SHw6Q5nH6NZNE2/XbXwfL+StoyoYFdIZJvk7p1UP1YDZc5Ow5cOdHOLqygOw9vXS7jN95mVkr8TipXlBF3P6yYaApRh+JjMDZs0zYMtHu5D0bCYvv94yCEKgG0qILhBcClnhcAa46UyNncXZn0wUnYGuCj76AxogSBHu3QjB7luPJ/PSH9AAzdWtaFVrqeq18h25Krng2oL79cEQu1L5lymt+zBgvp9veJL0m0dwgaSBqH4Cz63fBs2keDSf343WS6VIXr0bYyJ1uHXqK0TFJGJiXDqfXrvvDRYwMKzawfudTdVoMxmRkPc5hvqt+GNPkeswcji5Xki2EQ4jQeTcfO5b3tXOXY6phlV8cUtbLbqbjvugPH6aAROmG3w8IEmi8i6PoasaMWs9uoMb4HQF/2DvbXQ1VmKMRodpKW9yUdvFnRScIoee0XB/H0cpPHIKhges7mCjW65XbZDpUGOsJuZJ5Qz1OFaLsLTXKH1rRz36+xoJRjLAHaD9tnY8EZOMsZP0GLC2uwGkTJAFJfZVsuhideC7xaMSslItS9AlrH0QnNGJmKRfysdV7ty3d9RBTQiNHa+H/S+TciDJkqTkniyrOLPv4AyxFLN5E/TZCIuKw6C9A5aWKkycU4ToBa+jpesS/19gNGi54VpUjsCQrcWNAO1WUinjs3P3Kno7ajaFhoAohWPczFz+3tu4D/Y/f8ZA323I4dGYGJ+n1P+BbhMcQzbOQ5ZryhniCcKQ/2e8/g2jK79YZp6XFEO3WFc0skcIUFwcQ3+TsWEh/zax4nalrg3Z71Zpac0O/4cRxRtN0nj7y+lJDR8nCl4Vx9V32SkE/XVj+oMhMI6aOJbewTU9NrGFutmFitbs8WeA7P5pUOP/owFiG6056Bn4R4ABADy8UCn7O6x9AAAAAElFTkSuQmCC)}.CodalZip{background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABWNJREFUeNq0V1toHFUY/s6ZMzOb3c0aLyE3g0hLETSSxvQlIYpW+lJoiC0hCL4URSG+NGmKxdaEpFqsWPFSFMEXn2LAJLsoxRQ0TYogbdqCeEFqmyakmsTENCa4cS/jf87MbLabmd1E8JQ/Z+bMOf/l+//z/VtmWRbkYIyJaDQ6TPPedDoNv0HfwTmHruvqOZFIIJVKwdXj7iEd0ZaWlgP0mvTSk9kvH5yX4lgsZm12dHZ2WEe6uny/z87OWgMDA4OkV/NzQArLQqB0eHh4rrm5GRNXroJRlIz+bUQAKvpQKISPP/oQ8XgcB59/AYlkEmlC4rGdtejv70dbWxvICYyNjZ1vbW19OhcJ1y7P1u0+6IYBg4wYhpcYSs68/55ypuNwl71G++U5pZScX1q6jbKyMjQ1NT0xODg4JdV6IcG9FjVSoGmap3Ap9P0QGZbj3XfehiaE/Z3zTA0EgkVYWFhEeXk5GhoaKoaGhia9nPB3wEeEI6ffOgWJYteRo9DIoPvdwRcBQiNcHM4g0djYWElFPpPrhKcDnCJS4kacI4zk6KvH1N5Tb55c30uzHNu2bwcVIGLRKEZGvlI1UVpaKj/JP6FsW8LLARkh59z3GgoydvJEHwzTxLHj3VhdXUGaa6qIFhYXUVdXp8Tn6hmFEdB4Qenu7VV7+3p7qAYo/4JSoGv4i5yZnJrKyA2S6zdv+vKK8K4BLS8Cuqajt6dHVf+J19/AyopEIA1uZZ1xeQbWHSS1qSLkQvOPniLlOkd9fb1ysvu14xC68N4nUZG6hLY1BITMJ2PeHqtbIDAxMQGTasCuCR0pLQU/Cud5EPBOAUXg54C874IiqqmpoVkgSQwoCJFUSiPxNrL1FGj2LcgVZZzgvjA2jsrKKuze/ZSaL5wfV+uaQ1IbRONbc0BCLAsxV+S6qZv4ZnQUZlERXnypXc3qndbzndtSCvw8VvmnSGXVz83NIxIpUbN8l+uJZALw7+SFHXBzpXF/B2RlyMr+Y34exUS1cpbvzDnH8hjzqgXhR8Xw2Oxyg/w0T4YDgSI1u1slHcOreBnbZAqYfV91TcDyISE5qqurCfo5+l3Asbx8W73bN4T4gG88yXL0+zrARMiJlOXNW2fHIe8UsfzRuvp9HQj//ApmjDL8cGXGidahUWv9N59cV6KaD3OQon1pSz3b59h62Jad+4d3VpH+2QIpEGFwI4KiyJqjiPhdDyB83w7yIZF1S3QsTn2XVV0pCDOC5NoyOSZp2VCz2xKkc1IvxGqhGuBKdFNXj8StuKuqFg/t6cuq5DQ5xzF+Zhea2i/i+9jLqNn3AdZWfoMZrsDSzGX8dPawuhm2EqnGyujO74BlV7ghnF6gpbH6+yVc/ORJpJN/Qw/ei7rnvsTkt6dhOFzBrX/UfPnTvRCBEuw6+DUEs6g/cAmVrVamx1rvkIV7geH2Aq5arCVkbkN45MBnWL51CQvXYmTMcCqfOWeY6gnuea508IK9YKMDEgFdZIqIEKdKSOGBx/tUhU+OdtH9D9JP8LitQNhGHm2NIhC5H4u/fgEzEKDgxTrkPtF7OiD3CcPNVZqgT+Kebc0orqjHL7H9FCXxRCCMZDzuRGuruH72WSrYINmkn+dmQN2SXL2b7gW6REBdQYI1XI3y2na1vmPf55k914b3qNkgNOQwgxFi0KCKemMr3zQT2iSkm5qqRks2y9QCpkda6DWZ2cSI0cxwBNPnnlEr0+f2wwyFaV342GI2ubFCzQhY+fHqrXA2XpZ7Ne4A0SGbzBpzCDAPgzJb/4blLIYroelBkrvza/rPQxr6k+QGyVLGbpYDuvOfBgP/35CkIekw4dr9V4ABAJW/Dh2pIIbfAAAAAElFTkSuQmCC)}.CalMonth{-moz-border-radius\:5px 5px 0 0;-webkit-border-radius\:5px 5px 0 0;border-radius\:5px 5px 0 0;font-size\:10px;width\:40px;height\:16px;color\:#ffffe5;background-color\:#424242;text-align\:center;border\:1px solid #424242}.CalDay{-moz-border-radius\:0 0 5px 5px;-webkit-border-radius\:0 0 5px 5px;border-radius\:0 0 5px 5px;width\:40px;height\:24px;font-size\:20px;text-align\:center;vertical-align\:middle;color\:#424242;background-color\:#ffffa5;border\:1px solid #424242}.Light{opacity\:.1;filter\:alpha(opacity=10)}tr\:hover td div.Light{opacity\:1;filter\:alpha(opacity=100)}.menuHolder2{text-align\:center;overflow\:hidden;font\:normal bold 11px/22px Tahoma,sans-serif;margin-bottom\:-1px}ul.menu2{margin\:0;list-style\:none;display\:block;padding\:0 10px 0 0;direction\:rtl}ul.menu2 li{margin\:0 1px -17px 1px;display\:inline-block;vertical-align\:bottom}ul.menu2 li a\:hover{background\:#aaa;color\:#fff;height\:43px;margin-top\:4px}ul.menu2 li a{vertical-align\:top;color\:#cfcfcf;height\:35px;padding\:0 9px 0 9px;margin-top\:12px;display\:block;text-decoration\:none;box-shadow\:2px -2px 7px rgba(100,100,100,0.8);border-radius\:10px 10px 0 0;transition\:all .7s ease-in-out}ul.menu2 li.br{display\:block}.rainbowActive{color\:#fff!important;height\:40px!important;margin-top\:2px!important}ul.menu2 li a.red{background\:#a00}ul.menu2 li a.orange{background\:#da0}ul.menu2 li a.yellow{background\:#aa0}ul.menu2 li a.green{background\:#060}ul.menu2 li a.blue{background\:#00a}ul.menu2 li a.indigo{background\:#2b0062}ul.menu2 li a.violet{background\:#682bc2}ul.menu2 li a.lightslategray{background\:#789}ul.menu2 li a.teal{background\:#008080}ul.menu2 li a.crimson{background-color\:#DC143C}ul.menu2 li a.peru{background-color\:#CD853F}ul.menu2 li a.lime{background\:#769111}ul.menu2 li a.darkred{background\:#880015}ul.menu2 li a.torquoise{background\:#007db3}ul.menu2 li a.pink{background\:#800080}.MwText{border\:0 solid black;vertical-align\:top;display\:inline-block;padding\:1px;margin-top\:3px;background-color\:#e2efff;font-size\:11px;border-radius\:4px 4px 4px 4px}.MwText\:hover{background-color\:#fff}.MwSetting{background-color\:#55ced8;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABlBMVEWRkZEAAACax/RIAAAAAnRSTlP/AOW3MEoAAAAwSURBVDiNY2AkABgGjQIGrIA0BVjMRleArgibAhTjR60YtQKvCQQUUJqq8QDKFQAAT+MC/87r+D8AAAAASUVORK5CYII=)}.MwSort{background-color\:#ced855;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAMFBMVEVXV1dXV1dqampqamp0dHR0dHSDg4OZmZmZmZmmpqa3t7fIycjV1dXi4uLz8/MAAADSiuT1AAAAEHRSTlP///////////////////8A4CNdGQAAAIRJREFUOI3N0dEOwyAIheETYyQosPd/260brdpqe7Wt/53hi9GAx0W4ITC7ACmdA4qRzgBBBDQHjKJawDOQl/ki8hhksL7jVlQgYPEYcgSKJFsJugfdvBUODKF0BVgLLOJVXKefk+1/Idslob6xB9n7J2Dvi4C8GUD0MAZWd2VDMO4H4AneADVvdY01JAAAAABJRU5ErkJggg==)}.MwTemplate{background-color\:#ce95d8;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAGFBMVEW7vbrAwr7Gx8bL0NfV1dXq6un6+voAAACy5n5FAAAACHRSTlP/////////AN6DvVkAAACKSURBVDiN1ZLBDsQgCESRYfD//7habUIsrdlkD7svJR76YCSt1A3yRwInHogCpUijiFVPJ1BH0xQHnggR5bcFW7gLTrQ9tRXozIT+uHGe2QQ7u9nObALMFIC2+F7IIno3/DliI+g+4rwgeG2SbeEcL1MBY/RVd4ELn34s0bKgEoW6BnTiL/fCLwgHEcgXgA6P0cAAAAAASUVORK5CYII=)}.MwExcel{background-color\:#eddeee;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAMFBMVEVXnBZUoQtqoThwpj6LtWO5urioyI28zK7D0rfIycfV1tTg4d/q6unw8O78/PsAAABzPbCwAAAAEHRSTlP///////////////////8A4CNdGQAAANlJREFUOI290tuuxCAIQFGsgBaU8/9/eyCmF9vpzMtk9lOTroitwt+H4Fugr1NqV0CiolFrKkLM3WwGfWRRFyLU12AQJRd9A5yXqT4A8Q7Sko8WaN1iy4S2g2pH6GDMIX0DQqz9AMrMZoVZNuCETkCWlJAhQXEgkYszsIpOErA9Aavsgo893ACDr5FzjIizaFdQIKXsM+rrFYr4e38dQxD8xPw4ZmASR1kQMTYZwMkEzj9qe3oE8ZU6A5hq0RlUH40Z924jxoWxW+u3wSrX5j2Y3mrTrX7uB+AfvkMueRg9tXMAAAAASUVORK5CYII=)}.MwPreview{background-color\:#d8ce95;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAGFBMVEWGh4i2tra7ydrFxcXI1erk6/j9/f0AAACjLFt8AAAACHRSTlP/////////AN6DvVkAAACmSURBVDiNzdLJEgIhDATQzur//7GETdCABy921cxlXnWAAY8vwf8AWmIp8BER8Ssw30UCdpGBIi7AzVToBiIp4B4idRwbrBIcgSpzeVbxNkJbCJQ2sFpL6fAEWC2IFzMkHWGjgeeMtUFpAk2Boa8xgGYjwK8R2SJdUT/HSczftR9U64iTos9d9A7ErUM5S9kB9hTYxelWyxDHax9CbyCEX8G+ix/AE6CeFvt7uLkTAAAAAElFTkSuQmCC)}.MwQuery{background-color\:#F0F0F0;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAMFBMVEUAAAAAAAAWFhYWFhYgICC/KwDDKwD7+/sAAAAAAAAAAKBBAgGAYAAAAAAAAAAAAABIazqKAAAAEHRSTlP//////////wD/////////62q0cgAAAFZJREFUOI1j4CAAGIaSAnZ2VHF2dAUsDEDAwQAjWZjQFTChKmBgQFfAQHsFBL0J0cXGxsbKhs8KNhAgpICVYhNwKCDSFzQNSfTYxIhuNBOYSPfFMFcAAGzOGZzWUuIJAAAAAElFTkSuQmCC)}.Notification{text-align\:center;border\:0 solid red;border-radius\:6px;padding\:3px;position\:fixed;font-family\:Tahoma;font-size\:11px;background-color\:#ff5;box-shadow\:0 2px 5px rgba(0,0,0,0.5);color\:Blue;width\:110px;animation\:NotificationAnim 2s infinite linear}@media only screen and (max-width\:1023px){.Notification{display\:none}}@-webkit-keyframes NotificationAnim{0%{background-color\:#ff3}50%{background-color\:#ffc}100%{background-color\:#ff3}}@-moz-keyframes NotificationAnim{0%{background-color\:#ff3}50%{background-color\:#ffc}100%{background-color\:#ff3}}@-o-keyframes NotificationAnim{0%{background-color\:#ff3}50%{background-color\:#ffc}100%{background-color\:#ff3}}@keyframes NotificationAnim{0%{background-color\:#ff3}50%{background-color\:#ffc}100%{background-color\:#ff3}}.TinyBtn{border\:1px solid #aaa;font-size\:11px;padding\:1px;border-radius\:4px 4px 4px 4px;margin-bottom\:2px;background-color\:#eee;box-shadow\:2px 2px 2px rgba(0,0,0,0.5)}.on{color\:red!important}.OutOfRangeBestLimit{color\:#ccc!important}.MainContainer{text-align\:center}\:-webkit-full-screen{background\:white}\:-moz-full-screen{background\:white}.connOK{margin-top\:2px;display\:inline-block;width\:18px;height\:18px;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAABV0lEQVQ4jZXTO0vDUBQH8P+5qbRqpoIgiAVXiygUrYIgdHBx1sUp+PgIrro7uAQKIhQcBEEQdHRykdYugti1IC0GwUEMDcYmx6E+YnPvDZ4lnMf9cUhyCZKYLnfGBjPUkvV+g2+r1lDxOxOykUwaC3oEYJAdzVPSKcKcFmF23MfmabQm3YiApYR9Dh/28r4Wyh+9ZgEqKAnAD4nL/fUYZIqBEgBDBRHzWd0ynUSIQSUVAgAhw5bVY5AgXtFBQtDNfKXzXDzxFpVQ4djLAZTTQb2gEfLCrBJKBUlf6yuYz6sbwxdKCGk0wXD1Bjtv4cdmbEfVgdmKO2rAeIpB3WC5tmVe9delPyQA4B0zknVsGQKorggAkTb+QMxotO9fdpTzqgYxT/0ggB92g/XWwbj3b4gJk5F0t75t3qlmtRCYJnpPvq5Zl/s6BNC8IwBtZm74CFaBtSAJ+gTQ4G5rt8NCqgAAAABJRU5ErkJggg==)}.connKO{margin-top\:2px;display\:inline-block;width\:18px;height\:18px;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAABU0lEQVQ4jZXUv0vDQBQH8O/LD6k1U0EQxIKrRRSKVkEQOrg46+KogzjoILj6BzgpsYL/gSgIOjq51NY6uNi1S8QgOIi1wcjlOZRgbO6u+Lb38u7DFy4cQVKdqc1RGhzwZN/iYuA+Wzsqxb0h3crY8zoEAIjhJntLsTerTcPst9r+WXImT0S0qIWA08LTeaiF3gvrOQKKGiXkSJz0jlOQ7WTLAEylQ7hwGhW/L0SMsjINAETClY1TEBu0rHPIMKudue3XoLS7oISC4k6egLw2EQAChiP6yqkTWay9rbgYuByquVdqCHYLQFuLMPvfH58bkpTyas9sjZim9dI7FyyWnPrxTe9c/kN2j0yn0oBdGaKFTCPzF2JuvnkPe6p9JcTEk4kooYjE2ph3F/wbAmPit6F9p1F5VO7qIAKPdz3cXtcPD3QIoH5GAOCZmZsixMoqIPpBPxgoa/SvW8cEAAAAAElFTkSuQmCC)}.underSupervision{display\:inline-block;width\:24px;height\:21px;background-image\:url('data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAADdUlEQVRIS61VbUiTURSeGmmCaCoYlVGIqCiC9qGSpFGJxND+9ENrRQO1L8om+ENi5gdiRj+kKAKZ/RE0V6BWDDG01DFSp9O5L11ryuac5lJK56r36d4rGUPLaV24vPfec87znPec570vj7eJ8e7Vq/qhFy8WGuXyxE2Eeeba2d/PH+fzXaaAAAzW1r7hAd6eRXrglQ/4D1dXDxl9faHm8WA6fhxdXV0XPAj1zKW3vb3IfPgIRgg4nWM+PlDfvv2hlOOCPUP4i9ezubl9WpHIpifAozt2QBcZiWGynoiNhaKlpfKfCfoaG5+Y9++HioBO5uXhq0oFtb8/tGSvz89feGm1xmyZpFWjSdHn5rpGCZgmJAROoxF0WES3GKE5LAxKiUS6NQKiksEHD96YAgMZmK2qioHT8W16GtrwcNZwQ1YW165Unt40yduennOmEydYU/UxMYBreZWALuYlEkZs9PPDSM3d/ouAn8ck94k61GLxOFULbeiXlhaYbTbk5OQgPj4eNwsL8WlmFqajqcxuTk6GvKOj0GMCRWtr+URc3Eown48llwsHDx1CaGgohEIhCBCEV6/C1dMLtbcPqMK0RUXWp7OzezYkaTWZonUFBZ+pSqgsl4lq7PPzSEhIgEwmY2VKT09HREQEOLKeFAhWGn7gAPqaGh9tSDD4tP6ZedcuFmQhpfg1HA4HW7a1tcHLywsikYjtl8bHoNm5E1Rp+vPnl18bDMl/JJENDGQass9wVB3avXvhmppya6xcLmflEZCsFxcXV222inJWTlNQEIYePmxf9546C2xX1dT0GUlZaPYzjx+7gdNNQ0MDUlNT4XQ63WzfSQn1UVFMccZTJ9GpVOaseYvet93XPqaksEzGk5LwY9ldlhTRbrdDoVCsIaYHc01NLHZs2zaMiMWGUiBolaSO43briostVA0j3t5Y6OhYF6S8ogJh5Ou1WK1r7BzH4UNmJiOZSkyEQiYrXSXok0prp6KimXHy8uV1wemhrLsbN0pK8Lv67q5LegNGg4NhIDi6K1ccbRwXyXtusSTqBAIny56oY+KSENNlZbCJxWumg1wXX+7dg/3OnXXt05WV0BP50kSt5CoZlEjqeO+lUquR1o0cUvXQJ3X409zITjGYCukzO9vFUzQ3y4YzMn4Mp6VBlXYMqmP/Z2rIX095/brxJ3VYRGU4FAqbAAAAAElFTkSuQmCC');background-repeat\:no-repeat}.underSupervision2{display\:inline-block;width\:24px;height\:21px;background-image\:url('data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4ggOCBseGt2LmgAABjZJREFUOMtdVXtQlNcV/53v7roQIFkf4AMwow6UwPCQUHWmmomVZmolmTGx0SZAlMdUrYqNk3FtFaNxamScZFpKzMMosqagEqE+JjFNNARTETBkCBIi4REeAXm4u1Ae3373u6d/LK5pfzP33rn3nPM7j3vmXsIUQkJC8JeDB9HU0oKHlzxOBZ0D2vH1z5g5H38O2rX9kfxbtdGPjozOJiJ0T7ff3Z+YfIePve8pTVuF3znLxeHHFip3zU2OjYnBrld2Y3h4EABAABBgs6HkrWOYYIVuAu3NymYu/gcKYhcsX/rFjdzQhsaVgX394VavoQGAYbMpPTL8x+GUxdcaVi5/b9t3P1TTs0/j7csXtdDxSfWwzYbnN26Ey+XyOTiQvx8p0dH4Sp/QCrKy1ai7N/jjD68UxVRcygxubYM1OgoiJRlaZDiDGaqzi2RtPWRbB8YS4tCxfm1x5m/TdszVgkazLl/S4jShOocGkZ75EpCUtBh5+fk4Wfh3YgCpPW0zag4X1AxGxbNn7XpzorHJMJkVs29S7IPJrMbr6qUrdY059LNEbig6VpfDEzMZoHKnU/vrh+eQkZkJmIOD2JSXR1988i+Boe5p148cvX4vMpo9h173mnyfzWRT97J/6/Uymz6pZGbXy7v1e5HR3Hj8xOdgtjTV1orXThyn8cEBoHlsFPUnTok93zWhvPjUvv7EpezZ5fCxGZKVlH7i7u5u7urq8u+VlMymyYqZ72XkeAeWrODrV685ipnRdu686DB1YOceB/HpSjzXcSes+aWcEXfSMtMwDMVSsjJNNqfG9u3bGQAD4A0bNvDY2BgrpfxOvKOjanhBrNn5x1dch5hn8rMZeM9ZQtr6RVECho51/657zn7r6xDL5hxlsVgIzDCZoWkazp8/j8LCQpSUlMDpdKKsrAzl5eUgIpjMgFKwBgeTNStDBVZdt6+sr1uLkGCsmBUmtGVd/UBNDSJaWlNtXoOtq58CmAFNg0YEAAgLC0NeXh4yMjKQmpoKAHC5XPBD0wBmTHtmDcQ9N89oaFwF7ySiqmsAFnYCMxo2b2tw/XwFS8Pw3Z5S/P/o7e3lmJgYXrhwIQ8MDPhKpJRf1/B45HDMYv4+/2A9mMEAWRAexwBgNWQg2aYBFosvqqnoAUBKCSLCunXr0NfXh+bmZoSGhoKZQUS+jAGQzUaa1QLoepDP0s4aRroJALwWyxjrOiClTzZl5KuABiEEVq9ejTNnzmDevHl+pz8FT06yMgwgIGDEdzJOmtyxWfCOPRibE3bH9Iyw2d2jwPw/Du4TJScnw263g5khhHjArHz6sr2D1aTOMjKihbM2w9i3V2g1kbOBR+z4MT72I6/NRt7LHxGIAKWmEmH/mpaWBofD4ese0/xJ6AoggrfiIqlZM8i9JPkKNIH25UuhnW1rNWFIKn5q5QV3yuJB852TJHVdQdMApfzRExGqq6tRVFQEAA8yUAoQAobbreSpD2jyySf6P41PuIjxcbrh8Zhiy6v7IZUhbifETsxkHp9z89YafHPbsD39G0FKAcwgTQMAzJ8/H6GhoQ/KZpqApkERYTQ925BCs3Tt3LprJCLixnTDK6b9YpnCl1c+wZPbtqDqwiUBZqo++kbl0ILH2LN7ry7vv21KMUvJUtd9b5KU/taUzMqV+wd9aFEcNzlPl4MZ3356VeSWnUZLYyPEV03fICw2BrMVo/Kt0/RowcGK59mMDyotjzMvXCZELZJaZARI06AJQSQEoGmsiHjyWpU5lp4tZHuHGHC8fGFLZvoLP+TmqdqI2dxvFfjM+YHvP/izw4GkqCi0BdjI8cKLzET4rLTsUNTZip2Bt78NskZGQCQlQoTPA7OC6uqBbPgasq8f3pTk/9zNzih4fNWq15gIpdVVFD4yxm19vcjKyYUAgJs36vDrX6ViFhGSOtvpiTNnKfCXqVcrj75eGhRo85gjow8Zrd8HTjbdtk60tPKEx+0ej1rUOLTxxRO3Xt37+6U1df88nBBPxXW1NHfYxYY0kLN1K/RJ/UGnBQQ+hHcLC7Fp0yb86csq9Ow7IN5nxtCbhWAAB5jnnBy+m+B0DyUeYZ7LAFxvH0clM4aPvCH+1tOO9MxMVJw7i5n26X7e/wIB+LzZwEyjfQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOC0xNFQwODoyNzozMC0wNDowMK4L4fIAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDgtMTRUMDg6Mjc6MzAtMDQ6MDDfVllOAAAAAElFTkSuQmCC');background-repeat\:no-repeat}.h250{height\:240px}.h210{height\:205px}.h160{height\:190px}.h150{height\:175px}.h130{height\:150px}.h110{height\:110px}.h80{height\:78px}.h60{height\:60px}.h40{height\:40px}.s1280{width\:1250px;float\:none;display\:inline-block;margin\:0;padding\:0}.s1000{width\:990px;float\:none;display\:inline-block;margin\:0;padding\:0}.s1240{width\:1236px}.s760{width\:745px}.s650{width\:613px}.s975{width\:972px}.s900{width\:870px}.s750{width\:726px}.s660{width\:640px}.s500{width\:481px}.s450{width\:420px}.s370{width\:358px}.s330{width\:318px}.s280{width\:261px}.s250{width\:236px}.zFull{width\:1240px;margin\:auto;padding\:auto}.InsInfoTab{width\:690px;margin\:auto;padding\:auto}.z1_4{width\:297px}.z3_4{width\:916px}.z4_4{width\:1222px}.z2_4{width\:605px}.z1_3{width\:400px}.z2_3{width\:807px}.zi1{width\:815px}.zi2{width\:410px}.zi3{width\:600px}.zi1_4{width\:297px}.box6{width\:403px}.ZoomBoxInner{width\:950px}@media only screen and (max-width\:1279px){.zFull{width\:992px;margin\:auto;padding\:auto}.z1_4{width\:235px}.z3_4{width\:729px}.z4_4{width\:974px}.z2_4{width\:482px}.z1_3{width\:316px}.z2_3{width\:636px}.zi1{width\:650px}.zi2{width\:325px}.zi3{width\:470px}.zi1_4{width\:237px}.box6{width\:320px}.ZoomBoxInner{width\:700px}}@media only screen and (max-width\:1023px){.zFull{width\:775px;margin\:auto;padding\:auto}.z1_4{width\:760px}.z3_4{width\:760px}.z4_4{width\:760px}.z2_4{width\:760px}.z1_3{width\:760px}.z2_3{width\:760px}.zi1{width\:510px}.zi2{width\:255px}.zi3{width\:760px}.zi1_4{width\:375px}.box6{width\:249px}.ZoomBoxInner{width\:530px}}.twbox{background-color\:transparent;border\:1px solid #ccc;width\:95%;margin\:5px}div.menu2{list-style\:none;font-family\:Tahoma;font-size\:11px;border\:5px solid #DEF;border-radius\:8px 8px 0 0;margin-bottom\:5px}div.aTtitle2{font-weight\:bold;background\:#DEF;font-size\:14px;font-family\:Tahoma;display\:block;margin-bottom\:5px}div.SubMenu2{vertical-align\:top;display\:inline-block;font-family\:Tahoma;font-size\:11px;border\:5px solid #9CF;border-radius\:8px 8px 0 0;width\:200px;height\:80px;margin\:5px}div.SubMenu2Title{background\:#9CF;font-size\:12px;font-family\:Tahoma;display\:block;margin-bottom\:5px}div.SubMenu2Title a{color\:black}#TopBar{width\:100%;height\:40px;background\:#eee;border-bottom\:1px solid #222;box-shadow\:0 2px 5px rgba(0,0,0,0.5);border-radius\:0 0 15px 15px;margin-bottom\:5px}.redtd{background-color\:#fdd}.blutd{background-color\:#ddf}#company{color\:#000;position\:relative;top\:10px;text-shadow\:0 2px 2px rgba(255,255,255,0.5);direction\:rtl;text-align\:right;font-weight\:normal;font-size\:14px;margin-right\:10px}#company_logo{display\:inline-block;position\:relative;top\:-9px;width\:33px;height\:33px;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABrFJREFUeNqUV1tsFFUY/s/M7Ox2b93edkuhLXcoF0URiGIgkWBCTDQx+uSLlwcjTyZETXyQB5980vhi4iUmamKIMaghEomhQRIQKGAoRRRISWlLu91e9r4zO2eO35md0mnpXjzJv3PZmf98//dfhxFFafFiEOEe2ZL/SHOP7ZCtkFXElDAJu4jzMbx3s3KU79kWEXd1qZCyK3LxZZXWWxsgr0K2eZDZjjZhy6NS2YkpCxawYcg3uLxcTzmrw0QrfnRIGyREC6YtPK34gMPy3p5XIA00cJqE4AFjisj630zshRz1bG4//Aj2YmwGJzGXjWWMZNiDmdjqU4A43igTktZ1OGn10F5lCaY1JZJWabqNBFeXsrSEXvxvTxMV7gKMUYMJx90vQd52Fdq1XCnNTHRv/GhieOBNXraacSlqu14FEP8xkPaxV7W2eB91I56FD+m9GlY9YEHV/AXdr18WxP7BdbwOCFel7sM+CPDsdQ+IB66E79mHOLbUByBXWYm2b7qgh1cOaIGOnWY5/Ro24PXfc4Ieuaq9hVC751IUIzeRn4D4HwrdqsuytFDPpXjPo/aq7gQN/fnz9nwmBZeoDRggLZeP5QZwLM7HxErIB43XDVNrivbeWLFp36V4Z4LW922n6YnhA3eunXyBKGg2pkN6QHsfui5rbjSugXxWJxDnk4UxRZ8Kt668aBRLVMjO0WxyhMLN8U9UPforN00UNqUBNgT21TvgVp/mFqPXIR0NvAj4VmDHvle+3Lb7wEXBTRofS9LQ0F3SA23UufFQbOz6j0dgIaqSYtXXp4I15jCRgHxXnwUnYwug+3zX6s0UDDahUuoUCOYAIIDkUygUS1xc1ffsM1N3B7YZxXRn/fiQZd7XIUHsgrxRA4S0vokxTYnGt32bnrx3ATXBxiKbc/Ih42KtMVIUxfFsR+cKKmbn4ub4tXeFbSLQVQBnvDqz2ikJQpbdryumiiWd07G+FGhe148yk4+2dlF6cuRhVUI44nQFFEPVHzmt+dtOo54SL04cEIK3Lo4T7z5qXoJ4CrJZGswUhaH8KkLYsoj5iPnywdi645HEVm7kkmjOJacd27a9CMDCNSNF1isbzZX5KRDtUUVT2Cplxg7y8hyKmVZGV7AYU7moIJdG3pcgLmP3fzEW8HBLvCDs8hTnfJRb5cloS4J8gWbQO0GBpiApup+61myl5pZWbMwdAH6/Ti2xKFQw1HGFLLNEnAsKRdvhIpNbWuBMNN53RrEzZHFq4ZbZjWfj+XQmYltZFUoMCWInIqxb8AxlUxmZfwWmaClS1AuJnqf7C+lRun/nGq3efhB5FKGNW/qoLd5JhlFybI+EgxSNhCrBA5/NTSfJKNsUiXWSmb5LZn6aor27KXM/+Vgxl9oPECuEzcNuoYBPxIwEcR4yN+8ouIIJbqjE7V1/X/hpj83hY1/zDO7/oDJ1llvWQ+6YjwfZ0uS5ZASzTsCyzOeN3Pja8RsncVtOVQq6Jxt1k0BUeiAfn0/RDYv7RaXz2lymusp4OdM+PTb4SKhtwxnWHYHFCimcLe2+ToYoqoYRpkCz90d7jdzIDqRgEIEpKp1huc4qNAnilAukyhjgRDDLzYzszc3c3t/VFesvFMtnTekOCVvYD5jQA02UTc9uKs4MvcydkUFJVaxmNdp7+RfN7RcxzxRaYy7R7GvnTiZKPEBtK9ZWAtEoklHMITBVGhu+RdMjF9u5k0WaRNZUpwCiWnMfOArkK7MgrfPsVkWkr0td6cnhA72b9wyGQpGCP+BHEMYoFInqd66cOFLM3tsOTqzaehxBYNpXAeKct2sGIMX69V4zy0aG/uo/Fgx3bKJKoHJkQZJlZ0ZhvV5srIsysGCikpoyWuTeJCNWtuDVjQ00jIzC1JO+cO89LvTpdCrZXEgNvQOr1MY6qJMVV7DlCUmIl4m8eyzUB+IwWiilBq31jx8ifW2MBn6/hPLvUxpkAYXFzFfCkC0CcdVlBBaRrxFrCtnU4dnZ7NH81KBsgD2NsSifMT8HEzfnZ6ilk1QWcsudM/O1lYJSRubk8BUyc2OYFTWjDgjmZgvML01Upki2LAiZW19AtkAOu4yIqjpRXYnndUZ2n3A+cmoCkFXye8gfi2tQ9ZkS35HU79YPu3qcyBItxnEyQcuXROZmneZm3mAVhLF6PnwR8pw7BnoHgvkPNnRCbnvuecuj5Pws5KvFKnO05OOn7vrNraYxz5gsrbY8X2nMc194PhtgveivUbYbZmLpCi4MQk4A+12QachtyDl3Wltmilqeif8EGADp+csYE8lSjwAAAABJRU5ErkJggg%3D%3D)}#company_text{padding-right\:5px;position\:relative;display\:inline-block;top\:-12px}#menu_btns{display\:block;position\:absolute;z-index\:800;top\:8px;left\:20px;height\:32px;width\:580px}.TopIcon{margin-left\:2px;display\:inline-block;position\:relative;top\:0;width\:32px;height\:32px;text-align\:center;text-decoration\:none;border-radius\:10px 10px 0 0}.top{text-align\:right;cursor\:pointer;height\:25px;line-height\:25px;vertical-align\:middle;font-size\:14px}.top\:hover{background-color\:#fee}.setting{width\:24px;height\:24px;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAwFBMVEUpJicpJicpJic6Njc6Njc6NjdBPT5CP0BIRUZIRUZIRUZQTE1YVVVYVVVYVVVpZmdpZmdpZmdwbm53dXV3dXV3dXWKiIiKiIiZmJiZmJiZmJign5+op6eop6eop6exr6+5uLi5uLjAv7/Ix8fIx8fIx8fQz8/c29vc29vi4uLi4uL+/v7+/v4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC+g5apAAAAuElEQVQokYWSbQcEIRSFh6gooiFRtBrK0f//f3tbM7ZpJ3s+nHIf96WrbVvqwIMOAmgPwgWyJ4uRzOcbCIbMOTITbyBaCjFG2P4AiJwFZtBLKc7VnGEZU8C+YwYqFl7P5n4EhnGJDiAZs2MPb/AZt/KS1DzuY8YFqGq4jfvqsdBj7r6S5RJbd+C8fEGWwrcoRGpeyDwAnSAgy6HoSHp8oEsSOngNkZwZQDU6t6J1aVmb+m+q5WdY6A3kI0PZ0NXabwAAAABJRU5ErkJggg==);position\:relative;top\:-23px;display\:inline-block;float\:left;cursor\:pointer;opacity\:.2;filter\:alpha(opacity = 20)}.setting\:hover{opacity\:1;filter\:alpha(opacity = 100)}.flash{display\:inline-block;width\:64px;height\:64px;background-image\:url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAYFBMVEVfX19iYmJiYmJ0dHR0dHSHh4eHh4eWlpaWlpanp6enp6e2tra2trbGxsbGxsbT09PT09Pq6urq6ur7+/v7+/sAAABKAABgAACghzkAAGAAACDVggAAYAAAoG5jAABgAAAueukCAAAAIHRSTlP///////////////////////////8A/////////////2tlZ8oAAAHhSURBVFiF7ZfRqsMgDIYVEZEgUqTv/6pnU6vR/B0b2blb7lrN1z9RY2pOpZkf4F8B5cgpeh9TPsrngCMFZ4e5kI5PACWHp5sZ9nwKGepAgOy584T4/BbgCMP9imA8BhmIAGRn+2zjfIhEMXhnOsQ6IWIHUJv6yFucMZcc3fWeXgJK7NN82jJWUk+MjevICuj+bndvCNcJ9wBqM0Cqqj3SW8eXKDggQ41cRFfIM8kAR5UosrRY1Wgdk8gAVeAWobCqwQYEyG3oxbl5WmmfmUEMQPF2E1ct7YpqoNaP7wxAE5B2fytiSquEAQgreE7eV6VJHVm4AAcSkOC6NglXrBeAagbATEkoNQu0AWoEEfoLQuQxGE7N2H8nZK7WsBQsEaRRFgShOJYEw6Ae+AcCBM/kmjmfb9DhX05AqAlLCyCuOWT+JyDw2YaJIugPCMQCRoDNXxIAgIsS/oIAQmBJBP6T0F6CJLJl7AdgKwzEjwVYRr6Rmpq9sNCUjTbSspUfRQAUJhqlAW3l9TAlWJjpGkaHCR7nG8PHGRYUbLig4JIGBeCSdlNUbwXIonpT1oXdlnX1xaK/2vSXq/p61zcY+hZH32Sp27xT32jqW91T3Wyf+na/BqL64eg6VL88b9sP8AXAHyrLA9ac6uvxAAAAAElFTkSuQmCC)};</style>"	0.000346907516620599
{HTMLScriptElement}:"type"	0.0003406857445111312
?:{HTMLScriptElement}="(function(){\x0a/* **inject */\x0avar userad_ind="2273620675";window.adsscore_track=window.adsscore_track||{},function(e){"use strict";window.adsscore_track[e]=function(){function n(){var e,n,t,i,o;ie&&window.location===window.parent.location?(e=ue.init,n=ue.create,t=ue.erase,i=ue.get,o=function(e){e.call()})\:(le=le(),e=le.init,n=le.setCookie,t=le.removeCookie,i=le.getCookie,o=le.onReady),Q&&(e=function(){},n=function(e,n,t){},t=function(e){},i=function(e){},o=function(e){e.call()}),ce={init\:e,create\:n,erase\:t,get\:i,onready\:o},se.forEach(function(e){ce.onready(e)}),se=[]}function t(e,n,t){ce.create(e,n,t)}function i(e){return ce.get(e)}function o(e){void 0!==ce.onready?ce.onready(e)\:se.push(e)}function d(e){ee=e}function a(e){ne=e}function r(e){}function u(t){"boolean"==typeof t.storagedisabled&&(Q=t.storagedisabled),"undefined"!=typeof t.fp&&(ie=t.fp),n(),j.storageDisabled=Q,j=t,j.userad=e,j.time0=new Date,j.time1=new Date,j.bunique=0,ce.onready(function(){j.unique=parseInt(l(t.id,t.userad)),isNaN(j.unique)&&(j.unique=e),j.bunique=1}),j.inview=0,j.binview=0,j.inviewtime_sent=0,j.inviewtime=0,j.binviewtime=0,j.dwelltime_sent=0,j.dwelltime=0,j.bdwelltime=0,j.bfreq=0,j.btargeting=0,j.targeting=0,ce.onready(function(){null!=ce.get("Adss"+t.id+"freq")?j.freq=parseInt(ce.get("Adss"+t.id+"freq"))+1\:j.freq=1,ce.create("Adss"+t.id+"freq",j.freq,1),j.bfreq=1}),j.aux_inviewonadd=0,j.aux_inviewtime0=new Date,j.aux_inviewtime1=new Date,j.aux_dwellonadd=0,j.aux_dwelltime0=new Date,j.aux_dwelltime1=new Date,j.bpre=!1,j.borigin=1;var i="";if(null!=window.location&&null!=window.parent.location&&window.parent.location!={}){var o=!0;try{window.parent.location.href,o=!1}catch(d){o=!0}o||window.location.href!=window.parent.location.href?(i=document.referrer,window.location.ancestorOrigins&&window.location.ancestorOrigins.length>=1&&i.indexOf(window.location.ancestorOrigins[window.location.ancestorOrigins.length-1])==-1&&(console.log(3),i=window.location.ancestorOrigins[window.location.ancestorOrigins.length-1]))\:i=document.location.href}j.origin=encodeURIComponent(i),document.location.href.indexOf("https\://i.imedia.cz/")==-1&&document.location.href.indexOf("https\://ssp.imedia.cz/")==-1||document.location.href.indexOf("reklama.html?url=")!=-1&&(j.origin=document.location.href.substring(document.location.href.indexOf("reklama.html?url=")+17)),document.referrer.indexOf("https\://i.imedia.cz/")==-1&&document.referrer.indexOf("https\://ssp.imedia.cz/")==-1||document.referrer.indexOf("reklama.html?url=")!=-1&&(j.origin=document.referrer.substring(document.referrer.indexOf("reklama.html?url=")+17))}function l(e,n){return null!==ce.get("Adss"+e)?ce.get("Adss"+e)\:(ce.create("Adss"+e,n,1),ce.create("Adss"+e+"freq",0,1),n)}function c(e){ce.onready(function(){return null!=ce.get("Adss"+e+"uq")?0\:(ce.create("Adss"+e+"uq",1,1),1)})}function s(e,n){return j.prefix.indexOf("http")!=-1?"undefined"==typeof e.encodePrefix||e.encodePrefix?j.prefix+encodeURIComponent(n)\:j.prefix+n\:n}function f(e,n){"undefined"==typeof n&&(n={});var t=n.param,i=n.non_enage,o=n.variant,d=n.extra_params,a=n.no_new_win;"undefined"==typeof i&&(i=n.non_engage),j.bpre&&(n.bprefix=!0),r([4,e,t,i]);var u=j.userad,l="https\:",f="";i="undefined"==typeof i||null===i||0==i?0\:1,"undefined"==typeof o||null===o||0==o?f=""\:1==o&&(f="&requiredbrowser=external"),f=f+"&rand="+Math.floor(1e4*Math.random());var w="_blank";null!=a&&1==a&&(w="_parent");var p="";if("undefined"!=typeof d&&null!==d)for(var v=0,g=Object.keys(d);v<0+g.length;)""!=p&&(p+="&"),p=p+g[v]+"="+d[g[v]],v++;if(void 0===j)return void m("SendEvent",u+" advertise is not registered.");if(void 0===j.events||void 0===j.events[e])return void m("SendEvent","Event "+e+" is not defined on "+id+"advertise.");0==i&&(0==j.dwelltime&&(j.dwelltime=1,j.bdwelltime=1,j.aux_dwellonadd=1,j.aux_dwelltime0=new Date,j.aux_dwelltime1=new Date),0==j.aux_dwellonadd&&(j.dwelltime++,j.bdwelltime=1,j.aux_dwellonadd=1,j.aux_dwelltime0=new Date,j.aux_dwelltime1=new Date));var y=0;if(void 0!==j.track&&(y=j.track),1==j.events[e][1])void 0===t?c(j.events[e][0])?window.open(s(n,l+"//"+j.loc+"/PliingAd/ExtLink?id="+j.events[e][0]+"&userAdId="+j.unique+"&track="+y+"&adssbid="+j.id+p+f,w))\:window.open(s(n,l+"//"+j.loc+"/PliingAd/ExtLink?id="+j.events[e][0]+"&userAdId="+u+"&track="+y+"&adssbid="+j.id+p+f,w))\:c(j.events[e][0])?window.open(s(n,l+"//"+j.loc+"/PliingAd/ExtLink?id="+j.events[e][0]+"&userAdId="+j.unique+"&p="+t+"&track="+y+"&adssbid="+j.id+p+f,w))\:window.open(s(n,l+"//"+j.loc+"/PliingAd/ExtLink?id="+j.events[e][0]+"&userAdId="+u+"&p="+t+"&track="+y+"&adssbid="+j.id+p+f,w));else{var h=new Image;void 0===t?c(j.events[e][0])?h.src=l+"//"+j.loc+"/PliingAd/Event?id="+j.events[e][0]+"&userAdId="+j.unique+p+f\:h.src=l+"//"+j.loc+"/PliingAd/Event?id="+j.events[e][0]+"&userAdId="+u+p+f\:c(j.events[e][0])?h.src=l+"//"+j.loc+"/PliingAd/Event?id="+j.events[e][0]+"&p="+t+"&userAdId="+j.unique+p+f\:h.src=l+"//"+j.loc+"/PliingAd/Event?id="+j.events[e][0]+"&p="+t+"&userAdId="+u+p+f}}function w(e,n){"undefined"==typeof n&&(n={});var t=n.param,i=n.non_enage,o=n.variant,d=n.extra_params,a=n.no_new_win;"undefined"==typeof i&&(i=n.non_engage),j.bpre&&(n.bprefix=!0);var u="PliingAd";"undefined"!=typeof n.servlet&&(u=n.servlet),r([5,e,t,i]);var l=j.userad,f="https\:",w="";i="undefined"==typeof i||null===i||0==i?0\:1,"undefined"==typeof o||null===o||0==o?w=""\:1==o&&(w="&requiredbrowser=external"),w=w+"&rand="+Math.floor(1e4*Math.random());var m="_blank";null!=a&&1==a&&(m="_parent");var p="";if("undefined"!=typeof d&&null!==d)for(var v=0,g=Object.keys(d);v<0+g.length;)""!=p&&(p+="&"),p=p+g[v]+"="+d[g[v]],v++;if(void 0===j)return void r([6,l]);if(void 0===j.events||void 0===j.events[e])return void r([7,e,id]);0==i&&(0==j.dwelltime&&(j.dwelltime=1,j.bdwelltime=1,j.aux_dwellonadd=1,j.aux_dwelltime0=new Date,j.aux_dwelltime1=new Date),0==j.aux_dwellonadd&&(j.dwelltime++,j.bdwelltime=1,j.aux_dwellonadd=1,j.aux_dwelltime0=new Date,j.aux_dwelltime1=new Date));var y=0;if(void 0!==j.track&&(y=j.track),1==j.events[e][1])void 0===t?c(j.events[e][0])?mraid.open(s(n,f+"//"+j.loc+"/"+u+"/ExtLink?id="+j.events[e][0]+"&userAdId="+j.unique+"&track="+y+"&adssbid="+j.id+p+w,m))\:mraid.open(s(n,f+"//"+j.loc+"/"+u+"/ExtLink?id="+j.events[e][0]+"&userAdId="+l+"&track="+y+"&adssbid="+j.id+p+w,m))\:c(j.events[e][0])?mraid.open(s(n,f+"//"+j.loc+"/"+u+"/ExtLink?id="+j.events[e][0]+"&userAdId="+j.unique+"&p="+t+"&track="+y+"&adssbid="+j.id+p+w,m))\:mraid.open(s(n,f+"//"+j.loc+"/"+u+"/ExtLink?id="+j.events[e][0]+"&userAdId="+l+"&p="+t+"&track="+y+"&adssbid="+j.id+p+w,m));else{var h=new Image;void 0===t?c(j.events[e][0])?h.src=f+"//"+j.loc+"/"+u+"/Event?id="+j.events[e][0]+"&userAdId="+j.unique+p+w\:h.src=f+"//"+j.loc+"/"+u+"/Event?id="+j.events[e][0]+"&userAdId="+l+p+w\:c(j.events[e][0])?h.src=f+"//"+j.loc+"/"+u+"/Event?id="+j.events[e][0]+"&p="+t+"&userAdId="+j.unique+p+w\:h.src=f+"//"+j.loc+"/"+u+"/Event?id="+j.events[e][0]+"&p="+t+"&userAdId="+l+p+w}}function m(e,n){var t=new Error;throw t.name=e,t.message=n,t}function p(){null==document.getElementById("p"+j.userad+"_ad_div")&&clearInterval(z),h();var e="https\:",n=0,t="";if(j.bunique&&(j.unique!=j.userad&&(""!=t&&(t+="&"),t=t+"uq="+j.unique),""!=t&&(t+="&"),t=t+"bid="+j.id,j.bunique=0),j.bfreq&&(""!=t&&(t+="&"),t=t+"freq="+j.freq,j.bfreq=0),j.binview&&(""!=t&&(t+="&"),t=t+"iview="+j.inview,j.binview=0),j.blatlon&&(""!=t&&(t+="&"),t=t+"latlon="+j.latlon.m+"&cb=adsscore_track.dataGeo",n=1,j.blatlon=0),j.binviewtime&&(0==j.inviewtime_sent||j.inviewtime<300&&j.inviewtime%5==0)&&(""!=t&&(t+="&"),t=t+"iviewt="+j.inviewtime,j.inviewtime_sent=j.inviewtime,j.binviewtime=0),j.bdwelltime&&(0==j.dwelltime_sent||j.dwelltime<300&&j.dwelltime%5==0)&&(""!=t&&(t+="&"),t=t+"dwellt="+j.dwelltime,j.dwelltime_sent=j.dwelltime,j.bdwelltime=0),j.borigin&&(""!=t&&(t+="&"),t=t+"origin="+j.origin,j.borigin=0),j.btargeting&&(""!=t&&(t+="&"),t=t+"targ="+j.targeting,j.btargeting=0),""!=t){r("UpdateStatus\:\:"+t),t="userad="+j.userad+"&"+t;var i=new Image;n?S(e+"//"+j.loc+"/pas/Send?"+t+"&rand="+Math.floor(1e5*Math.random()))\:i.src=e+"//"+j.loc+"/pas/Send?"+t+"&rand="+Math.floor(1e5*Math.random())}}function v(){return"undefined"!=typeof mraid}function g(){if("undefined"!=typeof mraid){var e=mraid.getScreenSize();e.x=0,e.y=0;var n=e;"undefined"!=typeof mraid.getCurrentPosition&&(n=mraid.getCurrentPosition());var t=mraid.isViewable();if("string"==typeof t&&(t="true"===t.toLowerCase()),t&&_([e.x,e.y,e.x+e.width,e.y+e.height],[n.x,n.y,n.x+n.width,n.y+n.height])>0+ee)return!0}return!1}function y(e,n,t){return"undefined"!=typeof $sf&&"undefined"!=typeof $sf.ext?$sf.ext.inViewPercentage()<=1&&($sf.ext.inViewPercentage()%1!=0||1==$sf.ext.inViewPercentage())?!!(100*$sf.ext.inViewPercentage()>100*(0+ee)&&U&&e)\:!!($sf.ext.inViewPercentage()>100*(0+ee)&&U&&e)\:!!(v()&&g()&&e)||(!!(!v()&&_(b(),x(n))>0+ee&&U&&e)||(1==t&&console.log("Intersec\:\:"+_(b(),x(n))+"\:\:Pageview\:\:"+U),!1))}function h(){var e=new Date-me<1500;me=new Date;var n=0;if(void 0!==j.div){var t,i=j.div.replace("$ID",j.userad);if(t=Y?Z\:document.getElementById(i),null!=t)if(y(e,t)){n++,0==j.aux_inviewonadd&&(setTimeout(function(){M()},1),j.aux_inviewtime0=new Date);new Date;we++,10==we&&(fe++,1==fe&&(j.inview=j.inview+1,j.binview=1),j.inviewtime=j.inviewtime+1,j.binviewtime=1,1==j.aux_dwellonadd&&(j.dwelltime=j.dwelltime+1,j.bdwelltime=1),we=0),j.aux_inviewonadd=1}else 1==j.aux_inviewonadd&&setTimeout(function(){P()},1),j.aux_dwellonadd=0,we=0,fe=0,j.aux_inviewonadd=0;return n}}function b(){if(Y&&"undefined"!=typeof parent){var e="BackCompat"!==parent.document.compatMode&&"CSS1Compat"!==parent.document.compatMode,n=e?parent.document.documentElement\:parent.document.body,t=parent.document.documentElement.scrollLeft|parent.document.body.scrollLeft,i=parent.document.documentElement.scrollTop|parent.document.body.scrollTop;if(pe){var o=n.getClientRects();t=o[0].left,i=-1*o[0].top}var d="innerWidth"in parent.window?parent.window.innerWidth\:parent.page.clientWidth,a="innerHeight"in parent.window?parent.window.innerHeight\:parent.page.clientHeight;return[t,i,t+d,i+a]}var e="BackCompat"!==document.compatMode&&"CSS1Compat"!==document.compatMode,n=e?document.documentElement\:document.body,t=document.documentElement.scrollLeft|document.body.scrollLeft,i=document.documentElement.scrollTop|document.body.scrollTop;if(pe){var o=n.getClientRects();t=o[0].left,i=-1*o[0].top}var d="innerWidth"in window?window.innerWidth\:n.clientWidth,a="innerHeight"in window?window.innerHeight\:n.clientHeight;return[t,i,t+d,i+a]}function x(e){var n,t=window.getComputedStyle(e),i="fixed"==t.position,o=0,d=e;try{for(;o<20&&(o++,d=d.parentNode,"undefined"!=typeof d&&"undefined"!=d&&null!=d);)if("undefined"!=typeof d.style&&"fixed"==d.style.position||"function"!=typeof d&&"fixed"==window.getComputedStyle(d).position){i=!0,n=window.getComputedStyle(d);break}}catch(a){}var r=0,u=0,l=e.getBoundingClientRect().width,c=e.getBoundingClientRect().height;if(i){var s=b();r=s[0]+parseInt(t.left),u=s[1]+parseInt(t.top),"undefined"!=typeof n&&(r=s[0]+parseInt(n.left),u=s[1]+parseInt(n.top))}else for(;null!==e.offsetParent;)r+=e.offsetLeft-e.scrollLeft,u+=e.offsetTop-e.scrollTop,e=e.offsetParent;return[r,u,r+l,u+c]}function k(e){return(e[2]-e[0])*(e[3]-e[1])}function _(e,n){var t=(Math.min(e[2],n[2])-Math.max(e[0],n[0]))*(Math.min(e[3],n[3])-Math.max(e[1],n[1])),i=k(n);return t>0&&0!=i?(r([10,t,i]),t/i)\:(r([11]),0)}function A(e,n){for(var t=document.getElementsByName("Adssets"),i=0;i<0+t.length;i++)if(t[i].src.indexOf(e)&&t[i].id.indexOf("p")==-1){t[i].setAttribute("id","p"+n+"_ad_div_script");var o=t[i].parentNode;return o.setAttribute("id","p"+n+"_ad_div"),i}return 0}function I(e){if("undefined"!=typeof e)switch(e.type){case"focus"\:U=!0;break;case"pageshow"\:U=!0;break;case"onpagehide"\:U=!1;break;case"webkitvisibilitychange"\:U=!document.webkitHidden}else U=!document.webkitHidden;r([12,U])}function S(e,n){var t,i=j.div.replace("$ID",j.userad);t=document.getElementById(i);var o=document.createElement("script");o.type="text/javascript",o.src=e,o.onreadystatechange=n,o.onload=n,t.appendChild(o)}function E(){setTimeout(C,100)}function C(){r=function(e){adsscore_debug.Log(e)},adsscore_debug.createDebugUI(j.userad,j.div),setTimeout(function(){showStatus()},1e3),X=!0}function O(){function e(e){for(var n=e+"=",t=document.cookie.split(";"),i=0;i<0+t.length;i++){for(var o=t[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return null}try{var n=null,t=null,i=parent&&parent.ABse&&parent.ABse.geolocation&&"function"==typeof parent.ABse.geolocation.getStoredLocation?parent.ABse.geolocation.getStoredLocation()\:null;if(null!=i){var o=i.coords;null!=o.latitude&&null!=o.longitude&&(n=o.latitude,t=o.longitude)}else n=e("lastLat"),t=e("lastLng");null==n||n>90||n<-90?(j.latlon={m\:"NA",lat\:0,lon\:0},j.blatlon=1)\:(j.latlon={m\:n+";"+t,lat\:n,lon\:t},j.blatlon=1)}catch(d){j.latlon={m\:"NA",lat\:0,lon\:0},j.blatlon=1}}function q(e){return e&&("undefined"!=typeof j.lonval&&"undefined"!=j.lonval&&""!=j.lonval&&"undefined"!=typeof j.latval&&"undefined"!=j.latval&&""!=j.latval&&(e.lat=j.latval,e.lon=j.lonval),te=e),te}function D(){function e(){"undefined"!=typeof adsscore_debug&&adsscore_debug.showData(j)}try{var n=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(void 0!==n&&"cellular"===n.type){var t=new Image;t.src="https\://"+j.loc+"/pcon/SaveCon"}}catch(i){}setTimeout(function(){e()},1e3)}function L(){"undefined"==typeof adsscore_debug?S("https\://mds.pliing.com/lib/adstrack_debug.js",E)\:E()}function M(){de.forEach(function(e){e.call()})}function P(){ae.forEach(function(e){e.call()})}function T(e){if(void 0!==j.div){var n,t=j.div.replace("$ID",j.userad);return n=Y?Z\:document.getElementById(t),!!y(!0,n,e===!0)}}function B(){return Y&&"undefined"!=typeof parent&&"undefined"!=typeof parent.document?"complete"===parent.document.readyState\:"complete"===document.readyState}function R(e){j.prefix=e}function N(e){j.bpre=e}function V(){try{if("undefined"!=typeof window.parent&&window.location!=window.parent.location){window.parent.document;return!1}}catch(e){return!0}return!1}function H(e){V()?"complete"!=document.readyState?ge=e\:e()\:"complete"!=document.readyState||!V()&&"undefined"!=typeof parent&&"undefined"!=typeof parent.document&&"complete"!=parent.document.readyState?ge=e\:e()}function W(e){j.btargeting=1,j.targeting=e}function $(){V()?"complete"!=document.readyState?(ve++,setTimeout(function(){$()},500))\:setTimeout(function(){ge()},ne)\:"complete"!=document.readyState||!V()&&"undefined"!=typeof parent&&"undefined"!=typeof parent.document&&"complete"!=parent.document.readyState?(ve++,setTimeout(function(){$()},500))\:setTimeout(function(){ge()},ne)}var z,G=!1,J={},j={},U=!0,F=3e3,K={},Q=!1,X=!1,Y=!1,Z=null,ee=.5,ne=1e3,te={},ie=!1,oe=!0,de=[],ae=[];void 0!==document.webkitHidden&&(U=!document.webkitHidden);try{Z=window.frameElement,void 0===Z||null===Z?(Z=null,Y=!1)\:Y=!0}catch(re){Y=!1}var ue={init\:function(){if(oe)for(var e=document.cookie.split("; "),n=0;n<0+e.length;n++){var t=e[n].split("=");this[t[0]]=t[1]}},create\:function(e,n,t){if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3),i.setHours(0),i.setMinutes(0),i.setSeconds(0);var o="; expires="+i.toGMTString()}else var o="";oe?Q||(document.cookie=e+"="+n+o+"; path=/",this[e]=n)\:Q||(localStorage.setItem(e,n),localStorage.setItem(e+"_date",i.toGMTString()))},erase\:function(e){oe?(this.create(e,"",-1),this[e]=void 0)\:Q||(localStorage.removeItem(e),localStorage.removeItem(e+"_date"))},get\:function(e){if(oe){var n={};return document.cookie.split(";").map(function(e){return e.replace(/^[ ]+/g,"").split("=")}).forEach(function(e){n[e[0]]=e[1]}),"undefined"!=typeof n[""+e]?unescape(n[""+e])\:null}var t=new Date;if(Q)return null;var i=localStorage.getItem(e);return r([3,e,i]),null===localStorage.getItem(e+"_date")?i\:t.toGMTString()<""+localStorage.getItem(e+"_date")?i\:null}},le=function(){function e(e,n,t,i){o()?"function"==typeof i&&i(!1)\:(w.contentWindow.postMessage(JSON.stringify({type\:"setCookie",key\:e,value\:n,expire\:t,mn\:s}),"*"),u[""+e]=n,"function"==typeof i&&i(!0))}function n(){u[cname]=void 0,w.contentWindow.postMessage(JSON.stringify({type\:"remCookie",key\:name}),"*")}function t(e){return void 0===u[""+e]?null\:u[""+e]}function i(e,n){w.contentWindow.postMessage(JSON.stringify({type\:"setCookie",key\:"R",value\:e?"0"\:"1",expire\:365}),"*"),u.R=e?"0"\:"1",n(!e)}function o(){return"1"===u.R}function d(e){c.push(e),l&&(c.map(function(e){e.call()}),c=[])}function a(e){f=e}function r(){}var u={},l=!1,c=[],s=Math.floor(1e5*Math.random()),f=function(){},w=document.createElement("iframe");return w.style.display="none",w.src="https\://pliing.com/sync/a/",document.body.appendChild(w),setTimeout(function(){w.contentWindow.postMessage(JSON.stringify({type\:"setMagicNumber",value\:s}),"*")},200),addEventListener("message",function(e){if(e.source===w.contentWindow)try{var n=JSON.parse(e.data);"loaded_bucket"===n.type&&n.mn===s&&(u=n.sync,l=!0,c.map(function(e){e.call()}),c=[],f())}catch(t){console.log(t)}}),{init\:r,setCookie\:e,getCookie\:t,isOptOut\:o,setOptOut\:i,onReady\:d,onSync\:a,removeCookie\:n}},ce={},se=[];z=setInterval(function(){p()},100);var fe=0,we=0,me=new Date,pe=!1;navigator.appVersion.indexOf("MSIE")===-1&&navigator.appVersion.indexOf("Trident")===-1&&navigator.userAgent.toLowerCase().indexOf("firefox")===-1&&navigator.userAgent.toLowerCase().indexOf("android 5.0")===-1||(pe=!0),navigator.appVersion.indexOf("MSIE 8")==-1&&(document.addEventListener("webkitvisibilitychange",function(e){I(e)},!1),window.addEventListener("focus",function(e){I(e)},!1),window.addEventListener("blur",function(e){I(e)},!1),window.addEventListener("pageshow",function(e){I(e)},!1),window.addEventListener("pagehide",function(e){I(e)},!1)),window.setTimeout(function(){O(),D()},1);var ve=0,ge=function(){};return $(),window.adsscore_track.AdssSendEvent=f,window.adsscore_track.AdssSendEventMraid=w,window.adsscore_track.setDebug=L,window.adsscore_track.AdssRegAd=u,window.adsscore_track.AdssFindScript=A,window.adsscore_track.getBannerId=function(){return j.id},window.adsscore_track.isInview=T,window.adsscore_track.isParentLoaded=B,window.adsscore_track.getAdData=function(){return j},window.adsscore_track.dataGeo=q,{adssdiablehttps\:G,ad7e2qReg\:J,addspagevisible\:U,adsstimercheck\:F,adsssharedmem\:K,AdssRegAd\:u,AdssSendEvent\:f,AdssSendEventMraid\:w,AdssFindScript\:A,setDebug\:L,getAdData\:function(){return j},setInViewCallBack\:function(e){de=[e]},setOffViewCallBack\:function(e){ae=[e]},addInViewCallBack\:function(e){de.push(e)},addOffViewCallBack\:function(e){ae.push(e)},isInview\:T,isParentLoaded\:B,getBannerId\:function(){return j.id},setPrefix\:R,setPrefixAsDefault\:N,setInscreen\:d,setOnloadTimeout\:a,setOnLoad\:H,setCookie\:t,getCookie\:i,onCookieReady\:o,setDiv\:function(e){j.div=e},setTargeting\:W}}()}(userad_ind);\x0ap2273620675_feed_lib=function(){"use strict";var e=0,n={},t=null,o=[],i=!1,r={fakeLocation\:null,setLocation\:function(e){r.fakeLocation=e},getLocation\:function(){return null===r.fakeLocation&&"undefined"!=typeof adsscore_track?adsscore_track.dataGeo()\:r.fakeLocation}},a=function(e,n){for(var t=0;t<e.length;t++)if(e[t]===n)return!0;return!1},s=function(e,n){return e.filter(function(e){return a(n,e)})},c=function(e,n){return i=!0,e.objects.filter(function(e){return!("undefined"!=typeof adsscore_track&&void 0!==adsscore_track[userad_ind]&&adsscore_track[userad_ind].getCookie("AdssViewedObj_"+e.id)&&parseInt(adsscore_track[userad_ind].getCookie("AdssViewedObj_"+e.id))>=n.limit)})},d=function(n,t,o){var i=n.objects;if(null!=r.getLocation()&&0!==Object.keys(r.getLocation()).length){for(var c=0;c<i.length;c++)if(void 0!==i[c].json.geoJson)for(var l=s(Object.keys(i[c].json.geoJson),Object.keys(r.getLocation())),f=0;f<l.length;f++){var u=i[c].json.geoJson[l[f]],p=r.getLocation()[l[f]];a(u,p)&&!i[c].json.geoTargeted&&(i[c].json.appealPointScore=i[c].json.appealPointScore+i[c].json.geoJson.point,i[c].json.geoTargeted=!0)}}else if(e<1)return e++,void window.setTimeout(function(){d(n,t)},500);void 0!==t&&null!==t&&t(n)},l=function(){if("undefined"!=typeof adsscore_track&&void 0!==adsscore_track[userad_ind]&&n.objects.length>0){var e=0;n.objects[0].json.geoTargeted&&(e+=1),n.objects[0].json.contexted&&(e+=10),n.objects[0].json.retargeted&&(e+=100),0!==e&&adsscore_track[userad_ind].setTargeting(e)}},f=function(e,t,o){e.feedFunctions=e.feedFunctions.sort(function(e,n){return"shuffle"===e.name?-1\:"shuffle"===n.name?1\:-1!==e.name.indexOf("apply")&&-1!==n.name.indexOf("apply")?0\:-1!==n.name.indexOf("apply")?1\:-1!==e.name.indexOf("apply")?-1\:0});var i=e.feedFunctions;if(t>=i.length)return n=e,l(),void o(e);p2273620675_feed_lib[i[t].name].call(p2273620675_feed_lib,e,p2273620675_feed_lib.executeFunc.bind(p2273620675_feed_lib,e,t+1,o),i[t].params)},u=function(e){void 0!==e.type?p2273620675_feed_lib[e.type].call(p2273620675_feed_lib,{onsuccess\:function(n){for(var t=JSON.parse(n),o=[],i=0;i<t.length;i++)o.push(t[i].RefID);e.callback(o)},onerror\:function(){console.error("No segments available or problem with fetching segments."),e.callback(null)}})\:(console.error("No matching type for fetching segments"),e.callback(null))},p=function(e){var n=e.onsuccess,t=e.onerror,o=e.segments,i=null,r=function(e){var n=document.createElement("script");n.type="text/javascript",n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},a=function(){if("undefined"!=typeof adsscore_track){var e=adsscore_track[userad_ind].getAdData(),n={};n.ctxUrl=decodeURIComponent(e.origin),null!=o&&(n.segments=o),n=JSON.stringify(n);var t="https\://"+e.loc+"/PliingAd2/AdService?id="+e.id+"&userAdId="+e.userad+"&para="+encodeURIComponent(n)+"&callback=p2273620675_feed_lib.serviceResponse";r(t)}else void 0!==window.feedData?(i=window.feedData.retData,s(i))\:"undefined"!=typeof KF04RZ211MockData?(i=KF04RZ211MockData,s(i))\:s({})},s=function(e){if(e.retData&&e.retData.objects&&e.retData.objects.length>0){if("error"!==e.retData){var o=e.retData;n(o)}}else t()};return a(),{request\:a,response\:s}},g=function(e){t=p({onsuccess\:function(t){m(n=t,e.callback)},onerror\:function(){e.callback(null)},segments\:e.segments?e.segments\:null})},j={clickObject\:function(e,t,o,i){var r=t||{},a=o||e.url,s='{ "feed_entity"\:"'+n.feed_id+'", "feed_object"\: "'+e.id+'", "feed_type"\: "Generic"}';r.param=encodeURIComponent(s)+"&p1="+encodeURIComponent(a),v(i||"Click_Image_Link",r)},viewedObject\:function(e,t){if(!(o.indexOf(e.id)>-1)){var r=t||{};r.non_engage=1;var a='{ "feed_entity"\:"'+n.feed_id+'", "feed_object"\: "'+e.id+'", "feed_type"\: "Generic"}';r.param=encodeURIComponent(a),v("Viewed_Objects",r),o.push(e.id)}if(void 0!==e.json&&void 0!==e.json.retargeted&&!0===e.json.retargeted&&i){var s=1;"undefined"!=typeof adsscore_track&&(adsscore_track[userad_ind].getCookie("AdssViewedObj_"+e.id)&&(s+=parseInt(adsscore_track[userad_ind].getCookie("AdssViewedObj_"+e.id))),adsscore_track[userad_ind].setCookie("AdssViewedObj_"+e.id,s,2))}}},v=function(e,n){var t={};n&&(t=n),"undefined"!=typeof adsscore_track?"undefined"!=typeof mraid?adsscore_track[userad_ind].AdssSendEventMraid(e,t)\:adsscore_track[userad_ind].AdssSendEvent(e,t)\:console.log(e,t)},m=function(e,n){void 0!==e.feedFunctions?f(e,0,n)\:n(e)};return{applyGeo\:d,applyRetarget\:function(e,n,t){var o=e.keywords;if(void 0!==o){for(var i=[],r=[],a=0;a<o.length;a++)i[a]=o[a].name,r[i[a]]=o[a].n;if(void 0!==i&&i.length>0)for(var c=e.objects,a=0;a<c.length;a++)if(void 0!==c[a].json.retargetJson)for(var d=s(c[a].json.retargetJson.keyword,i),l=0;l<d.length;l++){var f=void 0!==c[a].json.retargetJson["point "]?c[a].json.retargetJson["point "]\:c[a].json.retargetJson.point;c[a].json.appealPointScore=c[a].json.appealPointScore+f*r[d[l]],c[a].json.retargeted=!0}else if("undefined"!=c[a].json.appealPointScore)for(l=0;l<i.length;l++)if(i[l].indexOf("_")>-1){var u=i[l].split("_"),p=(u[0],u[1]);"undefined"!=p&&p.toLowerCase()===c[a].id.toLowerCase()&&(c[a].json.appealPointScore=c[a].json.appealPointScore+100*r[i[l]],c[a].json.retargeted=!0)}}void 0!==n&&null!==n&&n(e)},applyContext\:function(e,n){var t=e.ctxKeywords;if(void 0!==t&&t.length>0){var o={};t.forEach(function(e){o[e.name]=e.n}),e.objects.forEach(function(e,n){if(void 0!==e.json.ctxKws&&e.json.ctxKws.length>0){var t=0;e.json.ctxKws.forEach(function(e){t+=o[e]}),void 0!==e.json.contextPoint&&""!==e.json.contextPoint&&t>9&&!isNaN(e.json.contextPoint)&&(t+=e.json.contextPoint,e.json.contexted=!0,e.json.appealPointScore+=t)}})}void 0!==n&&null!==n&&n(e)},filter\:function(e,n,t){if(void 0!==t&&null!==t)if(void 0!==t.filterFunction&&null!=t.filterFunction){var o=new Function("value",t.filterFunction);e.objects=e.objects.filter(o)}else if(void 0!==t.filters&&null!==t.filters)for(var i=0;i<t.filters.length;i++)e.objects=this[t.filters[i].filterName].call(this,e,t.filters[i].params);void 0!==n&&null!==n&&n(e)},sort\:function(e,n,t){void 0!==t&&null!==t&&void 0!==t.compareValue&&null!=t.compareValue?this.insertionSort(e,t.compareValue,t.order)\:this.insertionSort(e,"appealPointScore"),void 0!==n&&null!==n&&n(e)},getStandardFilters\:function(){return{maxTimeRetargetFilter\:{function\:c,desc\:"Filter/remove objects that has been seen more than the maxTimeRetarget value set in ACM"}}},overrideLocation\:r.setLocation,shuffle\:function(e,n,t){var o,i,r,a=e.objects;for(r=a.length-1;r>0;r--)o=Math.floor(Math.random()*(r+1)),i=a[r],a[r]=a[o],a[o]=i;void 0!==n&&null!==n&&n(e)},maxTimeRetargetFilter\:c,run\:function(e,n){if(void 0!==e.feedFunctions)return console.log("run old way"),void m(e,n);e.segments?u({callback\:function(e){g({segments\:e,callback\:n})},type\:e.segments.type})\:g({callback\:n})},executeFunc\:f,insertionSort\:function(e,n,t){for(var o=e.objects,i=o.length,r=1;r<i;r++){var a=o[r];if("asc"===t)for(s=r-1;s>=0&&o[s].json[n]>a.json[n];s--)o[s+1]=o[s];else for(var s=r-1;s>=0&&o[s].json[n]<a.json[n];s--)o[s+1]=o[s];o[s+1]=a}},clickObject\:j.clickObject,viewedObject\:j.viewedObject,serviceResponse\:function(e){t.response(e)},adformSegments\:function(e){var n=e.onsuccess,t=e.onerror,o=function(e){var o=document.createElement("script");o.src=e,o.onload=function(){AdformAT("init","eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJBZGZvcm0uRE1QLkNsYWltczo6RGF0YVByb3ZpZGVycyI6IlsxMTM5Ml0iLCJpc3MiOiJkbXAtYXBpLmFkZm9ybS5jb20iLCJhdWQiOiJhdWRpZW5jZV90YWdfY29uc3VtZXJfdjEiLCJleHAiOjE4MzkyMjE4NzAsIm5iZiI6MTUyMzg2MTgxMH0.zjs8JNIF04tOqV37IKMPaayqjB9WpQe2OGJPtRLCLQo"),AdformAT("cookieSegments",function(e,o){200===e?n(o)\:t()})},document.getElementsByTagName("head")[0].appendChild(o)},i=function(){"undefined"!=typeof adsscore_track?o("//dmp.adform.net/audiencetag/adformat.js")\:"undefined"!=typeof KF04RZ211MockSegments?n(KF04RZ211MockSegments)\:t(null)};return i(),{request\:i}}}}();\x0aadsscore_track.AdssRegAd({"userad"\:2273620675,"fp"\:true,"id"\: 2006498400,"events"\: {"Viewed_Objects"\:[2006498400,0],"Click_Image_Link"\:[2006498401,1],"Swipe_Left"\:[2006498402,0],"Swipe_Right"\:[2006498403,0],"Click_Fallback_Link"\:[2006498404,1],"Player registration"\:[2006498405,0]},"track"\: 2,"storagedisabled"\:true,"force_ssl"\: true,"div"\: "p$ID_ad_div","prefix"\:"your_click_prefix","loc"\: "cz.pliing.com","params"\: {}});\x0avar adssCont = document.getElementById("p2273620675_ad_div");\x0aadssCont.innerHTML='<'+'div id="p2273620675-ad-container" style="position\:relative;background-color\:white;overflow\:hidden;margin-left\:auto;margin-right\:auto;cursor\:pointer;">    <'+'div id="p2273620675-scale-container" style="position\:absolute;top\:0;left\:0;">        <'+'div id="p2273620675-wrap-carousel" style="position\:relative;float\:left;left\:0;width\:100%;"><'+'/div>        <'+'div id="p2273620675-logo"><'+'/div>        <'+'div id="p2273620675-tc-image"><'+'/div>        <'+'div id="p2273620675-tc"><'+'/div>        <'+'div id="p2273620675-odds-info-1" class="p2273620675-odds-info p2273620675-odds-info-1 hidden">v\u00fdhra dom\u00e1c\u00edch<'+'/div>        <'+'div id="p2273620675-odds-1" class="p2273620675-odds p2273620675-odds-1 hidden">1<'+'/div>        <'+'div id="p2273620675-odds-info-X" class="p2273620675-odds-info p2273620675-odds-info-X hidden">remiza<'+'/div>        <'+'div id="p2273620675-odds-X" class="p2273620675-odds p2273620675-odds-X hidden">0<'+'/div>        <'+'div id="p2273620675-odds-info-2" class="p2273620675-odds-info p2273620675-odds-info-2 hidden">v\u00fdhra hosti<'+'/div>        <'+'div id="p2273620675-odds-2" class="p2273620675-odds p2273620675-odds-2 hidden">2<'+'/div>    <'+'/div>    <'+'div id="p2273620675-fallback-container" style="position\:absolute;top\:0;left\:0;width\:300px;height\:600px;background-image\: url(\\'https\://mds.pliing.com/sync/tipsport/fallback_300x600.jpg\\');display\:none;z-index\:999;"><'+'/div><'+'/div>';\x0avar adssStyle = document.createElement('style');\x0aadssStyle.innerHTML='@font-face{font-family\:\\'DaxlinePro-Black\\';src\:url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Black.woff2") format("woff2"),url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Black.woff") format("woff");font-weight\:bold;font-style\:normal}@font-face{font-family\:\\'DaxlinePro-Regular\\';src\:url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Regular.woff2") format("woff2"),url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Regular.woff") format("woff");font-weight\:300;font-style\:normal}@font-face{font-family\:\\'DaxlinePro-Thin\\';src\:url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Thin.woff2") format("woff2"),url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Thin.woff") format("woff");font-weight\:300;font-style\:normal}@font-face{font-family\:\\'DaxlinePro\\';src\:url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Bold.woff2") format("woff2"),url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-Bold.woff") format("woff");font-weight\:bold;font-style\:normal}@font-face{font-family\:\\'DaxlinePro-Black-Italic\\';src\:url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-BlackItalic.woff2") format("woff2"),url("https\://mds.pliing.com/sync/tipsport/fonts/DaxlinePro-BlackItalic.woff") format("woff");font-weight\:900;font-style\:normal}@-webkit-keyframes p2273620675-live-animation{0%{-webkit-transform\:scale(0.5, 0.5);transform\:scale(0.5, 0.5);opacity\:0}100%{-webkit-transform\:scale(1, 1);transform\:scale(1, 1);opacity\:1}}@-moz-keyframes p2273620675-live-animation{0%{-moz-transform\:scale(0.5, 0.5);transform\:scale(0.5, 0.5);opacity\:0}100%{-moz-transform\:scale(1, 1);transform\:scale(1, 1);opacity\:1}}@keyframes p2273620675-live-animation{0%{-webkit-transform\:scale(0.5, 0.5);-moz-transform\:scale(0.5, 0.5);transform\:scale(0.5, 0.5);opacity\:0}100%{-webkit-transform\:scale(1, 1);-moz-transform\:scale(1, 1);transform\:scale(1, 1);opacity\:1}}div[class*="p2273620675-team"]{overflow\:hidden;padding-top\:4px !important;text-overflow\:ellipsis;-webkit-box-sizing\:border-box;-moz-box-sizing\:border-box;box-sizing\:border-box}.p2273620675-live-pulse{-webkit-animation\:p2273620675-live-animation 1.5s linear infinite;-moz-animation\:p2273620675-live-animation 1.5s linear infinite;animation\:p2273620675-live-animation 1.5s linear infinite}#p2273620675-ad-container{font-family\:Verdana, Geneva, sans-serif;border\:2px solid #cbcbcb;-webkit-box-sizing\:border-box;-moz-box-sizing\:border-box;box-sizing\:border-box;background-size\:contain;background-position\:top center;background-repeat\:no-repeat}#p2273620675-wrap-carousel{overflow\:hidden}#p2273620675-tc{position\:absolute;font-family\:DaxlinePro-Thin, Geneva, sans-serif;overflow\:hidden;text-align\:left !important;visibility\:visible !important}#p2273620675-hr{color\:#ffffff;border\:none;height\:1px;position\:absolute;width\:100%;background-color\:#ffffff}.p2273620675-icon1,.p2273620675-icon2{position\:absolute;margin\:0;padding\:0;background-repeat\:no-repeat;background-position\:center center;background-size\:contain}.p2273620675-team1,.p2273620675-team2{position\:absolute;text-align\:left}.p2273620675-team1,.p2273620675-team2{font-family\:DaxlinePro, Geneva, sans-serif;overflow\:hidden}.p2273620675-team1-icon,.p2273620675-team1-no-icon,.p2273620675-team2-icon,.p2273620675-team2-no-icon{height\:45px;text-align\:center;font-size\:30px}.p2273620675-date{position\:absolute;font-family\:DaxlinePro, Geneva, sans-serif;text-align\:center;color\:#f59b0b}#p2273620675-logo{position\:absolute;background-image\:url(https\://mds.pliing.com/sync/tipsport/logo.png);background-size\:contain;background-position\:top center;background-repeat\:no-repeat}#p2273620675-fallback-logo{position\:absolute;background-image\:url(https\://mds.pliing.com/sync/tipsport/logo.png);background-size\:contain;background-position\:top center;background-repeat\:no-repeat;top\:278px;left\:52px;width\:196px;height\:43px}.p2273620675-live-image{position\:absolute;top\:9px;width\:12px;height\:12px;border-radius\:50%;background-color\:#e01021}.p2273620675-live-image-outer{position\:absolute;background-image\:url(https\://mds.pliing.com/sync/tipsport/outer_circle.png);background-size\:contain;background-position\:top center;background-repeat\:no-repeat;top\:0;left\:103px;width\:30px;height\:30px}#p2273620675-tc-image{position\:absolute;background-image\:url(https\://mds.pliing.com/sync/tipsport/18.png);background-size\:contain;background-position\:top center;background-repeat\:no-repeat}.p2273620675-odds-box{background\:#f59b0b;position\:absolute;z-index\:9999;text-align\:center;color\:white;font-size\:16px;font-family\:DaxlinePro, Geneva, sans-serif}.p2273620675-odds-info{line-height\:8px;font-size\:8px;position\:absolute;z-index\:0;text-align\:center;color\:white;font-family\:DaxlinePro-Regular, Geneva, sans-serif}.p2273620675-odds{line-height\:15px;font-size\:15px;position\:absolute;z-index\:0;text-align\:center;color\:white;font-family\:DaxlinePro-Regular, Geneva, sans-serif}.p2273620675-league{position\:absolute;font-family\:DaxlinePro, Geneva, sans-serif;text-align\:center;color\:#f59b0b;overflow\:hidden}.p2273620675-ad-container-300x600{width\:300px;height\:600px}.p2273620675-scale-container-300x600{width\:300px;height\:600px}.p2273620675-logo-300x600{top\:20px;left\:52px;width\:196px;height\:43px}.p2273620675-wrap-carousel-300x600{width\:100%;height\:400px;top\:63px}.p2273620675-icon1-300x600{top\:117px;left\:35px;width\:90px;height\:90px;text-align\:center;font-size\:35px}.p2273620675-icon2-300x600{top\:117px;right\:35px;width\:90px;height\:90px;text-align\:center;font-size\:35px}.p2273620675-team1-icon-300x600{top\:227px;left\:35px;width\:90px}.p2273620675-team1-no-icon-300x600{top\:117px;left\:10px;width\:280px}.p2273620675-team2-icon-300x600{top\:227px;right\:35px;width\:90px}.p2273620675-team2-no-icon-300x600{top\:227px;left\:10px;width\:280px}.p2273620675-vs-300x600{position\:absolute;font-family\:DaxlinePro;top\:177px;left\:10px;width\:280px;height\:45px;text-align\:center;font-size\:25px}.p2273620675-tc-300x600{font-size\:12px;bottom\:15px;left\:70px;width\:215px;height\:29px}.p2273620675-date-300x600{font-size\:22px;top\:55px;right\:10px;width\:280px;height\:30px}.p2273620675-tc-image-300x600{bottom\:15px;left\:30px;height\:30px;width\:30px;font-size\:15px}.p2273620675-odds-box-300x600{bottom\:40px;right\:15px;height\:30px;width\:80px;line-height\:26px}.p2273620675-odds-box-1-300x600{left\:15px}.p2273620675-odds-box-X-300x600{right\:110px}.p2273620675-odds-box-2-300x600{right\:15px}.p2273620675-odds-info-1-300x600{left\:15px}.p2273620675-odds-info-X-300x600{right\:110px}.p2273620675-odds-info-2-300x600{right\:15px}.p2273620675-odds-info-300x600{bottom\:152px;height\:15px;width\:80px}.p2273620675-odds-1-300x600{left\:15px}.p2273620675-odds-X-300x600{right\:110px}.p2273620675-odds-2-300x600{right\:15px}.p2273620675-odds-300x600{bottom\:142px;height\:15px;width\:80px}.p2273620675-league-300x600{font-size\:22px;top\:30px;right\:10px;width\:280px;height\:30px}.p2273620675-hr-300x600{bottom\:25px;margin-top\:5px;margin-bottom\:9px}.p2273620675-league-300x600-live{top\:26px !important}.p2273620675-date-300x600-live{top\:60px !important}.p2273620675-live-image-300x600{left\:112px}.p2273620675-live-image-outer-300x600{left\:103px}.p2273620675-ad-container-480x480{width\:480px;height\:480px}.p2273620675-scale-container-480x480{width\:480px;height\:480px}.p2273620675-logo-480x480{top\:20px;left\:108px;width\:243px;height\:15%}.p2273620675-wrap-carousel-480x480{width\:100%;height\:400px;top\:63px}.p2273620675-icon1-480x480{top\:117px;left\:88px;width\:90px;height\:90px;text-align\:center;font-size\:35px}.p2273620675-icon2-480x480{top\:117px;right\:88px;width\:90px;height\:90px;text-align\:center;font-size\:35px}.p2273620675-team1-icon-480x480{top\:227px;left\:35px;width\:200px;height\:30px}.p2273620675-team1-no-icon-480x480{top\:98px;left\:41px;width\:400px}.p2273620675-team2-icon-480x480{top\:227px;right\:35px;width\:200px;height\:30px}.p2273620675-team2-no-icon-480x480{top\:198px;left\:41px;width\:400px}.p2273620675-vs-480x480{position\:absolute;font-family\:DaxlinePro;top\:157px;left\:191px;width\:100px;height\:56px;text-align\:center;font-size\:28px}.p2273620675-tc-480x480{font-size\:11px;bottom\:10px;left\:52px;width\:411px;height\:12px}.p2273620675-date-480x480{font-size\:22px;top\:60px;right\:15px;width\:450px;height\:30px;text-align\:center}.p2273620675-arrow-right-480x480{top\:43%}.p2273620675-tc-image-480x480{bottom\:7px;left\:10px;height\:30px;width\:30px;font-size\:15px}.p2273620675-odds-box-480x480{bottom\:96px;right\:15px;height\:35px;width\:84px;line-height\:29px}.p2273620675-odds-box-1-480x480{left\:100px}.p2273620675-odds-box-X-480x480{right\:198px}.p2273620675-odds-box-2-480x480{right\:100px}.p2273620675-odds-info-1-480x480{left\:100px}.p2273620675-odds-info-X-480x480{right\:200px}.p2273620675-odds-info-2-480x480{right\:100px}.p2273620675-odds-info-480x480{bottom\:70px;font-weight\:bold;height\:15px;width\:80px}.p2273620675-odds-1-480x480{left\:100px}.p2273620675-odds-X-480x480{right\:200px}.p2273620675-odds-2-480x480{right\:100px}.p2273620675-odds-480x480{bottom\:63px;font-weight\:bold;height\:15px;width\:80px}.p2273620675-league-480x480{font-size\:22px;font-weight\:bold;top\:25px;right\:15px;width\:450px;height\:40px;text-transform\:uppercase;text-align\:center}.p2273620675-hr-480x480{bottom\:62px;margin-top\:5px;margin-bottom\:9px}.p2273620675-live-image-480x480{left\:192px}.p2273620675-live-image-outer-480x480{left\:183px}.p2273620675-ad-container-420x105{width\:420px;height\:105px}.p2273620675-scale-container-420x105{width\:420px;height\:105px}.p2273620675-logo-420x105{top\:79px;left\:244px;width\:243px;height\:19%}.p2273620675-wrap-carousel-420x105{width\:100%;height\:80px;top\:0px}.p2273620675-team1-420x105{top\:16px;left\:41px;width\:338px;font-size\:21px;font-weight\:bold;text-align\:center;white-space\:nowrap}.p2273620675-team2-420x105{top\:16px;right\:41px;width\:150px;white-space\:nowrap}.p2273620675-vs-420x105{position\:absolute;font-family\:DaxlinePro;top\:23px;left\:191px;width\:38px;height\:56px;text-align\:center;font-size\:16px}.p2273620675-tc-420x105{font-size\:8.5px;bottom\:4px;left\:32px;width\:411px;height\:12px}.p2273620675-date-420x105{font-size\:14px;top\:0px;right\:54px;width\:200px;height\:30px}.p2273620675-tc-image-420x105{bottom\:3px;left\:5px;height\:20px;width\:20px;font-size\:15px}.p2273620675-odds-box-420x105{bottom\:4px;right\:15px;height\:35px;width\:64px;line-height\:29px}.p2273620675-odds-box-1-420x105{left\:107px}.p2273620675-odds-box-X-420x105{right\:175px}.p2273620675-odds-box-2-420x105{right\:103px}.p2273620675-odds-info-1-420x105{display\:none}.p2273620675-odds-info-X-420x105{display\:none}.p2273620675-odds-info-2-420x105{display\:none}.p2273620675-odds-info-420x105{display\:none}.p2273620675-odds-1-420x105{display\:none}.p2273620675-odds-X-420x105{display\:none}.p2273620675-odds-2-420x105{display\:none}.p2273620675-league-420x105{font-size\:14px;font-weight\:bold;top\:0px;left\:41px;width\:338px;height\:16px;text-transform\:uppercase}.p2273620675-league-420x105-live{width\:280px;left\:70px;text-align\:center}.p2273620675-date-420x105-live{width\:112px;right\:318px;text-align\:left}.p2273620675-live-image-outer-420x105{left\:13px;width\:20px;height\:20px}.p2273620675-live-image-420x105{left\:20px;top\:6px;width\:8px;height\:8px}.p2273620675-hr-420x105{display\:none}.p2273620675-icon1-420x105{display\:none}.p2273620675-icon2-420x105{display\:none}.p2273620675-ad-container-300x250{width\:300px;height\:250px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250{width\:300px;height\:250px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-logo-300x250{width\:98px;height\:22px;top\:12px;left\:102px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-icon1-300x250{width\:56px;height\:56px;top\:70px;left\:55px;text-align\:center;font-size\:35px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-icon2-300x250{width\:56px;height\:56px;top\:70px;right\:55px;text-align\:center;font-size\:35px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-team1-icon-300x250{width\:76px;height\:30px;top\:125px;left\:45px;visibility\:hidden}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-team1-no-icon-300x250{width\:250px;height\:25px;top\:67px;left\:0;right\:0;margin\:auto;visibility\:hidden}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-team2-icon-300x250{width\:76px;height\:30px;top\:125px;right\:45px;visibility\:hidden}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-team2-no-icon-300x250{width\:250px;height\:25px;top\:122px;left\:0;right\:0;margin\:auto;visibility\:hidden}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-vs-300x250{position\:absolute;width\:100px;height\:25px;top\:98px;left\:0;right\:0;margin\:auto;text-align\:center;font-size\:14px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-league-300x250{width\:250px;height\:30px;top\:35px;left\:0;right\:0;margin\:auto;text-transform\:uppercase;text-align\:center;font-size\:13px;font-weight\:bold;display\:-webkit-box;display\:-webkit-flex;display\:-moz-box;display\:-ms-flexbox;display\:flex;-webkit-box-pack\:center;-webkit-justify-content\:center;-moz-box-pack\:center;-ms-flex-pack\:center;justify-content\:center;-webkit-box-align\:center;-webkit-align-items\:center;-moz-box-align\:center;-ms-flex-align\:center;align-items\:center}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-league-300x250 span{margin\:0 4px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-league-300x250 .p2273620675-live-image-outer{position\:relative;left\:2px;width\:18px;height\:18px;margin\:0 3px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-league-300x250 .p2273620675-live-image-outer .p2273620675-live-image{position\:absolute;left\:0;right\:0;top\:0;bottom\:0;margin\:auto;width\:8px;height\:8px;-webkit-animation\:none;-moz-animation\:none;animation\:none}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-league-300x250 .p2273620675-live-text{margin-left\:5px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-date-300x250{width\:180px;height\:25px;top\:39px;right\:0;text-align\:center;font-size\:15px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-date-300x250 .p2273620675-live-image{width\:8px;height\:8px;top\:8px;left\:50px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-date-300x250 .p2273620675-live-image-outer{width\:16px;height\:16px;top\:4px;left\:46px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-arrow-right-300x250{top\:43%}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-box-300x250{width\:56px;height\:25px;bottom\:66px;right\:15px;line-height\:22px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-info-300x250{width\:56px;height\:15px;bottom\:35px;font-weight\:bold;font-size\:5px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-300x250{width\:56px;height\:15px;bottom\:31px;font-weight\:bold;font-size\:10px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-box-1-300x250{left\:55px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-info-1-300x250{left\:55px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-1-300x250{left\:55px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-box-X-300x250{left\:0;right\:0;margin\:auto}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-info-X-300x250{left\:0;right\:0;margin\:auto}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-X-300x250{left\:0;right\:0;margin\:auto}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-box-2-300x250{right\:55px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-info-2-300x250{right\:55px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-odds-2-300x250{right\:55px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-hr-300x250{bottom\:45px}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-tc-300x250{width\:200px;height\:5px;left\:64px;bottom\:11px;font-size\:9px;visibility\:hidden}.p2273620675-ad-container-300x250 .p2273620675-scale-container-300x250 .p2273620675-tc-image-300x250{width\:12px;height\:12px;left\:45px;bottom\:9px}';\x0aadssCont.appendChild(adssStyle);\x0avar adssScript = document.createElement('script');\x0aadssScript.text='(function e(t,i,s){function a(r,o){if(!i[r]){if(!t[r]){var l=typeof require=="function"&&require;if(!o&&l)return l(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module \\'"+r+"\\'")}var f=i[r]={exports\:{}};t[r][0].call(f.exports,(function(e){var i=t[r][1][e];return a(i?i\:e)}),f,f.exports,e,t,i,s)}return i[r].exports}var n=typeof require=="function"&&require;for(var r=0;r<s.length;r++){a(s[r])}return a})({1\:[function(e,t,i){(function(){window.Carousel=e("./js/carousel.js")})()},{"./js/carousel.js"\:2}],2\:[function(e,t,i){t.exports=function(e,t){var i=function i(params,s){var a=[],n=[],r=[],o=s||0,l=null,f=s||0,d=false,c=false,p={parent\:params.parent||t.body,wrapper\:null,inner\:null,pager\:null,arrows\:{topLeft\:null,bottomRight\:null}},m=function e(t){var i=t,s={},a=[{key\:"width",min\:100,visible\:i.vertical?1\:i.visible_sides},{key\:"height",min\:40,visible\:!i.vertical?1\:i.visible_sides}],n=/\\\\%/i,r;init=function e(){a.forEach((function(e){if(!i[e.key]){s[e.key]=e.min;return}if(n.test(i[e.key])){r=!!i.parent.getBoundingClientRect()[e.key];if(r){s[e.key]=i.parent.getBoundingClientRect()[e.key]/e.visible;return}s[e.key]=e.min;return}s[e.key]=parseInt(i[e.key])}))};(function(){init()})();return s},u={debug\:params.debug||false,interaction\:params.interaction,pager\:params.pager||false,wrapperoverflow\:params.wrapperoverflow||"hidden",sides\:{visible\:params.visible||2,width\:null,height\:null,total\:null,positions\:{max\:null,min\:null},vertical\:params.vertical,peek\:params.sides&&params.sides.peek?params.sides.peek\:{left\:0,right\:0},focus\:params.sides&&params.sides.focus?params.sides.focus\:"none"},animations\:{type\:params.animations.type||"translate",smoothMobile\:params.animations.smoothMobile||false,swipeSensitivity\:params.animations.swipeSensitivity||.3,transitions\:params.animations.transitions||500,autoTransitions\:params.animations.autoTransitions||params.animations.transitions||500,delay\:params.animations.delay||200,autorotate\:{use\:params.animations.autorotate,forward\:params.animations.forward},initialrotate\:{use\:params.animations.initialrotate.use||false,transition\:params.animations.initialrotate.transition||params.animations.autoTransitions||params.animations.transitions||500,delay\:params.animations.initialrotate.delay||1e3,dirForward\:params.animations.initialrotate.dirForward?"bkw"\:"fwd"},hoverfx\:params.animations.hoverfx||false,waitForInview\:typeof params.animations.waitForInview!="undefined"?params.animations.waitForInview\:true},clicks\:{lastClick\:new Date},callbacks\:{faceRendered\:params.callbacks.faceRendered,swiped\:params.callbacks.swiped,clicked\:params.callbacks.clicked||function(){},interacted\:params.callbacks.interacted,initialRotationFinished\:params.callbacks.initialRotationFinished,elementCreated\:params.callbacks.elementCreated},intervals\:{initrotate\:null,autorotate\:null}},v=params.uniqueId||"p2273620675",h=function e(){var i=u.sides.height*u.sides.visible+u.sides.visible*u.sides.margin;var s=u.sides.width*u.sides.visible+u.sides.peek.left+u.sides.peek.right+u.sides.visible*u.sides.margin+u.sides.margin;var a=u.sides.width*u.sides.total+u.sides.total*u.sides.margin;var n=u.sides.height*u.sides.total+u.sides.total*u.sides.margin;var r={x\:!u.sides.vertical?(a-s)/2-u.sides.margin/2\:0,y\:u.sides.vertical?(n-i)/2-u.sides.margin/2\:0};var o={visible\:{width\:u.sides.vertical?"100%"\:s+"px",height\:!u.sides.vertical?u.sides.height+"px"\:i+"px"},total\:{width\:u.sides.vertical?"100%"\:a+"px",height\:!u.sides.vertical?u.sides.height+"px"\:n+"px"}};p.wrapper=t.createElement("div");p.inner=t.createElement("div");p.wrapper.style.cssText="position\:relative;width\:"+o.visible.width+";height\:"+o.visible.height+";overflow\:"+u.wrapperoverflow+";";p.inner.style.cssText="position\:absolute;top\:0;left\:0;width\:"+o.total.width+";height\:"+o.total.height;p.inner.style.webkitTransform="translate(-"+r.x+"px, -"+r.y+"px)";p.inner.style.transform="translate(-"+r.x+"px, -"+r.y+"px)";p.inner.style.msTransform="translate(-"+r.x+"px, -"+r.y+"px)";if(u.debug){p.wrapper.style.overflow="visible"}},g=function e(){var t=m({width\:params.width,height\:params.height,parent\:p.parent,visible_sides\:u.sides.visible,vertical\:u.sides.vertical});u.sides.width=t.width;u.sides.height=t.height;u.sides.margin=params.margin||0;if(params.faces){for(var i=0;i<params.faces.length;i++){a.push({id\:i,visible\:false,html\:y(params.faces[i])})}}else{for(var i=0;i<5;i++){a.push({id\:i,visible\:false,html\:y(i)})}}if(a.length<u.sides.visible){void 0;var s=a.length;for(var i=s;i<s*2||a.length<u.sides.visible;i++){var n={id\:i,visible\:false,html\:y(params.faces[i%s])};a.push(n)}}u.sides.inview=u.sides.visible+(u.sides.peek.left!==0?1\:0)+(u.sides.peek.right!==0?1\:0);u.sides.total=u.sides.inview+2;u.sides.positions.max=(u.sides.total-1)*(u.sides.vertical?u.sides.height\:u.sides.width)+u.sides.margin*u.sides.total-u.sides.margin;u.sides.positions.min=0;o=a.length-2-(u.sides.peek.left!==0?1\:0)+o%a.length;var r=u.sides.vertical?u.sides.height\:u.sides.width;u.sides.currentFacePosition=r*(u.sides.visible+(u.sides.peek.left!==0?1\:0))+u.sides.margin*(u.sides.total-u.sides.inview)},y=function e(t){var i=new DOMParser;if(typeof t=="string"||typeof t=="number"){var s=i.parseFromString(t,"text/html");return s.firstChild}return t},w=function e(){p.wrapper.appendChild(p.inner)},b=function e(){p.parent.appendChild(p.wrapper)},x=function e(){for(var t=0;t<r.length;t++){p.inner.appendChild(r[t].html)}},k=function e(){if(!u.interaction||!Z(u,"interaction.arrows")){return}p.wrapper.appendChild(p.arrows.topLeft);p.wrapper.appendChild(p.arrows.bottomRight)},T=function e(){if(!u.pager){return}if(!u.pager.multiple){if(!Z(u,"pager.container")){p.wrapper.appendChild(p.pager)}else{u.pager.container.appendChild(p.pager)}}},R=function e(t){a.forEach((function(e){var i=t.some((function(t){return e==t}));e.visible=i}))},L=function e(t,i){var s=u.sides.vertical?u.sides.height\:u.sides.width;var n;var r=[];for(var o=0;o<u.sides.visible;o++){n=i.id;if(t.pos<0){n=(a.length+(n+o)-(u.sides.inview-(u.sides.peek.left!==0?1\:0)))%a.length;r.push(a[n])}if(t.pos===u.sides.positions.max+s+u.sides.margin){n=(n-o+(u.sides.inview-(u.sides.peek.left!==0?1\:0)))%a.length;r.push(a[n])}}R(r);t.html.innerHTML=i.html.outerHTML;u.callbacks.faceRendered(t,i)},F=function e(t,i,s){if(!u.pager){return}var n=Z(u,"pager.colors.active")?u.pager.colors.active\:"#f7d146";var r=Z(u,"pager.colors.active")?u.pager.colors.inactive\:"#dedede";var o=Z(u,"pager.colors.border")?{active\:Z(u,"pager.colors.border.active"),inactive\:Z(u,"pager.colors.border.inactive")}\:null;if(u.pager.type==="numeric"){t[0].innerHTML=\\'<span id="p2273620675-numeric-current">\\'+(f.id+1)+"</span>"+\\'<span id="p2273620675-numeric-separator">/</span>\\'+\\'<span id="p2273620675-numeric-length">\\'+a.length+"</span>"}else{if(o){if(o.active&&o.inactive){t[i.id].style.border=s?u.pager.colors.border.active\:u.pager.colors.border.inactive}}t[i.id].style.backgroundColor=s?n\:r}},C=function e(){if(!u.pager){return}if(u.pager.multiple){I()}else{E()}},I=function e(){var i=null;for(var s=0;s<a.length;s++){i=t.createElement("div");i.id="p2273620675-pager-"+s;if(Z(u,"pager.style")){i.style.cssText=u.pager.style}else{i.style.cssText="position\:absolute; top\:0; right\:0; margin\: inherit"}i.innerHTML=\\'<span id="p2273620675-numeric-current-\\'+s+\\'">\\'+(s+1)+"</span>"+\\'<span id="p2273620675-numeric-separator-\\'+s+\\'">/</span>\\'+\\'<span id="p2273620675-numeric-length-\\'+s+\\'">\\'+a.length+"</span>";a[s].html.lastChild.firstChild.appendChild(i)}},E=function e(){var i=t.createElement("div");var s=Z(u,"pager.style");i.id="p2273620675-pager";if(s){i.style.cssText=u.pager.style}else{i.style.cssText="position\:absolute;top\:0;left\:0;width\:auto;height\:auto;z-index\:11;padding\:7px;"}if(u.pager.type==="numeric"){var r=t.createElement("div");i.appendChild(r);n.push(r);p.pager=i;if(u.callbacks.elementCreated){u.callbacks.elementCreated(i)}}else{var o=Z(u,"pager.dots.size");for(var l=0;l<a.length;l++){var f=t.createElement("div");f.style.cssText="position\:relative;float\:left;width\:7px;height\:7px;background\:black;border-radius\:50%;margin\:0px 3px;";if(o){f.style.width=o+"px";f.style.height=o+"px"}i.appendChild(f);n.push(f)}if(u.callbacks.elementCreated){u.callbacks.elementCreated(i)}p.pager=i}},Z=function e(t,i){var s=i.split(".");var a=null;var n=true;var r=false;var o=false;s.forEach((function(e,i){if(i==0&&t[e]){a=t[e]}else{if(r){}if(o){}r=/\\\\[\\\\]/.test(e);o=/\\\\[[0-9]\\\\]/.test(e);if(r){if(a[e.replace(/\\\\[\\\\]/,"")]){a=a[e.replace(/\\\\[\\\\]/,"")][0]}else{n=false}}else if(o){if(a[e.replace(/\\\\[[0-9]\\\\]/,"")]){a=a[e.replace(/\\\\[[0-9]\\\\]/,"")][parseInt(e.match(/[0-9]/)[0])]}else{n=false}}else{if(a&&a[e]){a=a[e]}else{n=false}}}}));return n?a\:n},M=function e(){if(!u.interaction||!Z(u,"interaction.arrows")){return}var i;var s;var a=u.sides.vertical;var n=a?"left\:50%;-webkit-transform\:translate(-50%, 0px);transform\:translate(-50%, 0px);-ms-transform\:translate(-50%, 0px);"\:"top\:50%;-webkit-transform\:translate(0px, -50%);transform\:translate(0px, -50%);-ms-transform\:translate(0px, -50%);";var r;var o;var l=Z(u,"interaction.arrows.black");var f=typeof u.interaction.arrows.colorInside==="undefined"?"#fff"\:u.interaction.arrows.colorInside;var d={w\:Z(u,"interaction.arrows.dims.width"),h\:Z(u,"interaction.arrows.dims.height")};var c=Z(u,"interaction.arrows.opacity");for(var m=0;m<2;m++){i=t.createElement("div");s=t.createElement("div");if(Z(u,"interaction.arrows.element")){if(u.interaction.arrows.element instanceof HTMLElement){s.appendChild(u.interaction.arrows.element.cloneNode(true))}else{s.innerHTML=u.interaction.arrows.element}}r=Z(u,"interaction.arrows.positions["+m+"]");i.style.cssText="position\:absolute;z-index\:10;"+n;if(d){i.style.width=d.w||"20px";i.style.height=d.h||"20px"}s.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;background-position\:center;background-size\:100% 100%;background-repeat\:no-repeat;pointer-events\:none;";if(typeof u.interaction.arrows.element==="undefined"){if(typeof u.interaction.arrows.black!=="undefined"&&typeof u.interaction.arrows.color==="undefined"){u.interaction.arrows.color=l?"black"\:"white"}s.innerHTML=\\'<svg xmlns="http\://www.w3.org/2000/svg" viewBox="0 0 90 90"><defs><style>.cls-1{opacity\:0.6;}</style></defs><title>Arrow-Left_Black</title><g id="Layer_2" data-name="Layer 2"><g id="Arrows" class="cls-1"><g id="Arrow-Left">\\'+\\'<path id="p2273620675-arrow-inside-\\'+m+\\'"  fill="\\'+f+\\'" d="M32.28,47a5.46,5.46,0,0,0,1.2,1.8L48.83,64.19a5.43,5.43,0,0,0,7.68,0h0a5.43,5.43,0,0,0,0-7.69L45,45l11.5-11.51a5.43,5.43,0,1,0-7.68-7.68L33.48,41.15A5.44,5.44,0,0,0,32.28,47Z"/>\\'+\\'<path id="p2273620675-arrow-circle-\\'+m+\\'" d="M.88,53.93a45,45,0,0,0,37.2,35.54A45.67,45.67,0,0,0,45,90,45,45,0,1,0,.88,53.93Zm32.6-12.78L48.83,25.81a5.43,5.43,0,1,1,7.68,7.68L45,45l11.5,11.5a5.43,5.43,0,0,1,0,7.69h0a5.43,5.43,0,0,1-7.68,0L33.48,48.84a5.42,5.42,0,0,1,0-7.69Z" fill="\\'+u.interaction.arrows.color+\\'"/></g></g></g></svg>\\'}if(a){i.id=v+"-arrow-"+(m==0?"top"\:"bottom");s.style.webkitTransform="rotate("+(m==0?90\:270)+"deg)";s.style.transform="rotate("+(m==0?90\:270)+"deg)";s.style.msTransform="rotate("+(m==0?90\:270)+"deg)";i.style.top=!m==0?""\:"10px";i.style.bottom=m==0?""\:"10px";if(Z(r,"top")){i.style.top=Z(r,"top");i.style.bottom=""}if(Z(r,"left")){i.style.left=Z(r,"left");i.style.right=""}if(Z(r,"bottom")){i.style.bottom=Z(r,"bottom");i.style.top=""}if(Z(r,"right")){i.style.right=Z(r,"right");i.style.left=""}if(Z(r,"left")||Z(r,"right")){i.style.webkitTransform="";i.style.transform="";i.style.msTransform=""}}else{i.id=v+"-arrow-"+(m==0?"left"\:"right");s.style.webkitTransform="rotate("+(m==0?0\:180)+"deg)";s.style.transform="rotate("+(m==0?0\:180)+"deg)";s.style.msTransform="rotate("+(m==0?0\:180)+"deg)";i.style.left=!m==0?""\:"10px";i.style.right=m==0?""\:"10px";if(Z(r,"top")){i.style.top=Z(r,"top");i.style.bottom=""}if(Z(r,"left")){i.style.left=Z(r,"left");i.style.right=""}if(Z(r,"bottom")){i.style.bottom=Z(r,"bottom");i.style.top=""}if(Z(r,"right")){i.style.right=Z(r,"right");i.style.left=""}if(Z(r,"top")||Z(r,"bottom")){i.style.webkitTransform="";i.style.transform="";i.style.msTransform=""}}i.style.opacity=u.animations.hoverfx?"0"\:c||"1";i.style.webkitTransition=u.animations.hoverfx?"opacity "+u.animations.transitions+"ms ease-in-out"\:"";i.style.transition=u.animations.hoverfx?"opacity "+u.animations.transitions+"ms ease-in-out"\:"";i.style.msTransition=u.animations.hoverfx?"opacity "+u.animations.transitions+"ms ease-in-out"\:"";p.arrows[m==0?"topLeft"\:"bottomRight"]=i;i.appendChild(s);if(u.callbacks.elementCreated){u.callbacks.elementCreated(i)}}},K=function e(t){if(!Z(u,"interaction.arrows")){return}var i=Z(u,"interaction.arrows.opacity");if(u.animations.hoverfx){p.arrows.topLeft.style.opacity=t?i||1\:0;p.arrows.bottomRight.style.opacity=t?i||1\:0}else{p.arrows.topLeft.style.opacity=i||1;p.arrows.bottomRight.style.opacity=i||1}},_=function e(t){if(!Z(u,"interaction.arrows")){return}d=t},A=function e(i){for(var s=0;s<u.sides.total;s++){var a=t.createElement("div");var n={};a.id=v+"-side-"+i;a.classList.add(v+"-sides");a.style.cssText="position\:absolute;top\:0;left\:0;width\:"+u.sides.width+"px;height\:"+u.sides.height+"px";if(u.debug){a.style.backgroundColor="rgb("+Math.random()*255+", "+Math.random()*255+", "+Math.random()*255+")";a.style.textAlign="center"}if(u.sides.vertical){a.style.webkitTransform="translate3d(0px,"+u.sides.height*s+"px,0)";a.style.transform="translate3d(0px,"+u.sides.height*s+"px,0)";a.style.msTransform="translate3d(0px,"+u.sides.height*s+"px,0)"}else{a.style.webkitTransform="translate3d("+u.sides.width*s+"px, 0px,0)";a.style.transform="translate3d("+u.sides.width*s+"px, 0px,0)";a.style.msTransform="translate3d("+u.sides.width*s+"px, 0px,0)"}n.pos=s*(u.sides.vertical?u.sides.height\:u.sides.width)+s*u.sides.margin;n.id=i;n.html=a;r.push(n);i=(i+1)%u.sides.total}},B=function e(t,i,s,a){var n=u.animations.type=="opacity"?u.animations.type\:"all";var r;if(a){r=u.animations.initialrotate.transition}else if(s){r=u.animations.transitions}else{r=u.animations.autoTransitions}t.html.style.webkitTransition=i?n+" "+r+"ms ease-out"\:"";t.html.style.transition=i?n+" "+r+"ms ease-out"\:"";t.html.style.msTransition=i?n+" "+r+"ms ease-out"\:""},H=function e(t,i,s,a){var n=u.sides.vertical?u.sides.height\:u.sides.width;for(var o=0;o<r.length;o++){var l=r[o];l.pos=t=="fwd"?l.pos+n+u.sides.margin\:l.pos-n-u.sides.margin;l.visible=false;if(!(l.pos<0)||!(l.pos>u.sides.positions.max)){B(l,true,i,s)}if(l.pos<=u.sides.currentFacePosition&&l.pos>0+(n*(u.sides.peek.left!==0?1\:0)+u.sides.margin)){l.visible=true;if(l.pos==0){a("current",l,"left")}if(l.pos==u.sides.currentFacePosition){a("current",l,"right")}}if(t=="bkw"&&l.pos<0){a("other",l,"right","slideLeft")}if(t=="fwd"&&l.pos>u.sides.positions.max){a("other",l,"left","slideRight")}if(l.pos<0){l.pos=u.sides.positions.max;B(l,false)}if(l.pos>u.sides.positions.max){l.pos=u.sides.positions.min;B(l,false)}}},q=function e(t,i,s){if(u.animations.type!="opacity"){return}if(!s){t.html.style.opacity=i;return}setTimeout((function(){t.html.style.opacity=i}),u.animations.transitions+u.animations.delay)},S=function e(t){var i=(u.sides.vertical?u.sides.height\:u.sides.width)+u.sides.margin;var s=u.animations.smoothMobile?t\:0;for(var a=0;a<r.length;a++){var n=r[a];var o={start\:i*(u.sides.peek.left!==0?1\:0),finish\:i*(u.sides.visible+(u.sides.peek.right!==0?1\:0))};var l=o.start<n.pos&&n.pos<=o.finish;if(l){var f="";if(u.sides.focus!=="none"){f=Z(u,"sides.focus.transform")?Z(u,"sides.focus.transform")\:"";if(Z(u,"sides.focus.active")){n.html.classList.add(Z(u,"sides.focus.active"));n.html.classList.remove(Z(u,"sides.focus.inactive"))}}if(u.sides.vertical){n.html.style.webkitTransform="translate(0px,"+(n.pos+t)+"px)"+f;n.html.style.transform="translate(0px,"+(n.pos+t)+"px)"+f;n.html.style.msTransform="translate(0px,"+(n.pos+t)+"px)"+f}else{n.html.style.webkitTransform="translate("+(n.pos+t)+"px, 0px)"+f;n.html.style.transform="translate("+(n.pos+t)+"px, 0px)"+f;n.html.style.msTransform="translate("+(n.pos+t)+"px, 0px)"+f}}else{if(u.sides.focus!=="none"){if(Z(u,"sides.focus.inactive")){n.html.classList.add(Z(u,"sides.focus.inactive"));n.html.classList.remove(Z(u,"sides.focus.active"))}}if(u.sides.vertical){n.html.style.webkitTransform="translate(0px,"+(n.pos+s)+"px)";n.html.style.transform="translate(0px,"+(n.pos+s)+"px)";n.html.style.msTransform="translate(0px,"+(n.pos+s)+"px)"}else{n.html.style.webkitTransform="translate("+(n.pos+s)+"px, 0px)";n.html.style.transform="translate("+(n.pos+s)+"px, 0px)";n.html.style.msTransform="translate("+(n.pos+s)+"px, 0px)"}}}},V=null,j=-2,z=function e(t,i,s,r){if(!!i){if(new Date-u.clicks.lastClick<u.animations.transitions){return}else{u.clicks.lastClick=new Date}}H(t,s,r,(function(e,i,s){if(e=="other"){if(t=="bkw"){if(s=="right"){o=V=="fwd"?j\:(o+1)%a.length;j=(a.length+o+(a.length-u.sides.total))%a.length;f=a[(a.length+o-(u.sides.visible+(u.sides.peek.left!==0?1\:0)))%a.length];if(u.debug){void 0;void 0;void 0}L(i,a[o]);V=t}}else{if(s=="left"){o=V=="bkw"?j\:(a.length+o-1)%a.length;j=(a.length+o-(a.length-u.sides.total))%a.length;f=a[(a.length+o+(u.sides.visible+(u.sides.peek.left!==0?1\:0)))%a.length];if(u.debug){void 0;void 0;void 0}L(i,a[o]);V=t}}}}));if(!u.pager.multiple){a.forEach((function(e){if(e.visible){F(n,e,true)}else{F(n,e,false)}}))}S(0);if(s){u.callbacks.swiped(t,u.sides.vertical)}},D=function e(){var t=u.animations.autorotate.forward?"fwd"\:"bkw";for(var i=0;i<u.sides.inview+2;i++){z(t,false,false)}},O=function t(i){var s=u.animations.autorotate.forward?"fwd"\:"bkw";if(!!u.animations.autorotate.use&&a.length>u.sides.visible&&!i&&!u.intervals.autorotate){if(typeof e.p2273620675AutoRotateTimer!=="undefined"){for(var n=0;n<e.p2273620675AutoRotateTimer;n++){e.clearInterval(e.p2273620675AutoRotateTimer[n]);e.p2273620675AutoRotateTimer.splice(n,1)}}else{e.p2273620675AutoRotateTimer=[]}u.intervals.autorotate=e.setInterval((function(){if(typeof adsscore_track!=="undefined"&&u.animations.waitForInview){if(adsscore_track["p2273620675".replace("p","")].isInview()){z(s,false,false)}adsscore_track["p2273620675".replace("p","")].setInViewCallBack((function(){u.intervals.autorotate=e.setInterval((function(){z(s,false,false)}),u.animations.autoTransitions+u.animations.delay+1e3)}));adsscore_track["p2273620675".replace("p","")].setOffViewCallBack((function(){clearInterval(u.intervals.autorotate)}))}else{z(s,false,false)}}),u.animations.autoTransitions+u.animations.delay+1e3);if(typeof e.p2273620675AutoRotateTimer!=="undefined"){e.p2273620675AutoRotateTimer.push(u.intervals.autorotate)}}},P=function t(){var i=u.animations.autorotate.forward?"fwd"\:"bkw";var s=1;var n=u.animations.initialrotate.dirForward;if(!!u.animations.initialrotate.use&&a.length>u.sides.visible&&!u.intervals.initialrotate){K(true);u.intervals.initrotate=e.setInterval((function(){if(s===1||s===4){z(n,false,false,true)}else if(s===2||s===3){z(n==="bkw"?"fwd"\:"bkw",false,false,true)}else{e.clearInterval(u.intervals.initrotate);e.setTimeout((function(){O(false);K(false);_(true);u.callbacks.initialRotationFinished()}),u.animations.autoTransitions+u.animations.delay)}s++}),u.animations.initialrotate.transition+u.animations.initialrotate.delay)}},X=function(){var t={start\:{},move\:{},end\:{},transition\:[]},i=function e(){t.start.x=0;t.start.y=0;t.move.x=0;t.move.y=0},s=function i(s){if(u.animations.smoothMobile){for(var a=0;a<r.length;a++){t.transition[a]=r[a].html.style.transition;r[a].html.style.webkitTransition="";r[a].html.style.transition="";r[a].html.style.msTransition=""}}t.start.x=s.touches[0].pageX;t.start.y=s.touches[0].pageY;e.clearInterval(u.intervals.autorotate);e.clearInterval(u.intervals.initrotate);u.callbacks.interacted(s)},a=function e(i){t.move.x=i.touches[0].pageX-t.start.x;t.move.y=i.touches[0].pageY-t.start.y;if(u.animations.type!=="opacity"){S(u.sides.vertical?t.move.y\:t.move.x)}},n=function e(){var s=null;var a=u.sides.vertical?t.move.y\:t.move.x;var n=u.sides.vertical?u.sides.height\:u.sides.width;var o=u.animations.swipeSensitivity;if(a>=n*o){s="fwd"}else{if(Math.abs(a)>=n*o){s="bkw"}}if(!u.animations.smoothMobile){S(0)}if(s!==null){if(u.animations.smoothMobile){for(var l=0;l<r.length;l++){r[l].html.style.webkitTransition=t.transition[l];r[l].html.style.transition=t.transition[l];r[l].html.style.msTransition=t.transition[l]}}z(s,false,true)}else{if(u.animations.smoothMobile){r.forEach((function(e){B(e,true)}));S(0)}}i()};return{start\:s,move\:a,end\:n}}(),Y=function(){var t={start\:{},move\:{},end\:{},transition\:[]},i=false,s=function e(){t.start.x=0;t.start.y=0;t.move.x=0;t.move.y=0;i=false},a=function a(n){s();for(var o=0;o<r.length;o++){t.transition[o]=r[o].html.style.transition;r[o].html.style.webkitTransition="";r[o].html.style.transition="";r[o].html.style.msTransition=""}t.start.x=n.pageX;t.start.y=n.pageY;e.clearInterval(u.intervals.autorotate);e.clearInterval(u.intervals.initrotate);u.callbacks.interacted(n);i=true},n=function e(s){if(i){t.move.x=s.pageX-t.start.x;t.move.y=s.pageY-t.start.y;if(u.animations.type!=="opacity"){S(u.sides.vertical?t.move.y\:t.move.x)}}},o=function e(a){if(!i){return}var n=null;var o=u.sides.vertical?t.move.y\:t.move.x;var l=u.sides.vertical?u.sides.height\:u.sides.width;var f=u.animations.swipeSensitivity;if(o>=l*f){n="fwd"}else if(Math.abs(o)>=l*f){n="bkw"}else if(Math.abs(o)<=3){u.callbacks.clicked(a)}if(!u.animations.smoothMobile){S(0)}if(n!==null){if(u.animations.smoothMobile){for(var d=0;d<r.length;d++){r[d].html.style.webkitTransition=t.transition[d];r[d].html.style.transition=t.transition[d];r[d].html.style.msTransition=t.transition[d]}}z(n,false,true)}else{if(u.animations.smoothMobile){r.forEach((function(e){B(e,true)}));S(0)}}s()};return{start\:a,move\:n,end\:o}}(),N=function t(){if(!u.interaction){return}var i=typeof u.interaction.arrows.allowLooping!=="undefined"?u.interaction.arrows.allowLooping\:true;var s=Z(u,"interaction.arrows.opacity");if(i){p.parent.addEventListener("touchstart",X.start);p.parent.addEventListener("touchmove",X.move);p.parent.addEventListener("touchend",X.end);if(u.animations.smoothMobile){p.parent.addEventListener("mousedown",Y.start);p.parent.addEventListener("mousemove",Y.move);p.parent.addEventListener("mouseup",Y.end);p.parent.addEventListener("mouseleave",Y.end)}}p.parent.addEventListener("click",(function(t){e.clearInterval(u.intervals.autorotate);e.clearInterval(u.intervals.initrotate);u.callbacks.interacted(t);if(!c){_(true);c=true}}));if(!Z(u,"interaction.arrows")){return}p.arrows.bottomRight.addEventListener("click",(function(){var e=G().indexOf(a.length-1)==-1;if(i||e){z("bkw",true,true)}}));p.arrows.topLeft.addEventListener("click",(function(){var e=G().indexOf(0)==-1;if(i||e){z("fwd",true,true)}}));if(!u.animations.hoverfx){p.arrows.topLeft.style.opacity=s||1;p.arrows.bottomRight.style.opacity=s||1;return}p.parent.addEventListener("mouseenter",(function(e){p.arrows.topLeft.style.opacity=s||1;p.arrows.bottomRight.style.opacity=s||1}));p.parent.addEventListener("mouseleave",(function(e){if(d){p.arrows.topLeft.style.opacity=0;p.arrows.bottomRight.style.opacity=0}}))},G=function e(){var t=[];for(var i in a){if(a[i].visible){t.push(a[i].id)}}return t},J=function e(){O(u.animations.initialrotate.use);P()},Q=function e(){g();h();A(s||0);M();C();b();w();x();k();T();D();if(typeof adsscore_track!=="undefined"&&u.animations.waitForInview){if(adsscore_track["p2273620675".replace("p","")].isInview()){J()}else if(typeof adsscore_track["p2273620675".replace("p","")].addInViewCallBack!=="undefined"){adsscore_track["p2273620675".replace("p","")].addInViewCallBack(J)}else{adsscore_track["p2273620675".replace("p","")].setInViewCallBack(J)}}else{J()}N()};(function(){Q()})();return{getCurrentFace\:function e(){return f},getCurrentFaces\:G,clearIntervals\:function t(){e.clearInterval(u.intervals.autorotate);e.clearInterval(u.intervals.initrotate)},reload\:function e(params){if(params.faces.length!==a.length){return true}if(params.animations.initialrotate.use!==u.animations.initialrotate.use){if(params.animations.initialrotate.use){return true}u.animations.initialrotate.use=params.animations.initialrotate.use}if(params.animations.autorotate!==u.animations.autorotate.use){this.clearIntervals();u.animations.autorotate.use=params.animations.autorotate;O(false)}if(params.visible!==u.sides.visible){return true}for(var t=0;t<params.faces.length;t++){if(!y(params.faces[t]).isEqualNode(a[t].html)){a[t].html=y(params.faces[t])}}return false}}};return i}(window,document)},{}]},{},[1]); /*Retexter*/ function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol"\:typeof t}}return _typeof(e)}(function e(t,n,i){function r(A,s){if(!n[A]){if(!t[A]){var a=typeof require=="function"&&require;if(!s&&a)return a(A,!0);if(o)return o(A,!0);throw new Error("Cannot find module \\'"+A+"\\'")}var l=n[A]={exports\:{}};t[A][0].call(l.exports,(function(e){var n=t[A][1][e];return r(n?n\:e)}),l,l.exports,e,t,n,i)}return n[A].exports}var o=typeof require=="function"&&require;for(var A=0;A<i.length;A++){r(i[A])}return r})({1\:[function(e,t,n){(function(){window.Retexter=e("./js/retexter.js")})()},{"./js/retexter.js"\:3}],2\:[function(e,t,n){t.exports=function(e){if(!Object.defineProperty){throw"Font.js requires Object.defineProperty, which this browser does not support."}if(!document.createElement("canvas").getContext){throw"Font.js requires <canvas> and the Canvas2D API, which this browser does not support."}(function(e){try{var t=new Uint8Array(1);return}catch(e){}function n(e,t){return this.slice(e,t)}function i(e,t){var n,i=e.length;if(arguments.length<2){t=0}for(n=0;n<i;++n,++t){this[t]=e[n]&255}}function r(e){var t,r;if(typeof e==="number"){t=new Array(e);for(r=0;r<e;++r){t[r]=0}}else{t=e.slice(0)}t.subarray=n;t.buffer=t;t.byteLength=t.length;t.set=i;if(_typeof(e)==="object"&&e.buffer){t.buffer=e.buffer}return t}e.Uint8Array=r;e.Uint32Array=r;e.Int32Array=r})(e);(function(e){if(e.opera)return;if("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype){return}var t;if(e.VBArray){t=function e(){return new Uint8Array(new VBArray(this.responseBody).toArray())}}else{t=function e(){this.responseBody}}Object.defineProperty(XMLHttpRequest.prototype,"response",{get\:t})})(e);if(!e.btoa){e.btoa=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var n,i,r,o,A,s,a,l,f=0,u=0,d="",c=[];if(!e){return e}do{n=e.charCodeAt(f++);i=e.charCodeAt(f++);r=e.charCodeAt(f++);l=n<<16|i<<8|r;o=l>>18&63;A=l>>12&63;s=l>>6&63;a=l&63;c[u++]=t.charAt(o)+t.charAt(A)+t.charAt(s)+t.charAt(a)}while(f<e.length);d=c.join("");var h=e.length%3;return(h?d.slice(0,h-3)\:d)+"===".slice(h||3)}}function t(){this.fontFamily="fjs"+(999999*Math.random()|0)}t.prototype.url="";t.prototype.format="";t.prototype.data="";t.prototype.base64="AAEAAAAKAIAAAwAgT1MvMgAAAAAAAACsAAAAWGNtYXAA"+"AAAAAAABBAAAACxnbHlmAAAAAAAAATAAAAAQaGVhZAAAA"+"AAAAAFAAAAAOGhoZWEAAAAAAAABeAAAACRobXR4AAAAAA"+"AAAZwAAAAIbG9jYQAAAAAAAAGkAAAACG1heHAAAAAAAAA"+"BrAAAACBuYW1lAAAAAAAAAcwAAAAgcG9zdAAAAAAAAAHs"+"AAAAEAAEAAEAZAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABAAMAAQA"+"AAAwABAAgAAAABAAEAAEAAABB//8AAABB////wAABAAAA"+"AAABAAAAAAAAAAAAAAAAMQAAAQAAAAAAAAAAAABfDzz1A"+"AAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAEAAg"+"AAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAQAAAAAAAAAAAAAAAAAIAAAAAQAAAAIAAQAB"+"AAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAIAHgADAAEEC"+"QABAAAAAAADAAEECQACAAIAAAAAAAEAAAAAAAAAAAAAAA"+"AAAA==";t.prototype.metrics={quadsize\:0,leading\:0,ascent\:0,descent\:0,weightclass\:400};t.prototype.systemfont=false;t.prototype.loaded=false;t.prototype.onload=function(){};t.prototype.onerror=function(){};t.prototype.canvas=false;t.prototype.context=false;t.prototype.validate=function(e,t,n,i,r){if(r!==false&&r<0){this.onerror("Requested system font \\'"+this.fontFamily+"\\' could not be loaded (it may not be installed).");return}var o=getComputedStyle(e,null).getPropertyValue("width").replace("px","");if(o>0){document.head.removeChild(t);document.body.removeChild(e);this.loaded=true;this.onload()}else{console.log("timing out");setTimeout((function(){i.validate(e,t,n,i,r===false?false\:r-50)}),1e3)}};t.prototype.ondownloaded=function(){var e=this;var t=function e(t){return String.fromCharCode(t)};var n=function e(n){if(n<256){return t(0)+t(n)}var i=n>>8;var r=n&255;return t(i)+t(r)};var i=function e(t){if(t<0){t=4294967295+t+1}return parseInt(t,10).toString(16)};var r=function e(t,n){return 256*t+n};var o=function e(t,n){var i=t>>7===1,r;t=t&127;r=256*t+n;if(!i){return r}return r-32768};var A=function e(t,n,i,r){return 16777216*t+65536*n+256*i+r};var s=function t(n){e.onerror(n)};var a=t(0)+t(1)+t(0)+t(0);var l="OTTO";var f=this.data;var u=t(f[0])+t(f[1])+t(f[2])+t(f[3]);var d=u===a;var c=d?false\:u===l;if(d){this.format="truetype"}else if(c){this.format="opentype"}else{s("Error\: file at "+this.url+" cannot be interpreted as OpenType font.");return}var h=r(f[4],f[5]),p=12,y,m=p+16*h,v={},g;for(y=p;y<m;y+=16){g=t(f[y])+t(f[y+1])+t(f[y+2])+t(f[y+3]);v[g]={name\:g,checksum\:A(f[y+4],f[y+5],f[y+6],f[y+7]),offset\:A(f[y+8],f[y+9],f[y+10],f[y+11]),length\:A(f[y+12],f[y+13],f[y+14],f[y+15])}}var w=function e(t){if(!v[t]){s("Error\: font is missing the required OpenType \\'"+t+"\\' table.");return false}return t};g=w("head");if(g===false){return}y=v[g].offset;v[g].version=""+f[y]+f[y+1]+f[y+2]+f[y+3];var b=r(f[y+18],f[y+19]);this.metrics.quadsize=b;g=w("hhea");if(g===false){return}y=v[g].offset;v[g].version=""+f[y]+f[y+1]+f[y+2]+f[y+3];this.metrics.ascent=o(f[y+4],f[y+5])/b;this.metrics.descent=o(f[y+6],f[y+7])/b;this.metrics.leading=o(f[y+8],f[y+9])/b;g=w("OS/2");if(g===false){return}y=v[g].offset;v[g].version=""+f[y]+f[y+1];this.metrics.weightclass=r(f[y+4],f[y+5]);g=w("cmap");if(g===false){return}y=v[g].offset;v[g].version=""+f[y]+f[y+1];h=r(f[y+2],f[y+3]);var x,C,B,E,F,R=false;for(var x=0;x<h;x++){C=y+4+x*8;B=r(f[C],f[C+1]);E=r(f[C+2],f[C+3]);F=A(f[C+4],f[C+5],f[C+6],f[C+7]);if(B===3&&E===1){R=F}}var S="A";if(R!==false){y+=R;u=r(f[y],f[y+1]);if(u===4){var T=r(f[y+6],f[y+7])/2;var H=function e(t){return[9,10,11,12,13,32,127,128,129,141,142,143,144,149,157,158,160,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8232,8233,8234,8235,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,12288].indexOf(t)===-1};var M=y+14,z=y+14+2*T,q=false;for(;M<z;M+=2){q=r(f[M],f[M+1]);if(H(q)){break}q=false}if(q!=false){S=String.fromCharCode(q);var L=(-(q-1)+65536)%65536;var j=t(0)+n(q)+n(65535)+n(0)+n(q)+n(65535)+n(L)+n(1);var W=btoa(j);this.base64=this.base64.substring(0,380)+W+this.base64.substring(380+W.length)}}}this.bootstrapValidation(S,false)};t.prototype.bootstrapValidation=function(e,t){var n=this.fontFamily+" testfont";var i=document.createElement("style");i.setAttribute("type","text/css");i.innerHTML="@font-face {\\\\n"+"  font-family\: \\'"+n+"\\';\\\\n"+"  src\: url(\\'data\:application/x-font-ttf;base64,"+this.base64+"\\')\\\\n"+"       format(\\'truetype\\');}";document.head.appendChild(i);var r=false;if(!this.systemfont){r=this.toStyleNode();document.head.appendChild(r)}var o=document.createElement("p");o.style.cssText="position\: absolute; top\: 0; left\: 0; opacity\: 0;";o.style.fontFamily="\\'"+this.fontFamily+"\\', \\'"+n+"\\'";o.innerHTML=e+e+e+e+e+e+e+e+e+e;document.body.appendChild(o);if(typeof getComputedStyle==="undefined"){this.onload();error("Error\: getComputedStyle is not supported by this browser.\\\\n"+"Consequently, Font.onload() cannot be trusted.")}else{var A=this.systemfont?1e3\:this.metrics.quadsize;var s=document.createElement("canvas");s.width=A;s.height=A;this.canvas=s;var a=s.getContext("2d");a.font="1em \\'"+this.fontFamily+"\\'";a.fillStyle="white";a.fillRect(-1,-1,A+2,A+2);a.fillStyle="black";a.fillText("test text",50,A/2);this.context=a;var l=this;var f=function e(){l.validate(o,i,r,l,t)};setTimeout(f,50)}};t.prototype.processSystemFont=function(){this.systemfont=true;this.metrics=false;this.bootstrapValidation("A",1e3)};t.prototype.loadFont=function(){var e=this;if(this.url.indexOf(".")===-1){setTimeout((function(){e.processSystemFont()}),10);return}var t=new XMLHttpRequest;t.open("GET",e.url,true);t.responseType="arraybuffer";t.onload=function(n){var i=t.response;if(i){e.data=new Uint8Array(i);e.ondownloaded()}else{e.onerror("Error downloading font resource from "+e.url)}};t.onerror=function(t){e.onerror("Error downloading font resource from "+e.url)};t.send(null)};t.prototype.styleNode=false;t.prototype.toStyleNode=function(){if(this.styleNode){return this.styleNode}this.styleNode=document.createElement("style");this.styleNode.type="text/css";var e=this.url.replace(".ttf",".eot");var t="@font-face {\\\\n";t+="  font-family\: \\'"+this.fontFamily+"\\';\\\\n";t+="  src\: url(\\'"+e+"\\') format(eot), url(\\'"+this.url+"\\') format(\\'"+this.format+"\\');\\\\n";t+="}";this.styleNode.innerHTML=t;return this.styleNode};t.prototype.measureText=function(e,t){if(!this.loaded){this.onerror("measureText() was called while the font was not yet loaded");return false}this.context.font=t+"px \\'"+this.fontFamily+"\\'";var n=this.context.measureText(e);n.fontsize=t;n.ascent=0;n.descent=0;n.bounds={minx\:0,maxx\:n.width,miny\:0,maxy\:0};n.height=0;var i=[],r=n.width/this.metrics.quadsize;if(r<=1){i.push(e)}else{i.push(e)}var o=i.length,A;for(A=0;A<o;A++){this.measureSegment(i[A],t,n)}return n};t.prototype.measureSegment=function(e,t,n){var i=function e(t,n){return document.defaultView.getComputedStyle(t,null).getPropertyValue(n)};var r;var o=document.createElement("div");o.style.position="absolute";o.style.opacity=0;o.style.font=t+"px \\'"+this.fontFamily+"\\'";var A=10;o.innerHTML=e;for(r=1;r<A;r++){o.innerHTML+="<br/>"+e}document.body.appendChild(o);n.leading=1.2*t;var s=i(o,"height");s=s.replace("px","");if(s>=t*A){n.leading=s/A|0}document.body.removeChild(o);if(/^\\\\s*$/.test(e)){return n}var a=this.canvas,l=this.context,f=this.systemfont?1e3\:this.metrics.quadsize,u=f,d=f,c=f/2,h=50,p=(f-n.width)/2;if(p!==(p|0)){p=p|0}l.fillStyle="white";l.fillRect(-h,-h,u+2*h,d+2*h);l.fillStyle="black";l.fillText(e,p,c);var y=n.width+h|0,m=4*t,v=p-h/2,g=c-m/2,w=l.getImageData(v,g,y,m).data;var r=0,b=0,x=y*4,C=w.length,B=m/2;while(++r<C&&w[r]===255){}var E=r/x|0;r=C-1;while(--r>0&&w[r]===255){}var F=r/x|0;for(r=0,b=0;b<y&&w[r]===255;){r+=x;if(r>=C){b++;r=r-C+4}}var R=b;var S=1;for(r=C-3,b=0;b<y&&w[r]===255;){r-=x;if(r<0){b++;r=C-3-S++*4}}var T=y-b;n.ascent=B-E;n.descent=F-B;n.bounds={minx\:R-h/2,maxx\:T-h/2,miny\:-n.descent,maxy\:n.ascent};n.height=1+(F-E);return n};Object.defineProperty(t.prototype,"src",{set\:function e(t){this.url=t;this.loadFont()}});return t}(window)},{}],3\:[function(e,t,n){var i=e("./lib/font-js");t.exports=function(e,t){var n=function n(r){var o=r.customFontFix||0,A=r.extraLineHeight||0,s=r.useMaxWidth||false,a=r.fontFamily||null,l=r.debug||false,f=r.debugElements||false,u=r.usedFonts||null,d=r.usedFontsMaxWait||4e3,c=r.fontsLoadedGlobal,h={},p={loadedFonts\:null,resizeCallbacks\:[]},y=function e(t,n){return n=="width"?t.scrollWidth>t.clientWidth\:n=="width&height"?t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth\:t.scrollHeight>t.clientHeight},m=function e(params,t){var n=params.element;var i=params.id;var r=params.size;var l=params.base;var f=params.nobreak;var u=params.padding;var d=params.customFontFix||o;var c=params.extraLineHeight||A;var p=params.fontFamily||a;var m=params.useMaxWidth||s;var v=params.usePointerEvents||false;var g=typeof params.verticalCenter!=="undefined"?params.verticalCenter\:true;var w=params.alignment||"center";var b={w\:params.maxDims&&params.maxDims.w?params.maxDims.w\:params.maxRect?params.maxRect.getBoundingClientRect().width\:null,h\:params.maxDims&&params.maxDims.h?params.maxDims.h\:params.maxRect?params.maxRect.getBoundingClientRect().height\:null};var x=r;var C=300;var B=0;var E=null;var F=null;var R=null;var S=false;if(n!==undefined){resetPositioner(n,u,t);saveBaseValues(n,p);setTempValues(n);setBaseFont(n,r,c,m,p,t);if(b.w){n.style.width=b.w+"px"}if(b.h){n.style.height=b.h+"px"}n.style.whiteSpace=f?"nowrap"\:"";n.style.textAlign=w;if(u){E=n.cloneNode(true);E.style.visibility="hidden";F=u.width?Math.round(u.width/n.clientWidth*100)/100\:0;R=u.height?Math.round(u.height/n.clientHeight*100)/100\:0;n.parentNode.appendChild(E);E.style.width=Math.floor(E.getBoundingClientRect().width-E.getBoundingClientRect().width*F)+"px";E.style.height=Math.floor(E.getBoundingClientRect().height-E.getBoundingClientRect().height*R)+"px"}while(y(E?E\:n,l)&&B<C){if(m&&(E?E.getBoundingClientRect().width\:n.getBoundingClientRect().width)<(E?m-m*F\:m)){if(E){E.style.width=E.getBoundingClientRect().width+1+"px"}else{n.style.width=n.getBoundingClientRect().width+1+"px"}}else if(m&&(E?E.getBoundingClientRect().width\:n.getBoundingClientRect().width)>(E?m-m*F\:m)){if(E){E.style.width=E.getBoundingClientRect().width-1+"px"}else{n.style.width=n.getBoundingClientRect().width-1+"px"}}else{x--}B++;if(E){E.style.fontSize=x+"px";E.style.lineHeight=x+c+"px"}n.style.fontSize=x+"px";n.style.lineHeight=x+c+"px"}if(E){if(m){n.style.width=parseInt(E.style.width)+parseInt(E.style.width)*F+"px"}E.remove()}createPositioner(n,u,x,d,t,v,g);setBaseValues(n,h)}else{if(t){if(i){console.warn("Warning! Element is undefined\: ",i)}else{console.warn("Warning! Element is undefined, please declare element id string in retexter id parameter")}}}},v=function e(params){var t=l;var n=f;if(p.loadedFonts!==u.length){if(t){console.log("stashed resize call")}p.resizeCallbacks.push(params)}else{if(n){console.log("resized element\: ",params.element)}m(params,t)}},g=function e(t,n,r){var r=l;var o;var A;o=setTimeout((function(){A=true;p.resizeCallbacks.forEach((function(e){if(c){c()}v(e)}));if(r){console.log("Font load max time exceeded, proceed resize without waiting for font load...")}}),n);t.forEach((function(e){var n=new i;n.fontFamily=e;n.src=n.fontFamily;n.onload=function(){p.loadedFonts++;if(r){console.log(p.loadedFonts+"/"+t.length+" fonts loaded","Loaded\: ",e)}if(p.loadedFonts===t.length){if(p.resizeCallbacks.length>0){if(A)return;clearTimeout(o);if(c){c()}p.resizeCallbacks.forEach((function(e){v(e)}));if(r){console.log("Resized "+p.resizeCallbacks.length+" stashed resize call(s)")}}else{if(A)return;clearTimeout(o);if(c){c()}}}};n.onerror=function(t){console.log("font error\: ",e)}}))};setBaseFont=function t(n,i,r,o){n.style.fontSize=i+"px";n.style.lineHeight=i+r+"px";if(o){var A=e.getComputedStyle(n,null);if(parseInt(A.width)>=o){console.warn(\\'Warning! Either element is using width "auto" or it has a width wider than set in the useMaxWidth property. Setting width to useMaxWidth subtracted by 30%\\',n);n.style.width=o*.7+"px"}}},saveBaseValues=function t(n){var i=e.getComputedStyle(n,null);h.fontFamily=i.fontFamily;h.display=i.display},setTempValues=function e(t){t.style.display="block"},setBaseValues=function e(t,n){t.style.fontFamily=n.fontFamily;t.style.display=n.display},resetPositioner=function e(t,n,i){t.style.visibility="hidden";t.style.whiteSpace="";t.style.paddingTop="";t.style.boxSizing=""},createPositioner=function e(n,i,r,o,A,s,a){var l=t.createElement("div");l.className="p2273620675-positioner";l.style.pointerEvents=s?""\:"none";var f;var u=n.style.height;l.innerHTML=n.innerHTML;n.innerHTML="";n.appendChild(l);l.style.display="block";l.style.visibility="visible";l.style.height="auto";f=Math.floor(l.clientHeight/r);n.style.boxSizing="border-box";l.style.padding="0px";a?n.style.paddingTop=Math.floor(n.clientHeight/2-l.clientHeight/2)+"px"\:null;n.style.visibility="visible";l.style.visibility="visible"},polyfillRemoveElm=function e(){(function(e){e.forEach((function(e){if(e.hasOwnProperty("remove")){return}Object.defineProperty(e,"remove",{configurable\:true,enumerable\:true,writable\:true,value\:function e(){if(this.parentNode!==null)this.parentNode.removeChild(this)}})}))})([Element.prototype,CharacterData.prototype,DocumentType.prototype])};(function(){g(u,d,l);polyfillRemoveElm()})();return{resize\:v}};return n}(window,document)},{"./lib/font-js"\:2}]},{},[1]); var p2273620675AdObject=function(){params= /**<AdInitParams>**/{"bloc"\:["media","style","options"],"bannerData"\:{"elements"\:{"date"\:{"property"\:{"color"\:"#f59b0b","bold"\:false,"italic"\:false}},"images"\:{"background"\:{"useImage"\:true,"color"\:"#ffffff","url"\:"https\://mds.pliing.com/sync/tipsport/fotball_back.jpg"}},"adarea"\:{"property"\:{"color"\:"#000000","thickness"\:0}},"team1"\:{"property"\:{"color"\:"#fff","bold"\:false,"italic"\:false}},"team2"\:{"property"\:{"color"\:"#fff"}},"odds"\:{"property"\:{"color"\:"#fff","bold"\:false,"italic"\:false}},"oddsbox"\:{"property"\:{"color"\:"#fff","bold"\:false,"italic"\:false}},"vs"\:{"property"\:{"color"\:"#fff"}},"oddsinfo"\:{"property"\:{"color"\:"#fff","bold"\:false,"italic"\:false}},"tc"\:{"property"\:{"color"\:"#fff","bold"\:false,"text"\:"Ministerstvo financ\u00ed varuje\: \u00da\u010dast\u00ed na hazardn\u00ed h\u0159e m\u016f\u017ee vzniknout z\u00e1vislost!","italic"\:false}}},"behavior"\:{"utmElem"\:{"value"\:{"kwid"\:"","pid"\:"41","bid"\:"12814","tid"\:"6765","sid"\:"41"}},"bannerBehaviour"\:{"bannerOptions"\:{"autoRotation"\:false}},"fallback"\:{"options"\:{"url"\:"https\://www.tipsport.cz/"}},"dimension"\:{"dimension"\:{"width"\:"300","adShape"\:"vertical","height"\:"600"}},"tracking"\:{"impression"\:{"url"\:""}}}}}/**</AdInitParams>**/;var e=null,a={adSize\:params.bannerData.behavior.dimension.dimension,autoRotate\:params.bannerData.behavior.bannerBehaviour.bannerOptions.autoRotation,fontSize\:{"300x600"\:[35,12],"480x480"\:[30,11],"420x105"\:[18,8.5],"300x250"\:[16,11]},wrapperSize\:{"300x600"\:[300,400],"480x480"\:[480,400],"420x105"\:[420,90],"300x250"\:[300,250]},arrowsSize\:{"300x600"\:[30,30],"480x480"\:[50,50],"420x105"\:[30,30],"300x250"\:[30,30]},fallbackurl\:params.bannerData.behavior.fallback.options.url,static_active\:false},t,i=false,o,n,r=0,s=[],l=null,d=new Retexter({customFontFix\:5,extraLineHeight\:0,usedFonts\:["DaxlinePro-Black","DaxlinePro-Regular","DaxlinePro-Thin","DaxlinePro","DaxlinePro-Black-Italic"],debug\:false,debugElements\:false,fontsLoadedGlobal\:function e(){function a(){s.length>0?v(0)\:setTimeout((function(){a()}),10)}a()}}),p=function e(a){return document.getElementById(a)},c=function e(params){var a=params.onsuccess,t=params.onerror,i=null,o=function e(a){var t=document.createElement("script");t.type="text/javascript";t.src=a;document.getElementsByTagName("head")[0].appendChild(t)},n=function e(){if(typeof adsscore_track!="undefined"){var a=adsscore_track["p2273620675".replace("p","")].getAdData();var t="https\://"+a.loc+"/PliingAd2/AdService?id="+a.id+"&userAdId="+a.userad+"&para="+a.origin+"&callback=p2273620675AdObject.serviceResponse";o(t)}else{if(typeof window.feedData!="undefined"){i=window.feedData;r(i)}else{i=p2273620675MockData;void 0;r(i)}}},r=function e(i){if(i.retData&&i.retData.objects&&i.retData.objects.length>0){if(i.retData!=="error"){var o=i.retData;if(typeof p2273620675_feed_lib!="undefined"){p2273620675_feed_lib.run(o,a)}else{a(o)}}}else{t()}};(function(){n()})();return{request\:n,response\:r}},m=function a(){e=new c({onsuccess\:function e(a){t=a.feed_id;o=a.categoryResource;n=a.groupResource;u(a.objects);D()},onerror\:function e(){void 0;E()}})},f=function e(a,t,i,o){i=typeof i!=="undefined"?i\:null;o=typeof o!=="undefined"?o\:null;if(i===null){if(a){if(t){return"font-family\: DaxlinePro-Black-Italic;"}else{return"font-style\: italic; font-family\: DaxlinePro;"}}else{if(t){return"font-family\: DaxlinePro-Black;"}else{return"font-family\: DaxlinePro;"}}}else{if(i.length>0){for(var n=0;n<i.length;n++){i[n].style.fontStyle=null}}else{i.style.fontStyle=null}if(a){if(t){if(i.length>0){for(var n=0;n<i.length;n++){i[n].style.fontFamily="DaxlinePro-Black-Italic"}}else{i.style.fontFamily="DaxlinePro-Black-Italic"}}else{if(i.length>0){for(var n=0;n<i.length;n++){i[n].style.fontFamily=o==="thin"?"DaxlinePro-Thin"\:o==="regular"?"DaxlinePro-Regular"\:"DaxlinePro";i[n].style.fontStyle="italic"}}else{i.style.fontFamily=o==="thin"?"DaxlinePro-Thin"\:o==="regular"?"DaxlinePro-Regular"\:"DaxlinePro";i.style.fontStyle="italic"}}}else{if(t){if(i.length>0){for(var n=0;n<i.length;n++){i[n].style.fontFamily="DaxlinePro-Black"}}else{i.style.fontFamily="DaxlinePro-Black"}}else{if(i.length>0){for(var n=0;n<i.length;n++){i[n].style.fontFamily=o==="thin"?"DaxlinePro-Thin"\:o==="regular"?"DaxlinePro-Regular"\:"DaxlinePro"}}else{i.style.fontFamily=o==="thin"?"DaxlinePro-Thin"\:o==="regular"?"DaxlinePro-Regular"\:"DaxlinePro"}}}}},h=function e(a,t){var i={};var o=a.filter((function(e){if(typeof e[t]!=="undefined"&&i[e[t]]){return false}i[e[t]]=true;return true}));return o},u=function e(t){void 0;void 0;var i=h(t,"id");var o=new Date;s=i;var n=i,r;r=n.map((function(e,t){var i="";var n="p2273620675-league p2273620675-league-"+a.adSize.width+"x"+a.adSize.height;var r="p2273620675-date p2273620675-date-"+a.adSize.width+"x"+a.adSize.height;if(e.json.live){n=n+" p2273620675-league-"+a.adSize.width+"x"+a.adSize.height+"-live";r=r+" p2273620675-date-"+a.adSize.width+"x"+a.adSize.height+"-live";var s="102";var l="0";if(a.adSize.width=="480"){s="190"}else if(a.adSize.width=="420"){s="48"}i=\\'<div class="p2273620675-live-image p2273620675-live-image-\\'+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-live-image-\\'+t+\\'"></div>\\'+\\'<div class="p2273620675-live-image-outer p2273620675-live-pulse p2273620675-live-image-outer-\\'+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-live-image-outer-\\'+t+\\'"></div>\\'+\\'<span style="right\:\\'+s+"px; top\:"+l+\\'px;position\:absolute;">LIVE</span>\\';if(a.adSize.width=="300"&&a.adSize.height=="250"){i=\\'<div class="p2273620675-live-image-outer p2273620675-live-pulse p2273620675-live-image-outer-\\'+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-live-image-outer-\\'+t+\\'">\\'+\\'<div class="p2273620675-live-image p2273620675-live-image-\\'+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-live-image-\\'+t+\\'"></div>\\'+"</div>"+\\'<span class="p2273620675-live-text">LIVE</span>\\'}}else{var d=g(e.json.datetime);var p=new Date(e.json.datetime);if(o.getDate()===p.getDate()&&o.getMonth()===p.getMonth()&&o.getFullYear()===p.getFullYear()){i="Dnes "+d.time.hour+"\:"+d.time.minutes}else{i="<span style=\\'font-family\: DaxlinePro-Thin;font-weight\:bold;\\'> | </span>"+d.time.hour+"\:"+d.time.minutes+"<span style=\\'font-family\: DaxlinePro-Thin;font-weight\:bold;\\'> | </span>"+d.day+"."+d.month}}var c="no-icon";var m=y(e.json);if(m.useIcons){c="icon"}var h=[];if(a.adSize.width=="420"){var u=e.json.team1+" VS "+e.json.team2;h.push(\\'<div class="p2273620675-team1 p2273620675-team1-\\'+a.adSize.width+"x"+a.adSize.height+" p2273620675-team1-"+c+" p2273620675-team1-"+c+"-"+a.adSize.width+"x"+a.adSize.height+\\'"  id="p2273620675-team1-\\'+t+\\'" style="color\:\\'+params.bannerData.elements.team1.property.color+";"+f(params.bannerData.elements.team1.property.italic,params.bannerData.elements.team1.property.bold)+\\'">\\'+u+"</div>")}else{h.push(\\'<div class="p2273620675-team1 p2273620675-team1-\\'+a.adSize.width+"x"+a.adSize.height+" p2273620675-team1-"+c+" p2273620675-team1-"+c+"-"+a.adSize.width+"x"+a.adSize.height+\\'"  id="p2273620675-team1-\\'+t+\\'" style="color\:\\'+params.bannerData.elements.team1.property.color+";"+f(params.bannerData.elements.team1.property.italic,params.bannerData.elements.team1.property.bold)+\\'">\\'+e.json.team1+"</div>",\\'<div class="p2273620675-vs p2273620675-vs-\\'+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-vs-\\'+t+\\'" style="color\:\\'+params.bannerData.elements.vs.property.color+";"+f(params.bannerData.elements.team1.property.italic,params.bannerData.elements.team1.property.bold)+\\'">VS</div>\\',\\'<div class="p2273620675-team2 p2273620675-team2-\\'+a.adSize.width+"x"+a.adSize.height+" p2273620675-team1-"+c+" p2273620675-team2-"+c+"-"+a.adSize.width+"x"+a.adSize.height+\\'"  id="p2273620675-team2-\\'+t+\\'" style="color\:\\'+params.bannerData.elements.team2.property.color+";"+f(params.bannerData.elements.team1.property.italic,params.bannerData.elements.team1.property.bold)+\\'">\\'+e.json.team2+"</div>")}if((a.adSize.width=="420"||a.adSize.height=="250")&&!e.json.live){var b=e.json.league+" "+i;void 0;h.push(\\'<div class="\\'+n+\\'" id="p2273620675-league-\\'+t+\\'"\\'+\\'style="color\:\\'+params.bannerData.elements.date.property.color+";"+f(params.bannerData.elements.date.property.italic,params.bannerData.elements.date.property.bold)+\\'">\\'+b+"</div>")}else if(a.adSize.width=="300"&&a.adSize.height=="250"){var b=e.json.league+" "+i;h.push(\\'<div class="\\'+n+\\'" id="p2273620675-league-\\'+t+\\'"\\'+\\'style="color\:\\'+params.bannerData.elements.date.property.color+";"+f(params.bannerData.elements.date.property.italic,params.bannerData.elements.date.property.bold)+\\'">\\'+b+"</div>")}else{h.push(\\'<div class="\\'+r+\\'"\\'+\\'style="color\:\\'+params.bannerData.elements.date.property.color+";"+f(params.bannerData.elements.date.property.italic,params.bannerData.elements.date.property.bold)+\\'">\\'+i+"</div>",\\'<div class="\\'+n+\\'" id="p2273620675-league-\\'+t+\\'"\\'+\\'style="color\:\\'+params.bannerData.elements.date.property.color+";"+f(params.bannerData.elements.date.property.italic,params.bannerData.elements.date.property.bold)+\\'">\\'+e.json.league+"</div>")}h.push(\\'<div class="p2273620675-odds-box p2273620675-odds-box-1-\\'+a.adSize.width+"x"+a.adSize.height+" p2273620675-odds-box-"+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-odds-box-1-\\'+t+\\'"\\'+\\'style="color\:\\'+params.bannerData.elements.oddsbox.property.color+";"+f(params.bannerData.elements.oddsbox.property.italic,params.bannerData.elements.oddsbox.property.bold)+\\'">\\'+(e.json.odds1===1&&e.json.live||typeof e.json.odds1=="undefined"?"-"\:e.json.odds1)+"</div>",\\'<div class="p2273620675-odds-box p2273620675-odds-box-X-\\'+a.adSize.width+"x"+a.adSize.height+" p2273620675-odds-box-"+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-odds-box-X-\\'+t+\\'"\\'+\\'style="color\:\\'+params.bannerData.elements.oddsbox.property.color+";"+f(params.bannerData.elements.oddsbox.property.italic,params.bannerData.elements.oddsbox.property.bold)+\\'">\\'+(!isNaN(parseFloat(e.json.oddsX,10))?e.json.oddsX\:"-")+"</div>",\\'<div class="p2273620675-odds-box p2273620675-odds-box-2-\\'+a.adSize.width+"x"+a.adSize.height+" p2273620675-odds-box-"+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-odds-box-2-\\'+t+\\'"\\'+\\'style="color\:\\'+params.bannerData.elements.oddsbox.property.color+";"+f(params.bannerData.elements.oddsbox.property.italic,params.bannerData.elements.oddsbox.property.bold)+\\'">\\'+(e.json.odds2===1&&e.json.live||typeof e.json.odds2=="undefined"?"-"\:e.json.odds2)+"</div>",\\'<hr id="p2273620675-hr" class="p2273620675-hr-\\'+a.adSize.width+"x"+a.adSize.height+\\'">\\');if(m.useIcons){h.push(\\'<div class="p2273620675-icon1 p2273620675-icon1-\\'+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-icon1-\\'+t+\\'" style="background-image\: url(\\'+m.team1+\\');"></div>\\',\\'<div class="p2273620675-icon2 p2273620675-icon2-\\'+a.adSize.width+"x"+a.adSize.height+\\'" id="p2273620675-icon2-\\'+t+\\'" style="background-image\: url(\\'+m.team2+\\');"></div>\\')}return\\'<div id="p2273620675-product-\\'+t+\\'">\\'+h.join("")+"</div>"}));K(r);if(typeof adsscore_track!=="undefined"){if(adsscore_track["p2273620675".replace("p","")].isInview()){S()}else{adsscore_track["p2273620675".replace("p","")].setInViewCallBack(S)}}else{S()}},g=function e(a){var t=a.split(/\\\\/| /);var i=t[0];var o=t[1];var n=t[2];var r=t[3].split("\:");var s=r[0];var l=r[1];var d=r[2];return{year\:i,month\:o,day\:n,time\:{hour\:s,minutes\:l,seconds\:d}}},y=function e(a){team1=typeof a.homeCatalogResource!=="undefined"&&typeof a.homeCatalogResource.logo!=="undefined"&&a.homeCatalogResource.logo!==""?a.homeCatalogResource.logo\:null;team2=typeof a.awayCatalogResource!=="undefined"&&typeof a.awayCatalogResource.logo!=="undefined"&&a.awayCatalogResource.logo!==""?a.awayCatalogResource.logo\:null;return{team1\:team1,team2\:team2,useIcons\:team1!==null&&team2!==null}},b=function e(){var t={w\:a.adSize.width,h\:a.adSize.height},i=p("p2273620675-ad-container"),o=p("p2273620675-scale-container"),n=i.parentNode.parentNode.offsetWidth/t.w;i.style.width=t.w*n+"px";i.style.height=t.h*n+"px";o.style.webkitTransform="scale("+n+", "+n+")";o.style.mozTransform="scale("+n+", "+n+")";o.style.transform="scale("+n+", "+n+")";o.style.top=Math.floor(t.h/2*n)-t.h/2+"px";o.style.left=Math.floor(t.w/2*n)-t.w/2+"px"},v=function e(t){var i=[{elm\:p("p2273620675-team1-"+t),size\:a.fontSize[a.adSize.width+"x"+a.adSize.height][0]},{elm\:p("p2273620675-team2-"+t),size\:a.fontSize[a.adSize.width+"x"+a.adSize.height][0]},{elm\:p("p2273620675-tc"),size\:a.fontSize[a.adSize.width+"x"+a.adSize.height][1]}];if(s.length===1){var o=document.querySelectorAll(".p2273620675-team1");for(var n=0;n<o.length;n++){i.push({elm\:o[n],size\:a.fontSize[a.adSize.width+"x"+a.adSize.height][0]})}var o=document.querySelectorAll(".p2273620675-team2");for(var n=0;n<o.length;n++){i.push({elm\:o[n],size\:a.fontSize[a.adSize.width+"x"+a.adSize.height][0]})}}i.forEach((function(e){if(e.elm!=null){d.resize({element\:e.elm,size\:e.size,base\:"width&height",verticalCenter\:false,alignment\:"center",nobreak\:false})}}));if(p("p2273620675-team2-"+t)!=null){if(a.adSize.width!="300"&&a.adSize.height!="250"){var r=parseInt(p("p2273620675-team1-"+t).style.fontSize);var l=parseInt(p("p2273620675-team2-"+t).style.fontSize);var c=r<=22||l<=22?"22px"\:r<l?p("p2273620675-team1-"+t).style.fontSize\:p("p2273620675-team2-"+t).style.fontSize;p("p2273620675-team1-"+t).style.fontSize=c;p("p2273620675-team2-"+t).style.fontSize=c;p("p2273620675-team1-"+t).style.lineHeight=c;p("p2273620675-team2-"+t).style.lineHeight=c}}},R=function e(){p("p2273620675-ad-container").addEventListener("click",(function(e){if(e.target.id=="p2273620675-arrow-right"||e.target.id=="p2273620675-arrow-left"){return}var t=e.target.className.split(" ");if(e.target.classList.contains("p2273620675-odds-box")){for(var o=0;o<t.length;o++){if(t[o].indexOf("-1")>-1){x("1")}else if(t[o].indexOf("-X")>-1){x("X")}else if(t[o].indexOf("-2")>-1){x("2")}}return}if(!i){x(null)}else{void 0;var n={};n.param="&p1="+encodeURIComponent(a.fallbackurl);z("Click_Fallback_Link",n)}}));if(a.adSize.width=="480"){b();window.addEventListener("orientationchange",b,false);window.addEventListener("resize",b,false)}},F=function e(a){if(!!!a||a==""){return}var t=new Image;var i=Math.floor(Math.random()*999999999);var o=/(\\\\[timestamp\\\\]|\\\\[cachebuster\\\\]|\\\\%\\\\%timestamp\\\\%\\\\%|\\\\%\\\\%cachebuster\\\\%\\\\%)/i;var n=a.match(o)!==null?a.match(o)[0]\:null;t.src=!!n?a.replace(n,i)\:a},S=function e(){var a={};a.non_engage=1;a.param=encodeURIComponent(\\'{ "feed_entity"\:"\\'+t+\\'", "feed_object"\: "\\'+s[r].id+\\'", "feed_type"\: "Generic"}\\');void 0;z("Viewed_Objects",a)},z=function e(a,params){var t={};if(params){t=params}if(typeof adsscore_track!=="undefined"){if(typeof mraid!=="undefined"){adsscore_track["p2273620675".replace("p","")].AdssSendEventMraid(a,t)}else{adsscore_track["p2273620675".replace("p","")].AdssSendEvent(a,t)}}else{void 0}},x=function e(a){var i="https\://www.tipsport.cz/CreateTicketFromParametersAction.do?";var o={};var n=\\'{ "feed_entity"\:"\\'+t+\\'", "feed_object"\: "\\'+s[r].id+\\'", "feed_type"\: "Generic"}\\';var l;if(!s[r].json.live){if(a!==null){i=i+"bets=AKU+"+s[r].json.eventIdForDeepLink+","+s[r].json["odds"+a+"id"]+"&matchId="+s[r].json.id+"&amount=150"}else{i=i+"matchId="+s[r].json.id}}else{void 0;i=s[r].deepLink}var d=i;var p="";var c=params.bannerData.behavior.utmElem.value.pid;if(d.indexOf("pid")>-1){d=d.replace(/(pid=).*?(&|[/]|$)/,"$1"+c+"$2")}else{p="&pid="+c}var m=params.bannerData.behavior.utmElem.value.sid;if(d.indexOf("sid")>-1){d=d.replace(/(sid=).*?(&|[/]|$)/,"$1"+m+"$2")}else{p=p+"&sid="+m}var f=params.bannerData.behavior.utmElem.value.tid;if(d.indexOf("tid")>-1){d=d.replace(/(tid=).*?(&|[/]|$)/,"$1"+f+"$2")}else{p=p+"&tid="+f}var h=params.bannerData.behavior.utmElem.value.bid;if(d.indexOf("bid")>-1){d=d.replace(/(bid=).*?(&|[/]|$)/,"$1"+h+"$2")}else{p=p+"&bid="+h}var u=params.bannerData.behavior.utmElem.value.kwid;if(d.indexOf("kwid")>-1){d=d.replace(/(kwid=).*?(&|[/]|$)/,"$1"+u+"$2")}else{p=p+"&kwid="+u}p=p.replace(/(?\:^|&)[a-zA-z]+=(?=&|$)/g,"");if(p!=""){p=p.replace("&","");var g=d.split("?");var y="";g[0]=g[0]+"?"+p;g.forEach((function(e,a){if(a==0)y=e;else y=y+"&"+e}));d=y}o.param=encodeURIComponent(n)+"&p1="+encodeURIComponent(d);if(typeof adsscore_track!=="undefined"){if(typeof mraid!=="undefined"){adsscore_track["p2273620675".replace("p","")].AdssSendEventMraid("Click_Image_Link",o)}else{adsscore_track["p2273620675".replace("p","")].AdssSendEvent("Click_Image_Link",o)}}else{}},K=function e(t){var i=a.wrapperSize[a.adSize.width+"x"+a.adSize.height]?a.wrapperSize[a.adSize.width+"x"+a.adSize.height]\:[a.adSize.width,a.adSize.height];var o=a.arrowsSize[a.adSize.width+"x"+a.adSize.height]?a.arrowsSize[a.adSize.width+"x"+a.adSize.height]\:[a.adSize.width,a.adSize.height];var n=new Carousel({parent\:p("p2273620675-wrap-carousel"),visible\:1,faces\:t,vertical\:false,width\:i[0]+"px",height\:i[1]+"px",debug\:false,interaction\:{arrows\:{positions\:[{left\:"5px"},{right\:"5px"}],dims\:{width\:o[0]+"px",height\:o[1]+"px"},opacity\:"0.8",black\:false,color\:"white",colorInside\:"rgba(0,0,0,0.0)"}},animations\:{type\:"slide",transitions\:500,delay\:200,autorotate\:a.autoRotate,initialrotate\:{use\:false,delay\:2e3,dirForward\:true},forward\:false,hoverfx\:false},callbacks\:{faceRendered\:function e(t,i){a.static_active=!!i.html.getElementsByClassName("static")[0];if(n){r=n.getCurrentFace().id;if(typeof adsscore_track!=="undefined"){if(adsscore_track["p2273620675".replace("p","")].isInview()){S()}}else{S()}v(r);w();var o=document.querySelectorAll(".p2273620675-vs, .p2273620675-team1, .p2273620675-team2");for(var s=0;s<o.length;s++){o[s].style.color=params.bannerData.elements.team1.property.color;f(params.bannerData.elements.team1.property.italic,params.bannerData.elements.team1.property.bold,o[s])}var o=document.querySelectorAll(".p2273620675-league, .p2273620675-date");for(var s=0;s<o.length;s++){o[s].style.color=params.bannerData.elements.date.property.color;f(params.bannerData.elements.date.property.italic,params.bannerData.elements.date.property.bold,o[s])}var o=document.querySelectorAll(".p2273620675-odds-box");for(var s=0;s<o.length;s++){o[s].style.color=params.bannerData.elements.oddsbox.property.color;f(params.bannerData.elements.oddsbox.property.italic,params.bannerData.elements.oddsbox.property.bold,o[s])}k(r)}},swiped\:function e(a,t){var i=a=="bkw"?"Left"\:"Right";z("Swipe_"+i)},interacted\:function e(){},initialRotationFinished\:function e(){},elementCreated\:function e(t){if(s.length<=1){t.style.display="none"}else{t.className=t.id+"-"+a.adSize.width+"x"+a.adSize.height}}}})},Z=function e(){p("p2273620675-ad-container").className="p2273620675-ad-container-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-scale-container").className="p2273620675-scale-container-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-logo").className="p2273620675-logo-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-wrap-carousel").className="p2273620675-wrap-carousel-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-tc-image").className="p2273620675-tc-image-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-tc").className="p2273620675-tc-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-odds-info-1").className+=" p2273620675-odds-info-1-"+a.adSize.width+"x"+a.adSize.height+" "+"p2273620675-odds-info-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-odds-1").className+=" p2273620675-odds-1-"+a.adSize.width+"x"+a.adSize.height+" "+"p2273620675-odds-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-odds-info-X").className+=" p2273620675-odds-info-X-"+a.adSize.width+"x"+a.adSize.height+" "+"p2273620675-odds-info-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-odds-X").className+=" p2273620675-odds-X-"+a.adSize.width+"x"+a.adSize.height+" "+"p2273620675-odds-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-odds-info-2").className+=" p2273620675-odds-info-2-"+a.adSize.width+"x"+a.adSize.height+" "+"p2273620675-odds-info-"+a.adSize.width+"x"+a.adSize.height;p("p2273620675-odds-2").className+=" p2273620675-odds-2-"+a.adSize.width+"x"+a.adSize.height+" "+"p2273620675-odds-"+a.adSize.width+"x"+a.adSize.height},w=function e(){if(params.bannerData.elements.images.background.useImage){var t=params.bannerData.elements.images.background.url;if(a.adSize.width=="420"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/default420x105.jpg"}else if(a.adSize.width=="480"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/default480x480.jpg"}else if(a.adSize.width=="300"&&a.adSize.height=="250"){t="https\://mds.pliing.com/res/2020/03-12/tipsport/default300x250"}else{t="https\://mds.pliing.com/res/2019/09-06/Tipsport/default300x600.jpg"}void 0;void 0;if(s[r].json.sport==="Ledn\u00ed hokej"||s[r].json.sport==="Icehockey"){if(a.adSize.width=="420"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/hockey420x105.jpg"}else if(a.adSize.width=="480"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/hockey480x480.jpg"}else if(a.adSize.width=="300"&&a.adSize.height=="250"){t="https\://mds.pliing.com/res/2020/03-12/tipsport/hockey%20300x250.jpg"}else{t="https\://mds.pliing.com/sync/tipsport/icehockey_back.jpg"}}if(s[r].json.sport==="Tenis"||s[r].json.sport==="Tennis"){if(a.adSize.width=="420"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/tennis420x105.jpg"}else if(a.adSize.width=="480"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/tennis480x480.jpg"}else if(a.adSize.width=="300"&&a.adSize.height=="250"){t="https\://mds.pliing.com/res/2020/03-12/tipsport/tennis%20300x250.jpg"}else{t="https\://mds.pliing.com/sync/tipsport/tenis_back.jpg"}}if(s[r].json.sport==="Basketball"||s[r].json.sport==="Basketbal"){if(a.adSize.width=="420"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/basketball420x105.jpg"}else if(a.adSize.width=="480"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/basketball480x480.jpg"}else if(a.adSize.width=="300"&&a.adSize.height=="250"){t="https\://mds.pliing.com/res/2020/03-12/tipsport/basketball%20300x250.jpg"}else{t="https\://mds.pliing.com/res/2019/09-06/Tipsport/basketball300x600.jpg"}}if(s[r].json.sport==="Fotbal"){if(a.adSize.width=="420"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/football420x105.jpg"}else if(a.adSize.width=="480"){t="https\://mds.pliing.com/res/2019/09-06/Tipsport/football480x480.jpg"}else if(a.adSize.width=="300"&&a.adSize.height=="250"){t="https\://mds.pliing.com/res/2020/03-12/tipsport/football%20300x250.jpg"}else{t="https\://mds.pliing.com/sync/tipsport/fotball_back.jpg"}}if(typeof n[s[r].json.league]!="undefined"&&typeof n[s[r].json.league].background!="undefined"){t=n[s[r].json.league].background}else if(typeof o[s[r].json.sport]!="undefined"&&typeof o[s[r].json.sport].background!="undefined"){t=o[s[r].json.sport].background}p("p2273620675-ad-container").style.backgroundSize="100%";p("p2273620675-ad-container").style.backgroundPosition="center";p("p2273620675-ad-container").style.backgroundImage="url("+t+")"}else{p("p2273620675-ad-container").style.backgroundImage=""}p("p2273620675-ad-container").style.backgroundColor=params.bannerData.elements.images.background.color},D=function e(){var t=document.querySelectorAll(".p2273620675-vs, .p2273620675-team1, .p2273620675-team2");for(var i=0;i<t.length;i++){t[i].style.color=params.bannerData.elements.team1.property.color;f(params.bannerData.elements.team1.property.italic,params.bannerData.elements.team1.property.bold,t[i])}var t=document.querySelectorAll(".p2273620675-league, .p2273620675-date");for(var i=0;i<t.length;i++){t[i].style.color=params.bannerData.elements.date.property.color;f(params.bannerData.elements.date.property.italic,params.bannerData.elements.date.property.bold,t[i])}var t=document.querySelectorAll(".p2273620675-odds-box");for(var i=0;i<t.length;i++){t[i].style.color=params.bannerData.elements.oddsbox.property.color;f(params.bannerData.elements.oddsbox.property.italic,params.bannerData.elements.oddsbox.property.bold,t[i])}k(r);p("p2273620675-tc").style.color=params.bannerData.elements.tc.property.color;p("p2273620675-tc").innerHTML=params.bannerData.elements.tc.property.text;f(params.bannerData.elements.tc.property.italic,params.bannerData.elements.tc.property.bold,p("p2273620675-tc"),"thin");var t=document.querySelectorAll(".p2273620675-odds-info, .p2273620675-odds");for(var i=0;i<t.length;i++){t[i].style.color=params.bannerData.elements.oddsinfo.property.color}f(params.bannerData.elements.oddsinfo.property.italic,params.bannerData.elements.oddsinfo.property.bold,document.getElementsByClassName("p2273620675-odds-info"),"regular");f(params.bannerData.elements.oddsinfo.property.italic,params.bannerData.elements.oddsinfo.property.bold,document.getElementsByClassName("p2273620675-odds"),"regular");var t=document.querySelectorAll(".p2273620675-date");for(var i=0;i<t.length;i++){t[i].style.color=params.bannerData.elements.date.property.color}w();p("p2273620675-ad-container").style.border=params.bannerData.elements.adarea.property.thickness+"px solid "+params.bannerData.elements.adarea.property.color;if(a.adSize.width!=="480"){p("p2273620675-scale-container").style.top="-"+params.bannerData.elements.adarea.property.thickness+"px";p("p2273620675-scale-container").style.left="-"+params.bannerData.elements.adarea.property.thickness+"px"}j()},k=function e(t){p("p2273620675-odds-box-X-"+t).style.display=null;document.getElementsByClassName("p2273620675-odds-info-X")[0].style.display=null;document.getElementsByClassName("p2273620675-odds-X")[0].style.display=null;p("p2273620675-odds-box-1-"+t).style.left=null;p("p2273620675-odds-box-2-"+t).style.right=null;document.getElementsByClassName("p2273620675-odds-info-1")[0].style.left=null;document.getElementsByClassName("p2273620675-odds-1")[0].style.left=null;document.getElementsByClassName("p2273620675-odds-info-2")[0].style.right=null;document.getElementsByClassName("p2273620675-odds-2")[0].style.right=null;if(typeof s[t].json.oddsX=="undefined"){var i=document.querySelectorAll("#p2273620675-odds-box-1-"+t);var o=document.querySelectorAll("#p2273620675-odds-box-X-"+t);var n=document.querySelectorAll("#p2273620675-odds-box-2-"+t);var r=60;if(a.adSize.width=="480"){r=140}else if(a.adSize.width=="420"){r=130}i.forEach((function(e,a){e.style.left=r+"px"}));o.forEach((function(e,a){e.style.display="none"}));n.forEach((function(e,a){e.style.right=r+"px"}));document.getElementsByClassName("p2273620675-odds-info-X")[0].style.display="none";document.getElementsByClassName("p2273620675-odds-X")[0].style.display="none";document.getElementsByClassName("p2273620675-odds-info-1")[0].style.left=r+"px";document.getElementsByClassName("p2273620675-odds-1")[0].style.left=r+"px";document.getElementsByClassName("p2273620675-odds-info-2")[0].style.right=r+"px";document.getElementsByClassName("p2273620675-odds-2")[0].style.right=r+"px"}},j=function e(){var t=a.wrapperSize[a.adSize.width+"x"+a.adSize.height]?a.wrapperSize[a.adSize.width+"x"+a.adSize.height]\:[a.adSize.width,a.adSize.height];p("p2273620675-wrap-carousel").style.width=parseInt(t[0])-params.bannerData.elements.adarea.property.thickness*2+"px";p("p2273620675-wrap-carousel").style.left=params.bannerData.elements.adarea.property.thickness+"px"},_=function e(){var t=typeof window.feedData!="undefined"||a.debug,i=function e(){if(window.bannerData){params=window.bannerData;o(params)}D()},o=function e(t){a.adSize=t.bannerData.behavior.dimension.dimension;a.fallbackUrl=t.bannerData.behavior.fallback.options.url};(function(){if(t){init()}})();return{update\:i}},E=function e(){p("p2273620675-fallback-container").style.width="100%";p("p2273620675-fallback-container").style.height="100%";p("p2273620675-fallback-container").style.backgroundSize="100%";p("p2273620675-fallback-container").style.backgroundPosition="center";if(a.adSize.width=="420"){p("p2273620675-fallback-container").style.backgroundImage="url(\\'https\://mds.pliing.com/sync/tipsport/fallback_420x105.jpg\\')"}else if(a.adSize.width=="480"){p("p2273620675-fallback-container").style.backgroundImage="url(\\'https\://mds.pliing.com/sync/tipsport/fallback_480x480.jpg\\')"}else if(a.adSize.width=="300"&&a.adSize.height=="250"){p("p2273620675-fallback-container").style.backgroundImage="url(\\'https\://mds.pliing.com/res/2020/03-12/tipsport/fallback_300x250.jpg\\')"}else{p("p2273620675-fallback-container").style.backgroundImage="url(\\'https\://mds.pliing.com/sync/tipsport/fallback_300x600.jpg\\')"}p("p2273620675-fallback-container").style.display="block";i=true},C=function e(){F(params.bannerData.behavior.tracking.impression.url);Z();m();R()};(function(){C();l=new _;window.p2273620675UpdateFunction=l.update})();return{serviceResponse\:function a(t){e.response(t)}}}();';\x0aadssCont.appendChild(adssScript);\x0aif( (adssCont.parentNode.getElementsByTagName("iframe")[0]!==undefined) && ("true"=="false")){adssCont.parentNode.getElementsByTagName("iframe")[0].style.display="none";}\x0a})();\x0a"	0.00033692793936251317
{HTMLIFrameElement}:"style"	0.00033339548136238013
{HTMLScriptElement}:"getAttribute"	0.0003322930267608823
%open:{XMLHttpRequest}="GET":"//d3.ru/static/cache/PPostList_1cff58aa21f6facd10bf\:ru.js"	0.0003295072159955114
?:{HTMLIFrameElement}="rufous-frame-235_-2"	0.0003235936245283609
%querySelectorAll:{HTMLDocument}="[data-modal="Habitation"] form, .module-devis form, form.form"	0.00031867589533776387
{HTMLParagraphElement}:"textContent"	0.00031701833372130126
?:{HTMLScriptElement}="https\://www.googletagmanager.com/gtm.js?id=GTM-P385NZ"	0.00031446596608773015
{NodeList}:"37"	0.00031078525839922574
%send:{XMLHttpRequest}="{"sensor_data"\:"7a74G7m23Vrp0o5c9191141.64-1,2,-94,-100,Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36,uaend,11891,20030107,en-US,Gecko,2,0,0,0,394088,5946811,1533,873,1600,900,0,0,1050,,cpen\:0,i1\:0,dm\:0,cwen\:0,non\:1,opc\:0,fc\:0,sc\:0,wrc\:1,isc\:0,vib\:1,bat\:1,x11\:0,x12\:1,7607,0.04979640724,800837973405,0,loc\:-1,2,-94,-101,do_en,dm_en,t_en-1,2,-94,-105,-1,2,-94,-102,-1,2,-94,-108,-1,2,-94,-110,-1,2,-94,-117,-1,2,-94,-111,-1,2,-94,-109,-1,2,-94,-114,-1,2,-94,-103,-1,2,-94,-112,https\://login.newscorpaustralia.com/authorize?client_id=AnudjFSZnp48OLKBaaB382z4LHeAfIS5&response_type=token%20id_token&scope=openid%20profile&audience=newscorpaustralia&redirect_uri=https%3A%2F%2Fwww.heraldsun.com.au%2Fremote%2Fidentity%2Fauth%2Flatest%2Flogin%2Fcallback.html&state=Ghw0AxLzU0cncF8f_Clz1A~H26TVAB5x&nonce=3xBiJiYx6Qswt6ICJJnY6KoQ8YZOkcVg&response_mode=web_message&prompt=none&auth0Client=eyJuYW1lIjoiYXV0aDAuanMiLCJ2ZXJzaW9uIjoiOS4xNC4wIn0%3D-1,2,-94,-115,1,32,32,0,0,0,0,3,0,1601675946810,-999999,17134,0,0,2855,0,0,9,0,0,9961F39CDF22C7349DFFDEB2BE720389~-1~YAAQGpMzuIpHf7J0AQAAl2pT6wTsrz/3uuqAYl05In1pkf4dUWiW6t1XxbGfv3s1EVhXe7UBb955MAw9wGxqY/FpL97/fjh/bGtjjLM3Hh5YbybvSXHZu9mMGQE9LogBtP7XSj8fVTSnsgyUcH6V9/Ca6MPMfeHDypQWaj6WJlQm1FdwWuSRZV6UcIU93biP9pd6f+eKkD91lkUOwt0U/U9crFJZjD01N7vLQI/mrTiKy1KSijyHz+F5vsyS9/kUjlI7KQxPcb+0W9k/xUs6Z0x9NF8FeOpkKtkVpIJ8q8T3q4SnwoZQ98rx4Qe/7Xz0Z38fQ5k=~-1~-1~-1,30498,-1,-1,30261689,PiZtE,100522,60-1,2,-94,-106,0,0-1,2,-94,-119,-1-1,2,-94,-122,0,0,1,0,1,0,0-1,2,-94,-123,-1,2,-94,-124,-1,2,-94,-126,-1,2,-94,-127,8-1,2,-94,-70,-1-1,2,-94,-80,94-1,2,-94,-116,802819920-1,2,-94,-118,114928-1,2,-94,-129,-1,2,-94,-121,;10;-1;0"}"	0.00030751533170997444
{Window}:"yaCounter45066689"	0.0003045735650023568
{Window}:"__ez"	0.0003019000175890773
{Window}:"__revechat_account"	0.0002994498148432447
fpjs2_sim	0.00029652204551693746
%addEventListener:{Window}="message":In:#F	0.00029030302109831705
{Window}:"screen"	0.0002618716720912363
%getAttribute:{HTMLLIElement}="data-thumb-alt"	0.0002484879573019101
{Window}:"exports"	0.00022151684547543432
%getPropertyValue:{CSSStyleDeclaration}="display"	0.00022067329865699825
{HTMLScriptElement}:"crossOrigin"	0.0002148277893510269
{Comment}:"textContent"	0.00020123923152307613
{CanvasRenderingContext2D}:"setTransform"	0.000199568039987689
{HTMLHeadElement}:"appendChild"	0.0001944275756224931
{MessageEvent}:"source"	0.0001936654223453062
?:{HTMLAnchorElement}="https\://sneakernews.com/wp-content/themes/sneakernews/images/site-logo-white.png"	0.00019193968420622542
{NamedNodeMap}:5	0.0001732341306970607
%setAttribute:{HTMLLinkElement}="href":"//get.optad360.io/sf/28b1e64c-4e10-11e8-9da1-06048607e8f8/plugin.min.js"	0.00017310614534585055
{HTMLDivElement}:"replaceChild"	0.00017229937128089752
{Window}:"requestAnimationFrame"	0.00016752099570395654
%addEventListener:{HTMLDocument}="readystatechange":<anonymous>	0.00016591311319240874
{HTMLScriptElement}:"parentNode"	0.00015946018852512704
%addEventListener:{HTMLDocument}="keyup":c:#F	0.00015835919918196298
%addEventListener:{HTMLScriptElement}="load":c	0.00015667537949331516
{HTMLDivElement}:"addEventListener"	0.00015438599202241934
{HTMLBodyElement}:"sizzle1601680967205"	0.00015134068078444623
{NamedNodeMap}:2	0.00014981464798718438
%setAttribute:{HTMLLinkElement}="href":"https\://www.google-analytics.com/analytics.js"	0.00014218002855263305
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction RevealFormat(t){Format.apply(this,arguments),this._win=this.adapter.getTopWindow(),this._docEl=this._win.document.documentElement,t.adBehavior.interstitial=!1,this.thumbnailMode="thumb"==this.adapter.runtimeParams.purpose,this.attachment="inline",["top","bottom"].indexOf(this.adapter.runtimeParams.sticky)>-1&&(this.attachment=this.adapter.runtimeParams.sticky),this.expandDirection="down",["up","both"].indexOf(this.adapter.runtimeParams.expandDirection)>-1&&(this.expandDirection=this.adapter.runtimeParams.expandDirection),this.pushContent="1"==this.adapter.runtimeParams.pushContent,this.allowAnimatingContent="1"==this.adapter.runtimeParams._animatePushContent,this.showDismissButton="inline"!=this.attachment&&"1"==this.adapter.runtimeParams.showDismissButton,this._animationState=new StateObject({width\:0,height\:this.units.banner.revealCollapsedHeight,scroll\:0,size\:"collapsed",previousSize\:"collapsed",closeLeft\:0,closeTop\:0,unitHeight\:this._windowHeight}),this._heightAnimation=new EasingAnimation(this._animationState,"height"),this._scrollAnimation=new EasingAnimation(this._animationState,"scroll"),this.animationLength=120,this.update=this.update.bind(this),this.render=this.render.bind(this),this._isFullscreenStable=!1,this._previousScrollPosition=null,this.thumbnailMode?this.setupThumbnail()\:this.setup(),this.adapter.hook("beforeDismiss",this.beforeDismissHook.bind(this)),this.adapter.hook("beforeResize",this.beforeResizeHook.bind(this))}inherit(RevealFormat,Format),Object.defineProperty(RevealFormat.prototype,"_windowWidth",{get\:function(){return this.placements.wrapper?this.placements.wrapper.getViewportGeometry().width\:this._win.innerWidth}}),Object.defineProperty(RevealFormat.prototype,"_windowHeight",{get\:function(){return this.placements.wrapper?this.placements.wrapper.getViewportGeometry().height\:this._win.innerHeight}}),Object.defineProperty(RevealFormat.prototype,"_negativeScrollCompensation",{get\:function(){var t="fullscreen"==this._animationState.previousSize||"fullscreen"==this._animationState.size;return t&&this._animationState.scroll<0?-this._animationState.scroll\:0}}),RevealFormat.prototype.setup=function(){var t,e=new TaskScheduler;if(this.setupViewableTimeObserver(),"inline"==this.attachment){var i=this.adapter.hostElement.ownerDocument.defaultView,n=i.getComputedStyle(this.adapter.hostElement,!1);"static"==n.position&&(this.adapter.hostElement.style.position="relative"),t={wrapper\:{attachment\:"inline",positioning\:"container",type\:"layer"}}}else t={wrapper\:{attachment\:"body",positioning\:"screen",type\:"layer"}};e.when("ready").run(function(){this.adapter.createPlacements(t,function(){this._viewabilityObservee=this.placements.wrapper.root,this.populateWrapper(this.placements.wrapper,e.notifies("wrapperPopulated"))}.bind(this))}.bind(this)),e.when("wrapperPopulated").run(function(){this.adapter.createPlacements({banner\:{attachment\:"placement",placement\:this.placements.wrapper,positioning\:"container",type\:"unit"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify("unitPopulated")}.bind(this))}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){this.adapter.createPlacements({stickyControls\:{attachment\:"body",positioning\:"screen",type\:"layer"}},function(){this.populateStickyControls(this.placements.stickyControls,noop)}.bind(this)),this.hideCloseButton(),this.units.banner=this.placements.banner.creative.units.banner,this.placements.banner.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this._viewabilityObservee),this.placements.banner.show(),this.placements.wrapper.show(),this.setHeight(this.units.banner.revealCollapsedHeight,this.units.banner.revealCollapsedHeight),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(this.placements.wrapper),[1e3,2e3,3e3,4e3].forEach(function(t){defer(function(){this.placements.wrapper&&this.placements.banner&&(this.placements.wrapper.update(),this.placements.banner.update())}.bind(this),t)},this),this.adapter.viewabilityMeasurable.viewable00?this.adapter.waitForViewableCore(this.placements.wrapper,this._viewabilityObservee,function(t){this.placements.banner.creative.track({name\:"viewable00",criterion\:t}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),e.notify("placementViewable")}.bind(this))\:defer(e.notifies("placementViewable")),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(this.placements.wrapper,this._viewabilityObservee,function(t){this.placements.banner.creative.track({name\:"viewable501",criterion\:t})}.bind(this))}.bind(this)),e.when("placementViewable").run(function(){e.pause(),this.adapter.on("stateChange",function(t){this.transitionTo(t)}.bind(this)),this.start(),this.transitionTo("default")}.bind(this)),this.adapter.on("ready",e.notifies("ready"))},RevealFormat.prototype.setupThumbnail=function(){var t=new TaskScheduler;this.setupViewableTimeObserver(),t.when("ready").run(function(){this.adapter.createPlacements({banner\:{attachment\:"body",positioning\:"screen",type\:"unit"}},function(){var e=this.placements.banner;this.populateBanner(e,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(e.creative.units.banner),t.notify("bannerPopulated")}.bind(this))}.bind(this))}.bind(this)),t.when("bannerPopulated").run(function(){this.units.banner=this.placements.banner.creative.units.banner,t.pause(),this.setHeight(this.units.banner.layouts[0].unitSize.height,this.units.banner.layouts[0].unitSize.height),this.placements.banner.origin.horizontal="left",this.placements.banner.origin.vertical="top",this.placements.banner.setSize("100%","100%"),this.placements.banner.setPosition(0,0),this.placements.banner.show(),this.units.banner.appear()}.bind(this)),this.adapter.on("ready",t.notifies("ready"))},RevealFormat.prototype.start=function(){Ticker.frame(this.update,"update"),Ticker.frame(this.render,"render")},RevealFormat.prototype.stop=function(){Ticker.removeFrame(this.update,"update"),Ticker.removeFrame(this.render,"render")},RevealFormat.prototype.populateWrapper=function(t,e){this.adapter.setMinimumSize(this.units.banner.layouts[0].unitSize.width,this.units.banner.revealCollapsedHeight),"inline"!=this.attachment&&(t.origin.vertical=this.attachment,t.usesFixedPositioning=!0,t.isSticky=!0),t.setSize("100%",this._animationState.height),t.setPosition(0,0),"inline"==this.attachment||this.pushContent||t.setZIndex(-20),t.show(),e()},RevealFormat.prototype.populateBanner=function(t,e){var i=t.creative.units.banner;i.swipeable="inline"==this.attachment,i.showCloseButton=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),this._attachInViewToOrderedPlacements(i,t,this.placements.wrapper),this.connectPlacementEventsToUnitBehavior(t,i),i.setAvailableSize(this._windowWidth,this._windowHeight),t.setSize("100%",Math.max(this._windowHeight,i.size.height)),t.origin.vertical=i.layoutCurrent.unitAlignment.vertical,t.setPosition(0,"center"!=t.origin.vertical?0\:"50%"),t.setBackground(i.backgroundColor);var n=i.getNode(function(){t.populate(n,e)}.bind(this))},RevealFormat.prototype.populateStickyControls=function(t,e){var i=this.placements.banner.creative,n=i.secure?i.staticUrl\:i.insecureStaticUrl,a=t.createElement("img");a.src=n+"runner/clazzes/CreativeUnit/close-up.svg",a.style.cssText="position\:absolute;top\:0;left\:0;width\:30px;height\:30px;",t.usesFixedPositioning=!0,t.populate(a,e),t.origin.vertical=this.attachment,t.origin.horizontal="right",t.setSize(30,30),t.setPosition(10,this.units.banner.revealCollapsedHeight-15),t.setZIndex(-19),this.showDismissButton&&t.show(),a.addEventListener("touchstart",function(t){t.preventDefault(),this.adapter.dismiss()}.bind(this))},RevealFormat.prototype.transitionTo=function(t,e,i){if(i||(i=noop),this.state!=t){if(null==this.state&&"default"==t)this.units.banner.appear(),defer(i);else{if("default"!=this.state||"dismissed"!=t)throw new Error("Invalid state transition request! ("+this.state+" => "+t+")");this.destroy(),defer(i)}this.state=t}},RevealFormat.prototype.setHeight=function(t,e){if(this._animationState.height=t,"inline"!=this.attachment)this.adapter.setMinimumSize(0,0);else{var i=this.units.banner.size||this.units.banner.layouts[0].unitSize;this.adapter.setMinimumSize(i.width,e)}this.placements.wrapper&&this.placements.wrapper.update(),this.placements.banner.update()},RevealFormat.prototype.scrollTo=function(t,e){var i=this.placements.wrapper.getViewportGeometry();this.adapter.getTopWindow().scrollTo(t||i.left,e||i.top)},RevealFormat.prototype._triggerScroll=function(t,e,i){e?this._scrollAnimation.animateTo(t,this.animationLength,i||noop)\:(this._animationState.scroll=Math.round(t),i&&i())},RevealFormat.prototype.getScroll=function(){var t=this.placements.wrapper.getViewportGeometry();return{left\:t.left,top\:t.top}},RevealFormat.prototype._resizeUnit=function(t,e){e=e||noop,this.adapter.resize(e,{animate\:!1,height\:t})},RevealFormat.prototype.beforeResizeHook=function(t,e){var i=this._mapNameToHeight(e.height),n=this.placements.banner,a=n?n.getContainer()\:null,s=a?a.ownerDocument\:null,o=this.units.banner.goingToScreen||this.units.banner.currentScreen,r=o.scenes||[];if(t=t||noop,e.height==this._animationState.size||this.thumbnailMode)return t();if(this._animationState.previousSize=this._animationState.size,this._animationState.size=e.height,this._isFullscreenStable=!1,"fullscreen"==e.height?(this.adapter.disableScroll(s),this.placements.stickyControls.hide(),this.units.banner.swipeable=!1,this._previousScrollPosition=this.getScroll().top,this.units.banner.screens.forEach(function(t){r.forEach(function(e){e.type.toLowerCase().indexOf("reactive")>-1&&(e.forceFallbackFrame=!0,o!==t||e.paused||e.playSceneAction())})}.bind(this)))\:(this.adapter.enableScroll(s),this.showDismissButton&&this.placements.stickyControls.show(),this.hideCloseButton(),this.units.banner.swipeable=!0,this.units.banner.screens.forEach(function(t){r.forEach(function(e){e.type.toLowerCase().indexOf("reactive")>-1&&(e.forceFallbackFrame=!1,o===t&&e.fallbackFrameShown&&e.playSceneAction())})}.bind(this))),("fullscreen"!=this._animationState.previousSize||this._animationState.scroll>=0)&&(this._animationState.scroll=this.getScroll().top),"fullscreen"==e.height){var h=this._getCenteredScrollForUnitSize(this._windowWidth,i).top;this._triggerScroll(h,e.animate,function(){this._isFullscreenStable=!0}.bind(this))}else"fullscreen"==this._animationState.previousSize&&("collapsed"==e.height||"intro"==e.height||this._animationState.scroll<0)?(this._triggerScroll(this._previousScrollPosition,e.animate),this._previousScrollPosition=null)\:"maximum"==e.height?this._triggerScroll(this._getCenteredScrollForUnitSize(this.units.banner.size.width,i).top,e.animate)\:this.pushContent&&!this.allowAnimatingContent&&this.adapter.setMinimumSize(this.units.banner.size.width,i);e.animate?this._heightAnimation.animateTo(i,this.animationLength,function(){this.pushContent&&!this.allowAnimatingContent&&this.adapter.setMinimumSize(this.units.banner.size.width,i),"fullscreen"==this._animationState.size&&this.showCloseButton(),t()}.bind(this))\:(this._animationState.height=i,this.pushContent&&this.adapter.setMinimumSize(this.units.banner.size.width,i),"fullscreen"==this._animationState.size&&this.showCloseButton(),t())},RevealFormat.prototype.beforeDismissHook=function(t,e){t=t||noop,e.animate?(null!==this._previousScrollPosition&&"inline"==this.attachment&&this._triggerScroll(this._previousScrollPosition,e.animate),this._heightAnimation.animateTo(0,this.animationLength,function(){this.destroy(),t()}.bind(this)))\:(this.destroy(),t())},RevealFormat.prototype._mapNameToHeight=function(t){return"collapsed"==t?this.units.banner.revealCollapsedHeight\:"intro"==t?this.units.banner.revealIntroHeight\:"fullscreen"==t?this._windowHeight\:this.units.banner.size.height},RevealFormat.prototype.update=function(){this._animationState.width="inline"==this.attachment?this.placements.wrapper.root.parentNode.getBoundingClientRect().width\:this._windowWidth,this._isFullscreenStable&&(this._animationState.height=this._windowHeight,this._animationState.scroll=this._getCenteredScrollForUnitSize(this._windowWidth,this._windowHeight).top);var t=this._getCloseButtonPosition();this._animationState.closeTop=t.top,this._animationState.closeLeft=t.left,this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.wrapper.root),this._animationState.unitHeight=Math.max(this.units.banner.size.height,this._windowHeight)},RevealFormat.prototype.render=function(){this._animationState.anyDirty("width","height")&&(this.placements.wrapper.setSize("100%",~~this._animationState.height),"inline"==this.attachment?this.pushContent?this.allowAnimatingContent&&this.adapter.setMinimumSize(this.units.banner.size.width,~~this._animationState.height)\:"up"==this.expandDirection?this.placements.wrapper.setPosition(0,this.units.banner.revealCollapsedHeight-this._animationState.height+this._negativeScrollCompensation)\:"both"==this.expandDirection?this.placements.wrapper.setPosition(0,(this.units.banner.revealCollapsedHeight-this._animationState.height)/2+this._negativeScrollCompensation)\:this.placements.wrapper.setPosition(0,0)\:this.placements.stickyControls&&this.placements.stickyControls.setPosition(10,~~this._animationState.height-15)),this._animationState.isDirty("unitHeight")&&(this.placements.banner.setSize("100%",this._animationState.unitHeight),this.placements.banner.setPosition(0,"center"!=this.placements.banner.origin.vertical?0\:"50%"));var t=this._isFullscreenStable&&this.getScroll().top!=this._animationState.scroll;if("inline"==this.attachment&&(this._animationState.isDirty("scroll")||t)&&this.scrollTo(null,Math.round(this._animationState.scroll)),this._animationState.isDirty("closeTop"))for(var e=this._getCloseButtons(),i=0;i<e.length;i++)e[i].style.left=this._animationState.closeLeft+"px",e[i].style.top=this._animationState.closeTop+"px";this._animationState.markClean()},RevealFormat.prototype.destroy=function(){this.stop(),RevealFormat.uber.destroy.apply(this,arguments)},RevealFormat.prototype._getCenteredScrollForUnitSize=function(t,e){var i=this.placements.wrapper.getViewportGeometry(),n=this.placements.wrapper.root.getBoundingClientRect(),a={left\:Math.round(i.left+n.left-(i.width-t)/2),top\:Math.round(i.top+n.top-(i.height-e)/2)};return a.left-=this.placements.wrapper.left.value,a.top-=this.placements.wrapper.top.value,"up"==this.expandDirection?a.top-=e-this.units.banner.revealCollapsedHeight\:"both"==this.expandDirection&&(a.top-=(e-this.units.banner.revealCollapsedHeight)/2),a},RevealFormat.prototype.showCloseButton=function(){var t=this._getCloseButtons();if(t.length)for(var e=0;e<t.length;e++)t[e].style.display="block"},RevealFormat.prototype.hideCloseButton=function(){var t=this._getCloseButtons();if(t.length)for(var e=0;e<t.length;e++)t[e].style.display="none"},RevealFormat.prototype._getCloseButtons=function(){return this.placements.banner.querySelectorAll(".celtra-close-button")},RevealFormat.prototype._getCloseButtonPosition=function(){var t=(this._getCloseButtons(),this.placements.banner.getContainer()),e=t?t.getBoundingClientRect()\:CRect.ZERO,i=this.units.banner.node.getBoundingClientRect(),n=this.placements.banner.root.getBoundingClientRect(),a=this.placements.wrapper.root.getBoundingClientRect(),s={left\:-n.left-e.left-i.left,top\:-n.top-e.top-i.top},o={left\:clamp(0,Math.min(this._windowWidth,a.right)-30,a.right),top\:clamp(n.top,Math.min(this._windowHeight,a.bottom)-30,a.top)};return{left\:s.left+o.left,top\:s.top+o.top}},RevealFormat.prototype.needsAccessToHostPage=function(){return!0};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/0700a724/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/0700a724/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Desktop';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new RevealFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:220},"designTimeSize"\:{"width"\:728,"height"\:220},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}],"revealIntroHeight"\:220,"revealCollapsedHeight"\:220}});\x0a            perfFormatNew.end();\x0a        "	0.00013998922705119282
%<anonymous>:{global}="#0.6650670717271161\x0d\x0adate\: Fri, 02 Oct 2020 22\:04\:31 GMT\x0d\x0acontent-encoding\: gzip\x0d\x0acf-cache-status\: HIT\x0d\x0aalt-svc\: h3-27="\:443"; ma=86400, h3-28="\:443"; ma=86400, h3-29="\:443"; ma=86400\x0d\x0aserver\: cloudflare\x0d\x0aage\: 295067\x0d\x0aetag\: W/"SJc1ouqxjhvv0sBICfL/bg=="\x0d\x0avary\: Accept-Encoding\x0d\x0acontent-type\: text/html\x0d\x0acache-control\: max-age=43200,public,immutable,no-transform\x0d\x0acf-ray\: 5dc1b83bba63fd86-ORD\x0d\x0alink\: <//adsco.re/p>;rel=prefetch,<//6.adsco.re>;rel=prefetch\x0d\x0acf-request-id\: 058cf179570000fd86550fa200000001\x0d\x0aexpires\: Wed, 30 Sep 2020 00\:06\:44 GMT\x0d\x0a":"*"	0.00013948939947953923
%setAttribute:{HTMLScriptElement}="type":"text/javascript"	0.00013887421752272597
%setAttribute:{SVGPathElement}="d":"M29.1,32L10.6,50.6c-0.8,0.8-0.8,2.1,0,2.9c0.8,0.8,2.1,0.8,2.9,0L32,34.9l18.5,18.5 c0.8,0.8,2.1,0.8,2.9,0c0.8-0.8,0.8-2.1,0-2.9L34.9,32l18.5-18.5c0.8-0.8,0.8-2.1,0-2.9s-2.1-0.8-2.9,0L32,29.1L13.5,10.6 c-0.8-0.8-2.1-0.8-2.9,0c-0.8,0.8-0.8,2.1,0,2.9L29.1,32z"	0.00013261069072164545
%addEventListener:{HTMLInputElement}="keydown":c:#F	0.00012419017192137177
{Window}:"innerHeight"	0.0001241768867149256
%addEventListener:{HTMLDocument}="blur":c:#T	0.0001229957249263779
{Attr}:"name"	0.00012134879435838277
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction BannerFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,this._tick=this._tick.bind(this),this.setup()}inherit(BannerFormat,Format),BannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when("ready").run(function(){this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify("unitPopulated")}.bind(this))}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node),this.adapter.setMinimumSize(this.units.banner.size.width,this.units.banner.size.height),t.show(),this.adapter.Ticker.frame(this._tick,"update"),i.updateRxState(t.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.viewabilityMeasurable.viewable00?(a="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify("placementViewable")}.bind(this)))\:a=!0,a&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name\:"viewable501",criterion\:e})})}.bind(this)),e.when("placementViewable").run(function(){e.pause(),this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this)),this.adapter.on("ready",e.notifies("ready"))},BannerFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),this.connectPlacementEventsToUnitBehavior(e,i);var n=i.getNode(function(){e.setMinimumSize(i.size.width,i.size.height),e.populate(n,t),a?e.setSize(i.size.width,i.size.height)\:e.setSize("100%","100%"),e.setPosition(0,0)}.bind(this))},BannerFormat.prototype.transitionTo=function(e,t,i){i||(i=noop);if("default"==e&&null===this.state)this.placements.banner.show(),this.units.banner.appear(),defer(i);else{if("dismissed"!=e||"default"!=this.state&&null!=this.state)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},BannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),BannerFormat.uber.destroy.apply(this)},BannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?void(this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root))\:void this.destroy()};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/8ea75a66/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/8ea75a66/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Desktop';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new BannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:300,"height"\:1050},"designTimeSize"\:{"width"\:300,"height"\:1050},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	0.00011342651922725579
%createComment:{HTMLDocument}="<script type="text/javascript">\x0a\x09\x09\x09window._wpemojiSettings = {"baseUrl"\:"https\:\\/\\/s.w.org\\/images\\/core\\/emoji\\/2.3\\/72x72\\/","ext"\:".png","svgUrl"\:"https\:\\/\\/s.w.org\\/images\\/core\\/emoji\\/2.3\\/svg\\/","svgExt"\:".svg","source"\:{"concatemoji"\:"https\:\\/\\/igg-games.com\\/wp-includes\\/js\\/wp-emoji-release.min.js?ver=4.9"}};\x0a\x09\x09\x09!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag"\:return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji"\:return b=d([55358,56794,8205,9794,65039],[55358,56794,8203,9794,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything\:!0,everythingExceptFlag\:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1))\:(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji)\:g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);\x0a\x09\x09</script>"	0.00010986112555460328
%removeEventListener:{Window}="load":c	0.00010257482683964887
%setTimeout:{Window}=<anonymous>:0	9.882973859357528e-05
{HTMLScriptElement}:"setAttribute"	9.864491751661677e-05
{NamedNodeMap}:1	9.779260797466142e-05
{HTMLDocument}:"querySelectorAll"	9.709493533500182e-05
?:{HTMLScriptElement}="a3782ed143d4663cbcedf844-text/javascript"	8.852410351173474e-05
{HTMLDocument}:"addEventListener"	8.852410351173474e-05
{HTMLBodyElement}:"insertBefore"	8.828177358803592e-05
{HTMLDocument}:"contains"	8.057743143814898e-05
{NamedNodeMap}:3	7.683741575777547e-05
{HTMLScriptElement}:"onload"	7.604144436405084e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction ExpandableBannerFormat(t,e){Format.apply(this,arguments),this._expansionAlignment=this.adapter.runtimeParams.expandDirection?this.getExpansionAlignment(this.adapter.runtimeParams.expandDirection)\:null,this._useInPlaceExpand="SafeFrameAdapter"!=this.adapter.constructor.name&&null!==this._expansionAlignment,this._modalAttachment="inline"===this.adapter.runtimeParams._modalAttachment?"inline"\:"body",this._modalPositioning="screen",this._useInPlaceExpand&&(this._modalPositioning="inline"===this._modalAttachment?"container"\:"page"),this._modalPlacementReq={attachment\:this._modalAttachment,positioning\:this._modalPositioning,type\:"unit"},t.adBehavior.interstitial=!1,t.adBehavior.expandable=!0,t.adBehavior.expanded=!e.banner,t.restoreScrollOnCollapse=!this._useInPlaceExpand,this._tick=this._tick.bind(this),this.setup()}inherit(ExpandableBannerFormat,Format),ExpandableBannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var t=this.adapter.adBehavior.expanded,e=new TaskScheduler;e.when("ready").run(function(){var i={banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}};t&&(i.modal=this._modalPlacementReq),this.adapter.createPlacements(i,function(){if(t){var i=this.placements.modal;this.populateModal(i,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(i.creative.units.modal),e.notify("unitPopulated")}.bind(this))}else{var a=this.placements.banner;this.populateBanner(a,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(a.creative.units.banner),e.notify("unitPopulated"),a.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node)}.bind(this))}}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var i=t?this.placements.modal\:this.placements.banner,a=t?i.creative.units.modal\:i.creative.units.banner;if(this.adapter.setMinimumSize(a.size.width,a.size.height),i.show(),this.adapter.Ticker.frame(this._tick,"update"),!this.adapter.isRxAvailable||t&&!this._useInPlaceExpand||a.updateRxState(i.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(i),i===this.placements.banner){var n=!1;this.adapter.viewabilityMeasurable.viewable00?(n="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(i,a.node,function(t){i.creative.track({name\:"viewable00",criterion\:t}),this.adViewableTimeObserver&&(this.adViewableTimeObserver.readyToShow(),this.adapter.runtimeParams.continueMeasuringViewableTimeWhenExpanded=1),n||e.notify("placementViewable")}.bind(this)),n&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap))\:defer(e.notifies("placementViewable")),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(i,a.node,function(t){i.creative.track({name\:"viewable501",criterion\:t})})}else adapter.runtimeParams.continueMeasuringViewableTimeWhenExpanded&&this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),defer(e.notifies("placementViewable"))}.bind(this)),e.when("placementViewable").run(function(){this.emit("firstPlacementViewable");var i=t?"modal"\:"banner";this.units[i]=this.placements[i].creative.units[i],e.pause(),this.adapter.on("stateChange",function(t){this.transitionTo(t)}.bind(this)),this.transitionTo(t?"expanded"\:"default")}.bind(this)),this.adapter.on("ready",e.notifies("ready")),this.adapter.hook("beforeExpand",function(t){this.adapter.createPlacements({modal\:this._modalPlacementReq},function(){var e=this.placements.modal.creative.units.modal,i=e.orientation;if("both"!==i&&("portrait"===i||"landscape"===i)&&this.adapter.setOrientationLock(i),this.animateExpansion=this.adapter.animateExpansion&&!android("2"),!this.animateExpansion&&!this.adapter.multiDocumentExpand){this._beforeExpandModalGeometry=this._getModalPlacementGeometry();var a=this.placements.banner;a.hide(),this.adapter.listenForExpandErrors(function(){a.show()})}t()}.bind(this))}.bind(this)),this.adapter.hook("beforeCollapse",this.beforeCollapseHook.bind(this))},ExpandableBannerFormat.prototype.beforeCollapseHook=function(t){this.placements.modal.hide(),t&&t()},ExpandableBannerFormat.prototype.populateBanner=function(t,e){var i=this.units.banner=t.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(t.isSticky=!0),this._attachInViewToOrderedPlacements(i,t),this.connectPlacementEventsToUnitBehavior(t,i);var n=i.getNode(function(){t.setMinimumSize(i.size.width,i.size.height),t.populate(n,e),a?t.setSize(i.size.width,i.size.height)\:t.setSize("100%","100%"),t.setPosition(0,0)}.bind(this))},ExpandableBannerFormat.prototype.populateModal=function(t,e){var i=this.units.modal=t.creative.units.modal;i.swipeable=!1,i.showCloseButton=!this.adapter.providesCloseButton,i.fillsContainer=!0,i.usePlaceboBar=i.loadingScreen&&"undefined"!=typeof i.loadingScreen.loaderVisible?i.loadingScreen.loaderVisible\:!0,i.closeAction=i.collapseAction,i.parentPlacement=this.placements.modal,addClass(t.root,"celtra-expanded-ad"),this.adapter.isRxAvailable&&this._useInPlaceExpand&&i.createRxState(),this._attachInViewToOrderedPlacements(i,t),this.connectPlacementEventsToUnitBehavior(t,i);var a=i.getNode(function(){t.usesFixedPositioning=deviceInfo.deviceType.desktop()&&!this._useInPlaceExpand,t.populate(a,e),t.setZIndex(-4),t.setSize("100%","100%"),t.setPosition(0,0),t.setBackground(t.creative.units.modal.backgroundColor)}.bind(this)),n=i.orientation;"both"!==n&&(this.adapter.setOrientationLock(n)||"portrait"!==n&&"landscape"!==n||i.enableWrongOrientationPrompt())},ExpandableBannerFormat.prototype.populateGraphics=function(t,e){this.expansionDiv=t.createElement("div"),this.expansionDiv.style.cssText="position\:absolute;left\:0;top\:0",t.root.style.overflow="visible",t.populate(this.expansionDiv,e)},ExpandableBannerFormat.prototype.transitionTo=function(t,e,i){e||(e={}),i||(i=noop);var a=function(){this.emit("stateChange"),i()}.bind(this);if(null==this.state&&"default"==t)defer(function(){this.units.banner.appear(),defer(a)}.bind(this),void 0,void 0,this.adapter.useAsap);else if("default"==this.state&&"expanded"==t){var n={};this.animateExpansion&&(n.graphics={attachment\:this._modalAttachment,positioning\:this._modalPositioning,type\:"layer"}),this.adapter.createPlacements(n,function(){var t=new TaskScheduler,e=["modalPopulated"];this.animateExpansion&&(e=e.concat("graphicsPopulated","expansionAnimationEnded"),t.when("graphicsPopulated").run(function(){this.placements.graphics.show(),this.startExpansionAnimation(t.notifies("expansionAnimationEnded"))}.bind(this))),t.when("start").run(function(){var e=this.placements.modal;this.populateModal(e,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(e.creative.units.modal),t.notify("modalPopulated")}.bind(this)),this.animateExpansion&&this.populateGraphics(this.placements.graphics,t.notifies("graphicsPopulated"))}.bind(this)),t.when(e).run(function(){var t=this.placements.banner,e=this.placements.modal,i=t.creative.units.banner,n=e.creative.units.modal;if(i.disappear(),!this.animateExpansion){if(this._useInPlaceExpand){var s=this._beforeExpandModalGeometry||this._getModalPlacementGeometry();e.setSize(n.size.width,n.size.height),e.setPosition(s.left,s.top)}e.show()}defer(function(){n.appear(),this.adapter.startObscuringContent(),null!=n.currentScreen&&n.currentScreen.findAll().forEach(function(t){"[Clazz Video]"==t.constructor.toString()&&t._videoElement&&(t.handleNodeRemoved(),t.handleNodeInserted())}),defer(a)}.bind(this))}.bind(this)),t.notify("start")}.bind(this))}else if("default"!=this.state&&"expanded"!=this.state||"dismissed"!=t)if("expanded"==this.state&&"default"==t)this.adapter.stopObscuringContent(),this.placements.modal.hide(),this.units.modal.disappear(),this.animateExpansion||this.adapter.multiDocumentExpand||this.placements.banner.show(),this.units.banner.appear(),defer(a);else if(null==this.state&&"expanded"==t)this.adapter.startObscuringContent(),defer(function(){this.units.modal.appear(),defer(a)}.bind(this));else{if(null!=this.state||"dismissed"!=t)throw new Error("Invalid state transition request! ("+this.state+" => "+t+")");this.destroy()}else this.adapter.stopObscuringContent(),this.destroy(),defer(a);this.state=t},ExpandableBannerFormat.prototype._isValidExpandDirection=function(t){return/^(auto|(left|right|up|down)(,(left|right|up|down))?)$/g.test(t)},ExpandableBannerFormat.prototype.getExpansionAlignment=function(t){if(!this._isValidExpandDirection(t))return null;if("auto"===t)return{horizontal\:"auto",vertical\:"auto"};for(var e={horizontal\:"center",vertical\:"center"},i=t.split(","),a=0;a<i.length;a++)switch(i[a]){case"left"\:e.horizontal="right";break;case"right"\:e.horizontal="left";break;case"up"\:e.vertical="bottom";break;case"down"\:e.vertical="top"}return e},ExpandableBannerFormat.prototype._getModalBannerOffsets=function(t,e){function i(i){return"center"==i?Math.round((e.width-t.width)/2)\:"right"==i?e.width-t.width\:0}function a(i){return"center"==i?Math.round((e.height-t.height)/2)\:"bottom"==i?e.height-t.height\:0}var n={left\:0,top\:0},s=this.placements.modal.getViewportGeometry(),o={x\:s.width/2,y\:s.height/2},r=null;return null===this._expansionAlignment?n\:("auto"==this._expansionAlignment.horizontal?(r=[{alignment\:"left",dist\:Math.abs(e.left+t.width/2-o.x)},{alignment\:"center",dist\:Math.abs(e.left+e.width/2-o.x)},{alignment\:"right",dist\:Math.abs(e.left+e.width-t.width/2-o.x)}].sort(function(t,e){return t.dist-e.dist}),n.left=i(r[0].alignment))\:n.left=i(this._expansionAlignment.horizontal),"auto"==this._expansionAlignment.vertical?(r=[{alignment\:"top",dist\:Math.abs(e.top+t.height/2-o.y)},{alignment\:"center",dist\:Math.abs(e.top+e.height/2-o.y)},{alignment\:"bottom",dist\:Math.abs(e.top+e.height-t.height/2-o.y)}].sort(function(t,e){return t.dist-e.dist}),n.top=a(r[0].alignment))\:n.top=a(this._expansionAlignment.vertical),n)},ExpandableBannerFormat.prototype._getModalPlacementGeometry=function(){var t,e,i=this.placements.modal.getViewportGeometry(),a=this.placements.banner.creative.units.banner,n=this.placements.modal.creative.units.modal,s={top\:0,left\:0,width\:i.width,height\:i.height};return this._useInPlaceExpand&&(s.width=n.size.width,s.height=n.size.height,"page"===this._modalPositioning?(t=this.placements.banner.getUnitGeometry(a),e=this._getModalBannerOffsets(s,t),s.top+=t.top+e.top+i.top,s.left+=t.left+e.left+i.left)\:(t=this.placements.banner.getRelativeUnitGeometry(a),e=this._getModalBannerOffsets(s,t),s.top+=e.top+t.top,s.left+=e.left+t.left)),s},ExpandableBannerFormat.prototype.startExpansionAnimation=function(t){var e,i,a,n,s=this.placements.banner,o=s.getUnitGeometry(s.creative.units.banner),r=this._getModalPlacementGeometry();this._useInPlaceExpand?(e=this._getModalBannerOffsets(r,o),i=r.top-e.top,a=r.left-e.left)\:(i=o.top,a=o.left),n=tmpl("Desktop"===this.placements.modal.creative.intendedDeviceType&&celtra.styler.isWebKit?"translate(<%= tx %>px, <%= ty %>px) scale3d(<%= sx %>, <%= sy %>, 1)"\:"translate(<%= tx %>px, <%= ty %>px) scale(<%= sx %>, <%= sy %>)"),this.expansionDiv.style.position="absolute",this.expansionDiv.style.left=0,this.expansionDiv.style.top=0,this.expansionDiv.style.width=o.width+"px",this.expansionDiv.style.height=o.height+"px",this.expansionDiv.style.background=this.units.modal.backgroundColor,this.expansionDiv.style.opacity=.01,this.expansionDiv.style.transition="none",celtra.styler.css(this.expansionDiv,"transition","none"),celtra.styler.css(this.expansionDiv,"transformOrigin","0 0"),celtra.styler.css(this.expansionDiv,"transform",n({sx\:1,sy\:1,tx\:a,ty\:i})),this.placements.graphics.setSize("100%","100%"),this.placements.graphics.setPosition(0,0),this.placements.graphics.setZIndex(-3),this.placements.graphics.show();var l=new TaskScheduler;l.when("startExpandAnimation").run(function(){celtra.styler.css(this.expansionDiv,"transition","all 0.5s ease-out"),this.expansionDiv.style.opacity=1,once(this.expansionDiv,"transitionend",l.notifies("fadeInCompleted"))}.bind(this)),l.when("fadeInCompleted").run(function(){celtra.styler.css(this.expansionDiv,"transform",n({sx\:r.width/o.width,sy\:r.height/o.height,tx\:r.left,ty\:r.top})),once(this.expansionDiv,"transitionend",l.notifies("stretched"))}.bind(this)),l.when("stretched").run(function(){celtra.styler.css(this.expansionDiv,"transition","none"),defer(function(){l.notify("modalReadyToShow")}.bind(this))}.bind(this)),l.when("modalReadyToShow").run(function(){var e=this.placements.modal;this._useInPlaceExpand?(e.setSize(this.units.modal.size.width,this.units.modal.size.height),e.setPosition(r.left,r.top))\:(e.setSize("100%","100%"),e.setPosition(0,0)),e.show(),this.adapter.destroyPlacement("graphics"),t&&t()}.bind(this)),defer(l.notifies("startExpandAnimation"))},ExpandableBannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),ExpandableBannerFormat.uber.destroy.apply(this)},ExpandableBannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?(this.units.banner&&this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root),void(this.units.modal&&this.placements.modal&&this.placements.modal._visible&&this._useInPlaceExpand&&this.units.modal.updateRxState(this.placements.modal.root)))\:void this.destroy()},ExpandableBannerFormat.prototype._goToUnit=function(t,e){if(e=e||noop,"default"===this.state){var i=this.placements.banner.creative.units.banner,a=this.placements.banner.creative.units.modal.localId;i.localId===t?defer(function(){e(i)})\:a===t&&(this.once("stateChange",function(){e(this.placements.modal.creative.units.modal)}.bind(this)),this.adapter.expand(noop,{animation\:!1}))}else if("expanded"===this.state){var n=this.placements.modal.creative.units.modal,s=this.placements.modal.creative.units.banner.localId;n.localId===t?defer(function(){e(n)})\:s===t&&this.adapter.collapse(deferred(function(){e(this.placements.banner.creative.units.banner)}.bind(this)))}};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/fa78249e/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/fa78249e/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Desktop';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new ExpandableBannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:90},"designTimeSize"\:{"width"\:728,"height"\:90},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]},"modal"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:290},"designTimeSize"\:{"width"\:728,"height"\:290},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	7.434436154946721e-05
{HTMLBodyElement}:"appendChild"	7.3482590472225e-05
%fillText:{CanvasRenderingContext2D}="Shoshoro N.V.":1:11	7.3482590472225e-05
{HTMLButtonElement}:"onclick"	7.3482590472225e-05
{HTMLDivElement}:"insertBefore"	6.691361050191743e-05
{HTMLButtonElement}:"compareDocumentPosition"	6.606177939425567e-05
%getElementsByTagName:{HTMLElement}="*"	6.606177939425567e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction BannerFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,this._tick=this._tick.bind(this),this.setup()}inherit(BannerFormat,Format),BannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when("ready").run(function(){this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify("unitPopulated")}.bind(this))}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node),this.adapter.setMinimumSize(this.units.banner.size.width,this.units.banner.size.height),t.show(),this.adapter.Ticker.frame(this._tick,"update"),i.updateRxState(t.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.viewabilityMeasurable.viewable00?(a="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify("placementViewable")}.bind(this)))\:a=!0,a&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name\:"viewable501",criterion\:e})})}.bind(this)),e.when("placementViewable").run(function(){e.pause(),this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this)),this.adapter.on("ready",e.notifies("ready"))},BannerFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),this.connectPlacementEventsToUnitBehavior(e,i);var n=i.getNode(function(){e.setMinimumSize(i.size.width,i.size.height),e.populate(n,t),a?e.setSize(i.size.width,i.size.height)\:e.setSize("100%","100%"),e.setPosition(0,0)}.bind(this))},BannerFormat.prototype.transitionTo=function(e,t,i){i||(i=noop);if("default"==e&&null===this.state)this.placements.banner.show(),this.units.banner.appear(),defer(i);else{if("dismissed"!=e||"default"!=this.state&&null!=this.state)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},BannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),BannerFormat.uber.destroy.apply(this)},BannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?void(this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root))\:void this.destroy()};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/0298cfc5/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/0298cfc5/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Phone';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new BannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:300,"height"\:250},"designTimeSize"\:{"width"\:300,"height"\:250},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	6.052335064212198e-05
%addEventListener:{HTMLBodyElement}="change":c	5.608211442446047e-05
{HTMLHtmlElement}:"onpagebeforechange"	5.608211442446047e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction BannerFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,this._tick=this._tick.bind(this),this.setup()}inherit(BannerFormat,Format),BannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when("ready").run(function(){this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify("unitPopulated")}.bind(this))}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node),this.adapter.setMinimumSize(this.units.banner.size.width,this.units.banner.size.height),t.show(),this.adapter.Ticker.frame(this._tick,"update"),i.updateRxState(t.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.viewabilityMeasurable.viewable00?(a="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify("placementViewable")}.bind(this)))\:a=!0,a&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name\:"viewable501",criterion\:e})})}.bind(this)),e.when("placementViewable").run(function(){e.pause(),this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this)),this.adapter.on("ready",e.notifies("ready"))},BannerFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),this.connectPlacementEventsToUnitBehavior(e,i);var n=i.getNode(function(){e.setMinimumSize(i.size.width,i.size.height),e.populate(n,t),a?e.setSize(i.size.width,i.size.height)\:e.setSize("100%","100%"),e.setPosition(0,0)}.bind(this))},BannerFormat.prototype.transitionTo=function(e,t,i){i||(i=noop);if("default"==e&&null===this.state)this.placements.banner.show(),this.units.banner.appear(),defer(i);else{if("dismissed"!=e||"default"!=this.state&&null!=this.state)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},BannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),BannerFormat.uber.destroy.apply(this)},BannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?void(this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root))\:void this.destroy()};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/28e639dc/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/28e639dc/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Tablet';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new BannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:90},"designTimeSize"\:{"width"\:728,"height"\:90},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	5.4948817336329215e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction CrossScreenFormat(t){Format.apply(this,arguments),t.adBehavior.attachInlinePlacementToViewport=!0}inherit(CrossScreenFormat,Format),CrossScreenFormat.extractBreakpoints=function(t){return t.widthBreakpoints},CrossScreenFormat.prototype.setupInlineWebPlacementContainer=function(t,e){var i=this.sticky&&"body"==t.tagName.toLowerCase();if("static"!=t.ownerDocument.defaultView.getComputedStyle(t).position||i||(t.style.position="relative"),this.adapter.nesting.iabFriendlyIframe&&"1"!==this.adapter.runtimeParams.preventIFrameBusting&&this.adapter.hideIABFriendlyIframe(),t.style.width="100%",t.style.height=this._getContainerHeight(e.minimumSize.height),!this.adapter.usePubCSS){if(e.lockedToVariant)return t.style.minWidth=e.lockedToVariant.baseSize.width+"px",void(t.style.minHeight=e.lockedToVariant.baseSize.height+"px");t.style.minWidth=t.clientWidth<=1?e.widthBreakpoints[0].width+"px"\:Math.min(t.offsetWidth,e.widthBreakpoints[0].width)+"px",0===t.offsetHeight?(this._setHeightFromMatchingBreakpoint=!0,t.style.minHeight=this._getMinHeightForFlexiblePlacement(t.offsetWidth,e))\:this._setHeightFromMatchingBreakpoint=!1}},CrossScreenFormat.prototype._getContainerHeight=function(t){if(!this.adapter.nesting.iabFriendlyIframe||"1"===this.adapter.runtimeParams.preventIFrameBusting)return"100%";var e=this.adapter.readIABIFrameHeight();return"px"===e.unit&&e.value>=t?e.toString()\:this.sticky?void 0\:"100%"},CrossScreenFormat.prototype._getMinHeightForFlexiblePlacement=function(t,e){var i;return this.uvOverrideSize?i=this.uvOverrideSize.height\:(e.variantSelector="widestThenShortest",i=e.usesUpdatedVariantSelection?e.getVariantForSize(t,this.adapter.getTopWindow().innerHeight).getComputedHeight(t)\:e.getMatchingBreakpoint(t).height),i+"px"},CrossScreenFormat.getVariantForSize=function(t,e,i){function r(t,e,i){function r(t,e,i){return e>=t.layouts[0].minSize.width&&i>=t.layouts[0].minSize.height?1\:0}function n(t,e,i){var r=t.layouts[0].minSize.width/t.layouts[0].minSize.height,n=e/i;return r>n?e/t.layouts[0].minSize.width\:i/t.layouts[0].minSize.height}function a(t,e,i){var r=n(t,e,i);return t.layouts[0].minSize.width*t.layouts[0].minSize.height*r*r/(e*i)}function o(t,e,i){return r(t,e,i)*a(t,e,i)/n(t,e,i)}var s=t.map(function(t){return{variant\:t,rank\:o(t,e,i)}}).sort(function(t,e){return e.rank-t.rank});return s[0].variant}return t.getVariantForSize?t.getVariantForSize(e,i)\:r(t.variants,e,i)};;\x0afunction CrossScreenBannerFormat(e){CrossScreenFormat.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,e.adBehavior.adWillHideIframe=!0,e.adBehavior.canBeInterstitialPlacement=!0,e.adBehavior.crossScreenSticky=this.sticky="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky,this._placementSize=new StateObject({width\:0,height\:0,minHeight\:0}),this._update=this._update.bind(this),this._render=this._render.bind(this),this.thumbnailMode="thumb"==this.adapter.runtimeParams.purpose,this.thumbnailMode?this.setupThumbnail()\:this.setup()}inherit(CrossScreenBannerFormat,CrossScreenFormat),CrossScreenBannerFormat.prototype.setup=function(){this.setupViewableTimeObserver(),this.adapter.on("ready",function(){this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this))},CrossScreenBannerFormat.prototype.setupThumbnail=function(){this.adapter.on("ready",function(){this.transitionTo("default")}.bind(this))},CrossScreenBannerFormat.prototype.populateBanner=function(e,t){var i=this.units.banner=e.creative.units.banner;i.swipeable=!0,this.adapter.isRxAvailable&&i.createRxState(),this.sticky&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),i.firstAppearWithoutUserInteraction=!0,this.connectPlacementEventsToUnitBehavior(e,i);var a=i.getNode(function(){e.populate(a,t)}.bind(this)),r=e.creative,n=r.secure?r.staticUrl\:r.insecureStaticUrl;"function"==typeof AppleNewsBadge&&(new AppleNewsBadge).createAppleNewsBadge(a,n,function(e){this.adapter.showMessage(e)}.bind(this))},CrossScreenBannerFormat.prototype.transitionTo=function(e,t){if(t||(t=noop),null===this.state&&"default"==e)this._transitionFromNullToDefault(t);else{if("default"!=this.state&&null!==this.state||"dismissed"!=e)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},CrossScreenBannerFormat.prototype._transitionFromNullToDefault=function(e){this._ensureBannerPlacement(function(t){t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(t.root),this._triggerAppearAfterViewable(t,this.units.banner),this.start(),e()}.bind(this))},CrossScreenBannerFormat.prototype._ensureBannerPlacement=function(e){this.placements.banner?defer(function(){e(this.placements.banner)}.bind(this))\:this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:this.sticky?"static"\:"container",type\:"unit"}},function(){var t=this.placements.banner,i=t.creative.units.banner;if(t.applyCustomPubClasses(),this.adapter.usePubCSS=t.usePubClasses(),t.addClasses("celtra-banner"),this.adapter.runtimeParams.creativeVariantLockSize&&i.lockVariantSelectionToSize(this.adapter.runtimeParams.creativeVariantLockSize),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.isInlineWebPlacement&&this.setupInlineWebPlacementContainer(t.root.parentNode,i),this.sticky&&!this.adapter.usePubCSS){i.variantSelector="widestThenShortest";var a=t.root.parentNode.offsetWidth,r=i.getVariantForSize(a,i.getLargestComputedHeight(a));t.setSize("100%",r.getComputedHeight(a))}else this.adapter.isPreviewAdapter&&(i.variantSelector="fittingWidestThenTallest"),t.setSize("100%","100%");t.setPosition(0,0),t.show();var n=t.getPlacementGeometry();i.setAvailableSize(n.width,n.height),this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(i),i.enterRenderTree(),e(t)}.bind(this))}.bind(this))},CrossScreenBannerFormat.prototype._triggerAppearAfterViewable=function(e,t){this.adapter.viewabilityMeasurable.viewable00?this.adapter.waitForViewableCore(e,t.node,function(i){e.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),t.appear()}.bind(this))\:defer(function(){t.appear()},void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(e,t.node,function(t){e.creative.track({name\:"viewable501",criterion\:t})})},CrossScreenBannerFormat.prototype.destroy=function(){this.stop(),CrossScreenBannerFormat.uber.destroy.apply(this)},CrossScreenBannerFormat.prototype.start=function(){this.adapter.Ticker.frame(this._update,"update"),this.adapter.Ticker.frame(this._render,"render")},CrossScreenBannerFormat.prototype.stop=function(){this.adapter.Ticker.removeFrame(this._update,"update"),this.adapter.Ticker.removeFrame(this._render,"render")},CrossScreenBannerFormat.prototype._update=function(){if(this.units.banner){var e=this.units.banner;if(e.updateRxState(this.placements.banner.root),this.adapter.usePubCSS){var t=this.placements.banner.root;return this._placementSize.width=t.offsetWidth,void(this._placementSize.height=t.offsetHeight)}var i,a=this.placements.banner.root.parentNode,r=a.offsetWidth,n=a.offsetHeight,s=this._placementSize.minHeight;if(i=e.usesUpdatedVariantSelection?this.placements.banner.getViewportGeometry().height\:e.getLargestComputedHeight(r),this.sticky){e.variantSelector="widestThenShortest";var o=e.getVariantForSize(r,i);n=s=o.getComputedHeight(r)}else if(this.adapter.isPreviewAdapter){e.variantSelector="fittingWidestThenTallest";var h=a.parentNode.style.height;h="string"==typeof h&&h.length?parseInt(h)\:i;var o=e.getVariantForSize(r,h);s=o.getComputedHeight(r)}else if(this.adapter.isInlineWebPlacement&&(this._setHeightFromMatchingBreakpoint||0===a.offsetHeight)){e.variantSelector="widestThenShortest";var o=e.getVariantForSize(r,i);s=o.getComputedHeight(r),n=Math.max(s,n),this._setHeightFromMatchingBreakpoint||(this._setHeightFromMatchingBreakpoint=!0)}else if(e.getVariantForSize(r,n).scaleUnit){e.variantSelector=null,i=a.offsetHeight;var o=e.getVariantForSize(r,i);s=n=Math.min(o.getComputedHeight(r),i)}this._placementSize.width=r,this._placementSize.height=n,this._placementSize.minHeight=s}},CrossScreenBannerFormat.prototype._render=function(){if(this._placementSize.isDirty()){var e=this.placements.banner;if(!this.adapter.usePubCSS){if(this.adapter.isInlineWebPlacement&&this._placementSize.isDirty("minHeight")){var t=e.root.parentNode;t.style.minHeight=this._placementSize.minHeight+"px"}this.sticky&&e.enableDocumentPadding()}e.setSize(this._placementSize.width,this._placementSize.height),this._placementSize.markClean()}};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/5efd2d4d/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/5efd2d4d/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Any';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new CrossScreenBannerFormat(adapter, {"banner"\:{"size"\:null,"variants"\:[{"backgroundColor"\:"rgba(236,236,236,1)","layouts"\:[{"minSize"\:{"width"\:1000,"height"\:400}}]},{"backgroundColor"\:"rgba(236,236,236,1)","layouts"\:[{"minSize"\:{"width"\:600,"height"\:400}}]},{"backgroundColor"\:"rgba(236,236,236,1)","layouts"\:[{"minSize"\:{"width"\:320,"height"\:400}}]}]}});\x0a            perfFormatNew.end();\x0a        "	5.201276806320098e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction BannerFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,this._tick=this._tick.bind(this),this.setup()}inherit(BannerFormat,Format),BannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when("ready").run(function(){this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify("unitPopulated")}.bind(this))}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node),this.adapter.setMinimumSize(this.units.banner.size.width,this.units.banner.size.height),t.show(),this.adapter.Ticker.frame(this._tick,"update"),i.updateRxState(t.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.viewabilityMeasurable.viewable00?(a="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify("placementViewable")}.bind(this)))\:a=!0,a&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name\:"viewable501",criterion\:e})})}.bind(this)),e.when("placementViewable").run(function(){e.pause(),this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this)),this.adapter.on("ready",e.notifies("ready"))},BannerFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),this.connectPlacementEventsToUnitBehavior(e,i);var n=i.getNode(function(){e.setMinimumSize(i.size.width,i.size.height),e.populate(n,t),a?e.setSize(i.size.width,i.size.height)\:e.setSize("100%","100%"),e.setPosition(0,0)}.bind(this))},BannerFormat.prototype.transitionTo=function(e,t,i){i||(i=noop);if("default"==e&&null===this.state)this.placements.banner.show(),this.units.banner.appear(),defer(i);else{if("dismissed"!=e||"default"!=this.state&&null!=this.state)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},BannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),BannerFormat.uber.destroy.apply(this)},BannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?void(this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root))\:void this.destroy()};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/0a7bd555/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/0a7bd555/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Phone';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new BannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:300,"height"\:250},"designTimeSize"\:{"width"\:300,"height"\:250},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	4.599102879190948e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction BannerFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,this._tick=this._tick.bind(this),this.setup()}inherit(BannerFormat,Format),BannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when("ready").run(function(){this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify("unitPopulated")}.bind(this))}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node),this.adapter.setMinimumSize(this.units.banner.size.width,this.units.banner.size.height),t.show(),this.adapter.Ticker.frame(this._tick,"update"),i.updateRxState(t.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.viewabilityMeasurable.viewable00?(a="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify("placementViewable")}.bind(this)))\:a=!0,a&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name\:"viewable501",criterion\:e})})}.bind(this)),e.when("placementViewable").run(function(){e.pause(),this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this)),this.adapter.on("ready",e.notifies("ready"))},BannerFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),this.connectPlacementEventsToUnitBehavior(e,i);var n=i.getNode(function(){e.setMinimumSize(i.size.width,i.size.height),e.populate(n,t),a?e.setSize(i.size.width,i.size.height)\:e.setSize("100%","100%"),e.setPosition(0,0)}.bind(this))},BannerFormat.prototype.transitionTo=function(e,t,i){i||(i=noop);if("default"==e&&null===this.state)this.placements.banner.show(),this.units.banner.appear(),defer(i);else{if("dismissed"!=e||"default"!=this.state&&null!=this.state)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},BannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),BannerFormat.uber.destroy.apply(this)},BannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?void(this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root))\:void this.destroy()};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/44b0a593/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/44b0a593/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Desktop';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new BannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:970,"height"\:250},"designTimeSize"\:{"width"\:970,"height"\:250},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	4.1412782346858625e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction BannerFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,this._tick=this._tick.bind(this),this.setup()}inherit(BannerFormat,Format),BannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when("ready").run(function(){this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify("unitPopulated")}.bind(this))}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node),this.adapter.setMinimumSize(this.units.banner.size.width,this.units.banner.size.height),t.show(),this.adapter.Ticker.frame(this._tick,"update"),i.updateRxState(t.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.viewabilityMeasurable.viewable00?(a="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify("placementViewable")}.bind(this)))\:a=!0,a&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name\:"viewable501",criterion\:e})})}.bind(this)),e.when("placementViewable").run(function(){e.pause(),this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this)),this.adapter.on("ready",e.notifies("ready"))},BannerFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),this.connectPlacementEventsToUnitBehavior(e,i);var n=i.getNode(function(){e.setMinimumSize(i.size.width,i.size.height),e.populate(n,t),a?e.setSize(i.size.width,i.size.height)\:e.setSize("100%","100%"),e.setPosition(0,0)}.bind(this))},BannerFormat.prototype.transitionTo=function(e,t,i){i||(i=noop);if("default"==e&&null===this.state)this.placements.banner.show(),this.units.banner.appear(),defer(i);else{if("dismissed"!=e||"default"!=this.state&&null!=this.state)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},BannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),BannerFormat.uber.destroy.apply(this)},BannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?void(this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root))\:void this.destroy()};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/990550ac/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/990550ac/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Phone';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new BannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:300,"height"\:250},"designTimeSize"\:{"width"\:300,"height"\:250},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	3.77722984222938e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction ExpandableBannerFormat(t,e){Format.apply(this,arguments),this._expansionAlignment=this.adapter.runtimeParams.expandDirection?this.getExpansionAlignment(this.adapter.runtimeParams.expandDirection)\:null,this._useInPlaceExpand="SafeFrameAdapter"!=this.adapter.constructor.name&&null!==this._expansionAlignment,this._modalAttachment="inline"===this.adapter.runtimeParams._modalAttachment?"inline"\:"body",this._modalPositioning="screen",this._useInPlaceExpand&&(this._modalPositioning="inline"===this._modalAttachment?"container"\:"page"),this._modalPlacementReq={attachment\:this._modalAttachment,positioning\:this._modalPositioning,type\:"unit"},t.adBehavior.interstitial=!1,t.adBehavior.expandable=!0,t.adBehavior.expanded=!e.banner,t.restoreScrollOnCollapse=!this._useInPlaceExpand,this._tick=this._tick.bind(this),this.setup()}inherit(ExpandableBannerFormat,Format),ExpandableBannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var t=this.adapter.adBehavior.expanded,e=new TaskScheduler;e.when("ready").run(function(){var i={banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}};t&&(i.modal=this._modalPlacementReq),this.adapter.createPlacements(i,function(){if(t){var i=this.placements.modal;this.populateModal(i,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(i.creative.units.modal),e.notify("unitPopulated")}.bind(this))}else{var a=this.placements.banner;this.populateBanner(a,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(a.creative.units.banner),e.notify("unitPopulated"),a.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node)}.bind(this))}}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var i=t?this.placements.modal\:this.placements.banner,a=t?i.creative.units.modal\:i.creative.units.banner;if(this.adapter.setMinimumSize(a.size.width,a.size.height),i.show(),this.adapter.Ticker.frame(this._tick,"update"),!this.adapter.isRxAvailable||t&&!this._useInPlaceExpand||a.updateRxState(i.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(i),i===this.placements.banner){var n=!1;this.adapter.viewabilityMeasurable.viewable00?(n="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(i,a.node,function(t){i.creative.track({name\:"viewable00",criterion\:t}),this.adViewableTimeObserver&&(this.adViewableTimeObserver.readyToShow(),this.adapter.runtimeParams.continueMeasuringViewableTimeWhenExpanded=1),n||e.notify("placementViewable")}.bind(this)),n&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap))\:defer(e.notifies("placementViewable")),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(i,a.node,function(t){i.creative.track({name\:"viewable501",criterion\:t})})}else adapter.runtimeParams.continueMeasuringViewableTimeWhenExpanded&&this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),defer(e.notifies("placementViewable"))}.bind(this)),e.when("placementViewable").run(function(){this.emit("firstPlacementViewable");var i=t?"modal"\:"banner";this.units[i]=this.placements[i].creative.units[i],e.pause(),this.adapter.on("stateChange",function(t){this.transitionTo(t)}.bind(this)),this.transitionTo(t?"expanded"\:"default")}.bind(this)),this.adapter.on("ready",e.notifies("ready")),this.adapter.hook("beforeExpand",function(t){this.adapter.createPlacements({modal\:this._modalPlacementReq},function(){var e=this.placements.modal.creative.units.modal,i=e.orientation;if("both"!==i&&("portrait"===i||"landscape"===i)&&this.adapter.setOrientationLock(i),this.animateExpansion=this.adapter.animateExpansion&&!android("2"),!this.animateExpansion&&!this.adapter.multiDocumentExpand){this._beforeExpandModalGeometry=this._getModalPlacementGeometry();var a=this.placements.banner;a.hide(),this.adapter.listenForExpandErrors(function(){a.show()})}t()}.bind(this))}.bind(this)),this.adapter.hook("beforeCollapse",this.beforeCollapseHook.bind(this))},ExpandableBannerFormat.prototype.beforeCollapseHook=function(t){this.placements.modal.hide(),t&&t()},ExpandableBannerFormat.prototype.populateBanner=function(t,e){var i=this.units.banner=t.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(t.isSticky=!0),this._attachInViewToOrderedPlacements(i,t),this.connectPlacementEventsToUnitBehavior(t,i);var n=i.getNode(function(){t.setMinimumSize(i.size.width,i.size.height),t.populate(n,e),a?t.setSize(i.size.width,i.size.height)\:t.setSize("100%","100%"),t.setPosition(0,0)}.bind(this))},ExpandableBannerFormat.prototype.populateModal=function(t,e){var i=this.units.modal=t.creative.units.modal;i.swipeable=!1,i.showCloseButton=!this.adapter.providesCloseButton,i.fillsContainer=!0,i.usePlaceboBar=i.loadingScreen&&"undefined"!=typeof i.loadingScreen.loaderVisible?i.loadingScreen.loaderVisible\:!0,i.closeAction=i.collapseAction,i.parentPlacement=this.placements.modal,addClass(t.root,"celtra-expanded-ad"),this.adapter.isRxAvailable&&this._useInPlaceExpand&&i.createRxState(),this._attachInViewToOrderedPlacements(i,t),this.connectPlacementEventsToUnitBehavior(t,i);var a=i.getNode(function(){t.usesFixedPositioning=deviceInfo.deviceType.desktop()&&!this._useInPlaceExpand,t.populate(a,e),t.setZIndex(-4),t.setSize("100%","100%"),t.setPosition(0,0),t.setBackground(t.creative.units.modal.backgroundColor)}.bind(this)),n=i.orientation;"both"!==n&&(this.adapter.setOrientationLock(n)||"portrait"!==n&&"landscape"!==n||i.enableWrongOrientationPrompt())},ExpandableBannerFormat.prototype.populateGraphics=function(t,e){this.expansionDiv=t.createElement("div"),this.expansionDiv.style.cssText="position\:absolute;left\:0;top\:0",t.root.style.overflow="visible",t.populate(this.expansionDiv,e)},ExpandableBannerFormat.prototype.transitionTo=function(t,e,i){e||(e={}),i||(i=noop);var a=function(){this.emit("stateChange"),i()}.bind(this);if(null==this.state&&"default"==t)defer(function(){this.units.banner.appear(),defer(a)}.bind(this),void 0,void 0,this.adapter.useAsap);else if("default"==this.state&&"expanded"==t){var n={};this.animateExpansion&&(n.graphics={attachment\:this._modalAttachment,positioning\:this._modalPositioning,type\:"layer"}),this.adapter.createPlacements(n,function(){var t=new TaskScheduler,e=["modalPopulated"];this.animateExpansion&&(e=e.concat("graphicsPopulated","expansionAnimationEnded"),t.when("graphicsPopulated").run(function(){this.placements.graphics.show(),this.startExpansionAnimation(t.notifies("expansionAnimationEnded"))}.bind(this))),t.when("start").run(function(){var e=this.placements.modal;this.populateModal(e,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(e.creative.units.modal),t.notify("modalPopulated")}.bind(this)),this.animateExpansion&&this.populateGraphics(this.placements.graphics,t.notifies("graphicsPopulated"))}.bind(this)),t.when(e).run(function(){var t=this.placements.banner,e=this.placements.modal,i=t.creative.units.banner,n=e.creative.units.modal;if(i.disappear(),!this.animateExpansion){if(this._useInPlaceExpand){var s=this._beforeExpandModalGeometry||this._getModalPlacementGeometry();e.setSize(n.size.width,n.size.height),e.setPosition(s.left,s.top)}e.show()}defer(function(){n.appear(),this.adapter.startObscuringContent(),null!=n.currentScreen&&n.currentScreen.findAll().forEach(function(t){"[Clazz Video]"==t.constructor.toString()&&t._videoElement&&(t.handleNodeRemoved(),t.handleNodeInserted())}),defer(a)}.bind(this))}.bind(this)),t.notify("start")}.bind(this))}else if("default"!=this.state&&"expanded"!=this.state||"dismissed"!=t)if("expanded"==this.state&&"default"==t)this.adapter.stopObscuringContent(),this.placements.modal.hide(),this.units.modal.disappear(),this.animateExpansion||this.adapter.multiDocumentExpand||this.placements.banner.show(),this.units.banner.appear(),defer(a);else if(null==this.state&&"expanded"==t)this.adapter.startObscuringContent(),defer(function(){this.units.modal.appear(),defer(a)}.bind(this));else{if(null!=this.state||"dismissed"!=t)throw new Error("Invalid state transition request! ("+this.state+" => "+t+")");this.destroy()}else this.adapter.stopObscuringContent(),this.destroy(),defer(a);this.state=t},ExpandableBannerFormat.prototype._isValidExpandDirection=function(t){return/^(auto|(left|right|up|down)(,(left|right|up|down))?)$/g.test(t)},ExpandableBannerFormat.prototype.getExpansionAlignment=function(t){if(!this._isValidExpandDirection(t))return null;if("auto"===t)return{horizontal\:"auto",vertical\:"auto"};for(var e={horizontal\:"center",vertical\:"center"},i=t.split(","),a=0;a<i.length;a++)switch(i[a]){case"left"\:e.horizontal="right";break;case"right"\:e.horizontal="left";break;case"up"\:e.vertical="bottom";break;case"down"\:e.vertical="top"}return e},ExpandableBannerFormat.prototype._getModalBannerOffsets=function(t,e){function i(i){return"center"==i?Math.round((e.width-t.width)/2)\:"right"==i?e.width-t.width\:0}function a(i){return"center"==i?Math.round((e.height-t.height)/2)\:"bottom"==i?e.height-t.height\:0}var n={left\:0,top\:0},s=this.placements.modal.getViewportGeometry(),o={x\:s.width/2,y\:s.height/2},r=null;return null===this._expansionAlignment?n\:("auto"==this._expansionAlignment.horizontal?(r=[{alignment\:"left",dist\:Math.abs(e.left+t.width/2-o.x)},{alignment\:"center",dist\:Math.abs(e.left+e.width/2-o.x)},{alignment\:"right",dist\:Math.abs(e.left+e.width-t.width/2-o.x)}].sort(function(t,e){return t.dist-e.dist}),n.left=i(r[0].alignment))\:n.left=i(this._expansionAlignment.horizontal),"auto"==this._expansionAlignment.vertical?(r=[{alignment\:"top",dist\:Math.abs(e.top+t.height/2-o.y)},{alignment\:"center",dist\:Math.abs(e.top+e.height/2-o.y)},{alignment\:"bottom",dist\:Math.abs(e.top+e.height-t.height/2-o.y)}].sort(function(t,e){return t.dist-e.dist}),n.top=a(r[0].alignment))\:n.top=a(this._expansionAlignment.vertical),n)},ExpandableBannerFormat.prototype._getModalPlacementGeometry=function(){var t,e,i=this.placements.modal.getViewportGeometry(),a=this.placements.banner.creative.units.banner,n=this.placements.modal.creative.units.modal,s={top\:0,left\:0,width\:i.width,height\:i.height};return this._useInPlaceExpand&&(s.width=n.size.width,s.height=n.size.height,"page"===this._modalPositioning?(t=this.placements.banner.getUnitGeometry(a),e=this._getModalBannerOffsets(s,t),s.top+=t.top+e.top+i.top,s.left+=t.left+e.left+i.left)\:(t=this.placements.banner.getRelativeUnitGeometry(a),e=this._getModalBannerOffsets(s,t),s.top+=e.top+t.top,s.left+=e.left+t.left)),s},ExpandableBannerFormat.prototype.startExpansionAnimation=function(t){var e,i,a,n,s=this.placements.banner,o=s.getUnitGeometry(s.creative.units.banner),r=this._getModalPlacementGeometry();this._useInPlaceExpand?(e=this._getModalBannerOffsets(r,o),i=r.top-e.top,a=r.left-e.left)\:(i=o.top,a=o.left),n=tmpl("Desktop"===this.placements.modal.creative.intendedDeviceType&&celtra.styler.isWebKit?"translate(<%= tx %>px, <%= ty %>px) scale3d(<%= sx %>, <%= sy %>, 1)"\:"translate(<%= tx %>px, <%= ty %>px) scale(<%= sx %>, <%= sy %>)"),this.expansionDiv.style.position="absolute",this.expansionDiv.style.left=0,this.expansionDiv.style.top=0,this.expansionDiv.style.width=o.width+"px",this.expansionDiv.style.height=o.height+"px",this.expansionDiv.style.background=this.units.modal.backgroundColor,this.expansionDiv.style.opacity=.01,this.expansionDiv.style.transition="none",celtra.styler.css(this.expansionDiv,"transition","none"),celtra.styler.css(this.expansionDiv,"transformOrigin","0 0"),celtra.styler.css(this.expansionDiv,"transform",n({sx\:1,sy\:1,tx\:a,ty\:i})),this.placements.graphics.setSize("100%","100%"),this.placements.graphics.setPosition(0,0),this.placements.graphics.setZIndex(-3),this.placements.graphics.show();var l=new TaskScheduler;l.when("startExpandAnimation").run(function(){celtra.styler.css(this.expansionDiv,"transition","all 0.5s ease-out"),this.expansionDiv.style.opacity=1,once(this.expansionDiv,"transitionend",l.notifies("fadeInCompleted"))}.bind(this)),l.when("fadeInCompleted").run(function(){celtra.styler.css(this.expansionDiv,"transform",n({sx\:r.width/o.width,sy\:r.height/o.height,tx\:r.left,ty\:r.top})),once(this.expansionDiv,"transitionend",l.notifies("stretched"))}.bind(this)),l.when("stretched").run(function(){celtra.styler.css(this.expansionDiv,"transition","none"),defer(function(){l.notify("modalReadyToShow")}.bind(this))}.bind(this)),l.when("modalReadyToShow").run(function(){var e=this.placements.modal;this._useInPlaceExpand?(e.setSize(this.units.modal.size.width,this.units.modal.size.height),e.setPosition(r.left,r.top))\:(e.setSize("100%","100%"),e.setPosition(0,0)),e.show(),this.adapter.destroyPlacement("graphics"),t&&t()}.bind(this)),defer(l.notifies("startExpandAnimation"))},ExpandableBannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),ExpandableBannerFormat.uber.destroy.apply(this)},ExpandableBannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?(this.units.banner&&this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root),void(this.units.modal&&this.placements.modal&&this.placements.modal._visible&&this._useInPlaceExpand&&this.units.modal.updateRxState(this.placements.modal.root)))\:void this.destroy()},ExpandableBannerFormat.prototype._goToUnit=function(t,e){if(e=e||noop,"default"===this.state){var i=this.placements.banner.creative.units.banner,a=this.placements.banner.creative.units.modal.localId;i.localId===t?defer(function(){e(i)})\:a===t&&(this.once("stateChange",function(){e(this.placements.modal.creative.units.modal)}.bind(this)),this.adapter.expand(noop,{animation\:!1}))}else if("expanded"===this.state){var n=this.placements.modal.creative.units.modal,s=this.placements.modal.creative.units.banner.localId;n.localId===t?defer(function(){e(n)})\:s===t&&this.adapter.collapse(deferred(function(){e(this.placements.banner.creative.units.banner)}.bind(this)))}};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/8990b4a8/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/8990b4a8/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Desktop';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new ExpandableBannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:90},"designTimeSize"\:{"width"\:728,"height"\:90},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]},"modal"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:290},"designTimeSize"\:{"width"\:728,"height"\:290},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	3.478636072321008e-05
{Window}:"addEventListener"	3.362037498456979e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction ExpandableBannerFormat(t,e){Format.apply(this,arguments),this._expansionAlignment=this.adapter.runtimeParams.expandDirection?this.getExpansionAlignment(this.adapter.runtimeParams.expandDirection)\:null,this._useInPlaceExpand="SafeFrameAdapter"!=this.adapter.constructor.name&&null!==this._expansionAlignment,this._modalAttachment="inline"===this.adapter.runtimeParams._modalAttachment?"inline"\:"body",this._modalPositioning="screen",this._useInPlaceExpand&&(this._modalPositioning="inline"===this._modalAttachment?"container"\:"page"),this._modalPlacementReq={attachment\:this._modalAttachment,positioning\:this._modalPositioning,type\:"unit"},t.adBehavior.interstitial=!1,t.adBehavior.expandable=!0,t.adBehavior.expanded=!e.banner,t.restoreScrollOnCollapse=!this._useInPlaceExpand,this._tick=this._tick.bind(this),this.setup()}inherit(ExpandableBannerFormat,Format),ExpandableBannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var t=this.adapter.adBehavior.expanded,e=new TaskScheduler;e.when("ready").run(function(){var i={banner\:{attachment\:"inline",positioning\:"static",type\:"unit"}};t&&(i.modal=this._modalPlacementReq),this.adapter.createPlacements(i,function(){if(t){var i=this.placements.modal;this.populateModal(i,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(i.creative.units.modal),e.notify("unitPopulated")}.bind(this))}else{var a=this.placements.banner;this.populateBanner(a,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(a.creative.units.banner),e.notify("unitPopulated"),a.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(this.units.banner.node)}.bind(this))}}.bind(this))}.bind(this)),e.when("unitPopulated").run(function(){var i=t?this.placements.modal\:this.placements.banner,a=t?i.creative.units.modal\:i.creative.units.banner;if(this.adapter.setMinimumSize(a.size.width,a.size.height),i.show(),this.adapter.Ticker.frame(this._tick,"update"),!this.adapter.isRxAvailable||t&&!this._useInPlaceExpand||a.updateRxState(i.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(i),i===this.placements.banner){var n=!1;this.adapter.viewabilityMeasurable.viewable00?(n="1"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(i,a.node,function(t){i.creative.track({name\:"viewable00",criterion\:t}),this.adViewableTimeObserver&&(this.adViewableTimeObserver.readyToShow(),this.adapter.runtimeParams.continueMeasuringViewableTimeWhenExpanded=1),n||e.notify("placementViewable")}.bind(this)),n&&defer(e.notifies("placementViewable"),void 0,void 0,this.adapter.useAsap))\:defer(e.notifies("placementViewable")),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(i,a.node,function(t){i.creative.track({name\:"viewable501",criterion\:t})})}else adapter.runtimeParams.continueMeasuringViewableTimeWhenExpanded&&this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),defer(e.notifies("placementViewable"))}.bind(this)),e.when("placementViewable").run(function(){this.emit("firstPlacementViewable");var i=t?"modal"\:"banner";this.units[i]=this.placements[i].creative.units[i],e.pause(),this.adapter.on("stateChange",function(t){this.transitionTo(t)}.bind(this)),this.transitionTo(t?"expanded"\:"default")}.bind(this)),this.adapter.on("ready",e.notifies("ready")),this.adapter.hook("beforeExpand",function(t){this.adapter.createPlacements({modal\:this._modalPlacementReq},function(){var e=this.placements.modal.creative.units.modal,i=e.orientation;if("both"!==i&&("portrait"===i||"landscape"===i)&&this.adapter.setOrientationLock(i),this.animateExpansion=this.adapter.animateExpansion&&!android("2"),!this.animateExpansion&&!this.adapter.multiDocumentExpand){this._beforeExpandModalGeometry=this._getModalPlacementGeometry();var a=this.placements.banner;a.hide(),this.adapter.listenForExpandErrors(function(){a.show()})}t()}.bind(this))}.bind(this)),this.adapter.hook("beforeCollapse",this.beforeCollapseHook.bind(this))},ExpandableBannerFormat.prototype.beforeCollapseHook=function(t){this.placements.modal.hide(),t&&t()},ExpandableBannerFormat.prototype.populateBanner=function(t,e){var i=this.units.banner=t.creative.units.banner,a="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(t.isSticky=!0),this._attachInViewToOrderedPlacements(i,t),this.connectPlacementEventsToUnitBehavior(t,i);var n=i.getNode(function(){t.setMinimumSize(i.size.width,i.size.height),t.populate(n,e),a?t.setSize(i.size.width,i.size.height)\:t.setSize("100%","100%"),t.setPosition(0,0)}.bind(this))},ExpandableBannerFormat.prototype.populateModal=function(t,e){var i=this.units.modal=t.creative.units.modal;i.swipeable=!1,i.showCloseButton=!this.adapter.providesCloseButton,i.fillsContainer=!0,i.usePlaceboBar=i.loadingScreen&&"undefined"!=typeof i.loadingScreen.loaderVisible?i.loadingScreen.loaderVisible\:!0,i.closeAction=i.collapseAction,i.parentPlacement=this.placements.modal,addClass(t.root,"celtra-expanded-ad"),this.adapter.isRxAvailable&&this._useInPlaceExpand&&i.createRxState(),this._attachInViewToOrderedPlacements(i,t),this.connectPlacementEventsToUnitBehavior(t,i);var a=i.getNode(function(){t.usesFixedPositioning=deviceInfo.deviceType.desktop()&&!this._useInPlaceExpand,t.populate(a,e),t.setZIndex(-4),t.setSize("100%","100%"),t.setPosition(0,0),t.setBackground(t.creative.units.modal.backgroundColor)}.bind(this)),n=i.orientation;"both"!==n&&(this.adapter.setOrientationLock(n)||"portrait"!==n&&"landscape"!==n||i.enableWrongOrientationPrompt())},ExpandableBannerFormat.prototype.populateGraphics=function(t,e){this.expansionDiv=t.createElement("div"),this.expansionDiv.style.cssText="position\:absolute;left\:0;top\:0",t.root.style.overflow="visible",t.populate(this.expansionDiv,e)},ExpandableBannerFormat.prototype.transitionTo=function(t,e,i){e||(e={}),i||(i=noop);var a=function(){this.emit("stateChange"),i()}.bind(this);if(null==this.state&&"default"==t)defer(function(){this.units.banner.appear(),defer(a)}.bind(this),void 0,void 0,this.adapter.useAsap);else if("default"==this.state&&"expanded"==t){var n={};this.animateExpansion&&(n.graphics={attachment\:this._modalAttachment,positioning\:this._modalPositioning,type\:"layer"}),this.adapter.createPlacements(n,function(){var t=new TaskScheduler,e=["modalPopulated"];this.animateExpansion&&(e=e.concat("graphicsPopulated","expansionAnimationEnded"),t.when("graphicsPopulated").run(function(){this.placements.graphics.show(),this.startExpansionAnimation(t.notifies("expansionAnimationEnded"))}.bind(this))),t.when("start").run(function(){var e=this.placements.modal;this.populateModal(e,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(e.creative.units.modal),t.notify("modalPopulated")}.bind(this)),this.animateExpansion&&this.populateGraphics(this.placements.graphics,t.notifies("graphicsPopulated"))}.bind(this)),t.when(e).run(function(){var t=this.placements.banner,e=this.placements.modal,i=t.creative.units.banner,n=e.creative.units.modal;if(i.disappear(),!this.animateExpansion){if(this._useInPlaceExpand){var s=this._beforeExpandModalGeometry||this._getModalPlacementGeometry();e.setSize(n.size.width,n.size.height),e.setPosition(s.left,s.top)}e.show()}defer(function(){n.appear(),this.adapter.startObscuringContent(),null!=n.currentScreen&&n.currentScreen.findAll().forEach(function(t){"[Clazz Video]"==t.constructor.toString()&&t._videoElement&&(t.handleNodeRemoved(),t.handleNodeInserted())}),defer(a)}.bind(this))}.bind(this)),t.notify("start")}.bind(this))}else if("default"!=this.state&&"expanded"!=this.state||"dismissed"!=t)if("expanded"==this.state&&"default"==t)this.adapter.stopObscuringContent(),this.placements.modal.hide(),this.units.modal.disappear(),this.animateExpansion||this.adapter.multiDocumentExpand||this.placements.banner.show(),this.units.banner.appear(),defer(a);else if(null==this.state&&"expanded"==t)this.adapter.startObscuringContent(),defer(function(){this.units.modal.appear(),defer(a)}.bind(this));else{if(null!=this.state||"dismissed"!=t)throw new Error("Invalid state transition request! ("+this.state+" => "+t+")");this.destroy()}else this.adapter.stopObscuringContent(),this.destroy(),defer(a);this.state=t},ExpandableBannerFormat.prototype._isValidExpandDirection=function(t){return/^(auto|(left|right|up|down)(,(left|right|up|down))?)$/g.test(t)},ExpandableBannerFormat.prototype.getExpansionAlignment=function(t){if(!this._isValidExpandDirection(t))return null;if("auto"===t)return{horizontal\:"auto",vertical\:"auto"};for(var e={horizontal\:"center",vertical\:"center"},i=t.split(","),a=0;a<i.length;a++)switch(i[a]){case"left"\:e.horizontal="right";break;case"right"\:e.horizontal="left";break;case"up"\:e.vertical="bottom";break;case"down"\:e.vertical="top"}return e},ExpandableBannerFormat.prototype._getModalBannerOffsets=function(t,e){function i(i){return"center"==i?Math.round((e.width-t.width)/2)\:"right"==i?e.width-t.width\:0}function a(i){return"center"==i?Math.round((e.height-t.height)/2)\:"bottom"==i?e.height-t.height\:0}var n={left\:0,top\:0},s=this.placements.modal.getViewportGeometry(),o={x\:s.width/2,y\:s.height/2},r=null;return null===this._expansionAlignment?n\:("auto"==this._expansionAlignment.horizontal?(r=[{alignment\:"left",dist\:Math.abs(e.left+t.width/2-o.x)},{alignment\:"center",dist\:Math.abs(e.left+e.width/2-o.x)},{alignment\:"right",dist\:Math.abs(e.left+e.width-t.width/2-o.x)}].sort(function(t,e){return t.dist-e.dist}),n.left=i(r[0].alignment))\:n.left=i(this._expansionAlignment.horizontal),"auto"==this._expansionAlignment.vertical?(r=[{alignment\:"top",dist\:Math.abs(e.top+t.height/2-o.y)},{alignment\:"center",dist\:Math.abs(e.top+e.height/2-o.y)},{alignment\:"bottom",dist\:Math.abs(e.top+e.height-t.height/2-o.y)}].sort(function(t,e){return t.dist-e.dist}),n.top=a(r[0].alignment))\:n.top=a(this._expansionAlignment.vertical),n)},ExpandableBannerFormat.prototype._getModalPlacementGeometry=function(){var t,e,i=this.placements.modal.getViewportGeometry(),a=this.placements.banner.creative.units.banner,n=this.placements.modal.creative.units.modal,s={top\:0,left\:0,width\:i.width,height\:i.height};return this._useInPlaceExpand&&(s.width=n.size.width,s.height=n.size.height,"page"===this._modalPositioning?(t=this.placements.banner.getUnitGeometry(a),e=this._getModalBannerOffsets(s,t),s.top+=t.top+e.top+i.top,s.left+=t.left+e.left+i.left)\:(t=this.placements.banner.getRelativeUnitGeometry(a),e=this._getModalBannerOffsets(s,t),s.top+=e.top+t.top,s.left+=e.left+t.left)),s},ExpandableBannerFormat.prototype.startExpansionAnimation=function(t){var e,i,a,n,s=this.placements.banner,o=s.getUnitGeometry(s.creative.units.banner),r=this._getModalPlacementGeometry();this._useInPlaceExpand?(e=this._getModalBannerOffsets(r,o),i=r.top-e.top,a=r.left-e.left)\:(i=o.top,a=o.left),n=tmpl("Desktop"===this.placements.modal.creative.intendedDeviceType&&celtra.styler.isWebKit?"translate(<%= tx %>px, <%= ty %>px) scale3d(<%= sx %>, <%= sy %>, 1)"\:"translate(<%= tx %>px, <%= ty %>px) scale(<%= sx %>, <%= sy %>)"),this.expansionDiv.style.position="absolute",this.expansionDiv.style.left=0,this.expansionDiv.style.top=0,this.expansionDiv.style.width=o.width+"px",this.expansionDiv.style.height=o.height+"px",this.expansionDiv.style.background=this.units.modal.backgroundColor,this.expansionDiv.style.opacity=.01,this.expansionDiv.style.transition="none",celtra.styler.css(this.expansionDiv,"transition","none"),celtra.styler.css(this.expansionDiv,"transformOrigin","0 0"),celtra.styler.css(this.expansionDiv,"transform",n({sx\:1,sy\:1,tx\:a,ty\:i})),this.placements.graphics.setSize("100%","100%"),this.placements.graphics.setPosition(0,0),this.placements.graphics.setZIndex(-3),this.placements.graphics.show();var l=new TaskScheduler;l.when("startExpandAnimation").run(function(){celtra.styler.css(this.expansionDiv,"transition","all 0.5s ease-out"),this.expansionDiv.style.opacity=1,once(this.expansionDiv,"transitionend",l.notifies("fadeInCompleted"))}.bind(this)),l.when("fadeInCompleted").run(function(){celtra.styler.css(this.expansionDiv,"transform",n({sx\:r.width/o.width,sy\:r.height/o.height,tx\:r.left,ty\:r.top})),once(this.expansionDiv,"transitionend",l.notifies("stretched"))}.bind(this)),l.when("stretched").run(function(){celtra.styler.css(this.expansionDiv,"transition","none"),defer(function(){l.notify("modalReadyToShow")}.bind(this))}.bind(this)),l.when("modalReadyToShow").run(function(){var e=this.placements.modal;this._useInPlaceExpand?(e.setSize(this.units.modal.size.width,this.units.modal.size.height),e.setPosition(r.left,r.top))\:(e.setSize("100%","100%"),e.setPosition(0,0)),e.show(),this.adapter.destroyPlacement("graphics"),t&&t()}.bind(this)),defer(l.notifies("startExpandAnimation"))},ExpandableBannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,"update"),ExpandableBannerFormat.uber.destroy.apply(this)},ExpandableBannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?(this.units.banner&&this.placements.banner._visible&&this.units.banner.updateRxState(this.placements.banner.root),void(this.units.modal&&this.placements.modal&&this.placements.modal._visible&&this._useInPlaceExpand&&this.units.modal.updateRxState(this.placements.modal.root)))\:void this.destroy()},ExpandableBannerFormat.prototype._goToUnit=function(t,e){if(e=e||noop,"default"===this.state){var i=this.placements.banner.creative.units.banner,a=this.placements.banner.creative.units.modal.localId;i.localId===t?defer(function(){e(i)})\:a===t&&(this.once("stateChange",function(){e(this.placements.modal.creative.units.modal)}.bind(this)),this.adapter.expand(noop,{animation\:!1}))}else if("expanded"===this.state){var n=this.placements.modal.creative.units.modal,s=this.placements.modal.creative.units.banner.localId;n.localId===t?defer(function(){e(n)})\:s===t&&this.adapter.collapse(deferred(function(){e(this.placements.banner.creative.units.banner)}.bind(this)))}};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/fa8885c9/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/fa8885c9/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Desktop';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new ExpandableBannerFormat(adapter, {"banner"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:90},"designTimeSize"\:{"width"\:728,"height"\:90},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]},"modal"\:{"size"\:null,"layouts"\:[{"orientation"\:"independent","minSize"\:{"width"\:0,"height"\:0},"unitSize"\:{"width"\:728,"height"\:315},"designTimeSize"\:{"width"\:728,"height"\:315},"unitAlignment"\:{"horizontal"\:"center","vertical"\:"center"}}]}});\x0a            perfFormatNew.end();\x0a        "	3.228065473244426e-05
?:{HTMLScriptElement}="function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber\:{get\:function(){return t.prototype},enumerable\:!1,configurable\:!1},uberConstructor\:{get\:function(){return t},enumerable\:!1,configurable\:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n])\:e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(""+e).length),r=(""+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){var t,n="(?\:[^\\"'>]|\\"[^\\"]*\\"|'[^']*')*",r=new RegExp("<(?\:!--(?\:(?\:-*[^->])*--+|-?)|script\\\\b"+n+">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b"+n+">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]"+n+")>","gi");do t=e,e=e.replace(r,"");while(e!==t);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\\s+|\\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0\:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0\:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return"ltr";if(isRTLChar(o))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if("undefined"==typeof t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get\:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if("object"!=typeof e)return!!e;if(!_isListenerOptionSupported("capture"))return!!e.capture;var t={capture\:!!e.capture};return _isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe\:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal\:n>r,isConsideredSwipe\:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r);var i="on"+ucfirst(t);return"function"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement("a");n.cssText="visibility\: hidden",n.addEventListener("click",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement("a");r.style.cssText="visibility\: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top\:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left\:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",n?n.document.getElementsByTagName("head")[0].appendChild(r)\:document.getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(/\\&$/,"").replace(/\\+/g,"%20"),e.split("&").forEach(function(e){var n=e.split("=").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return"  p.push('"+e.replace(/'/g,"\\\\'").split(/\\r?\\n/g).join("\\\\n');\\n  p.push('")+"');\\n"}if(!e)return"";var r;if(-1==e.indexOf("<%"))r=function(){return e};else{var o=e.split(/<%\\s*|\\s*%>/g),i="var p = []; with(o) {\\n",a=!1;o.forEach(function(e){a?i+="="==e[0]?"  p.push("+e.replace(/^=\\s*|\\s*$/g,"")+");\\n"\:"  "+e+"\\n"\:e&&(i+=n(e)),a=!a}),i+='} return p.join("");';try{r=new Function("o",i)}catch(c){var u=new Error("Cannot parse template! (see `template` property)");throw u.template=i,u}}return t?r(t)\:r}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&"\:"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2")\:e+separator+t+"="+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if("http"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,"fetchShortenedUrl defer success callback");if(i[e]||(i[e]=[],o=!0),i[e].push({success\:t,error\:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"shortenedUrls/",u={url\:e,fields\:"shortUrlKey"},s=btoa(to_utf8(e));s=s.replace(/\\//g,"$").replace(/\\+/g,"_").replace(/=/g,"");var d={cbName\:"shortener_"+s};loadJSONP(c+"?"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r("success",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl\:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",n),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t("success",i)}else t("error")},o.send(JSON.stringify({url\:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return e>t?0\:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*r)+1)/2}function getWindowNesting(e){var t={iframe\:e!==e.top,friendlyIframe\:!1,iabFriendlyIframe\:!1,hostileIframe\:!1,iframeDepth\:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&"undefined"!=typeof e.inDapIF&&e.inDapIF;"undefined"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;"undefined"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&e.toString().indexOf("[native code]")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=document.compatMode,r=deviceInfo.os.ios("9",null),o="win"!==t&&(n||r||"doc"===t),i="win"!==t&&(n||"doc"===t),a=e.document.documentElement||{};return{width\:o?a.clientWidth\:e.innerWidth,height\:i?a.clientHeight\:e.innerHeight,left\:e.scrollX||a.scrollLeft||0,top\:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0\:++s}var n,r,o,i,a=e,c="function"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement("div"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes\:!0}),n.setAttribute("i","1")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u="com.setImmediate"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split("\:")[1];i[t](),delete i[t]}};return a.addEventListener("message",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+"\:"+n,"*")}}return!c&&a.document&&"onreadystatechange"in document.createElement("script")?function(e){r=document.createElement("script"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}\:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;"undefined"!=typeof defer.perf?u=defer.perf\:"undefined"!=typeof creative?u=creative.perf\:"undefined"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start("defer",{deferId\:o,delay\:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s)\:e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value\:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return"WebKitAnimationEvent"in e&&(t.animationstart="webkitAnimationStart",t.animationiteration="webkitAnimationIteration",t.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in e&&(t.transitionend="webkitTransitionEnd"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now\:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value\:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw"Called `done` multiple times for element "+i;c=!0,--r||t()},i,a)},n)\:t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success\:n||noop,error\:r||noop};if(!/^[A-Za-z0-9]*\:\\/\\/|^\\/\\//.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if("undefined"==typeof c)return console.warn('Hosted file "'+t+'" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0)\:i[t].cbs.push(a);else{i[t]={cbs\:[a]};var u=document.createElement("script");u.type="text/javascript",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},e.loadJSONP=function(t,n,r,o){"function"==typeof n&&(o=r,r=n,n={});var i=n.cbName||"__jsonp"+randInt();t+=(-1==t.indexOf("?")?"?"\:"&")+(n.paramName||"jsonp")+"="+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),"undefined"==typeof Function.prototype.name&&!function(){var e=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,"name",{get\:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]\:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\x0afunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,"length",{get\:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\x0afunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment\:e.polyfill,this._queues={update\:new CTickerQueue,nextUpdate\:new CTickerQueue,render\:new CTickerQueue,nextRender\:new CTickerQueue,next\:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,"_isDeviceUserAgentBlacklisted",{get\:function(){var e=this._win.navigator.userAgent,t=["RAZR HD","SOL23","LG-D855","LG-D851","LG-D850","LG-D852","LGLS990","LGUS990","VS985 4G"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||"render",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||"render",this._queues[t].remove(e)};;\x0afunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,"isRequestAnimationFrameBroken",{get\:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0\:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return["ms","moz","webkit","o"].forEach(function(n){t=t||e[n+"RequestAnimationFrame"]||null,r=r||e[n+"CancelAnimationFrame"]||e[n+"CancelRequestAnimationFrame"]||null}),{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame\:t,cancelFrame\:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame\:this._createRAFWrapper(e.nextFrame),cancelFrame\:this._createCAFWrapper(e.cancelFrame)}\:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\x0afunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)+(e?e.x\:0),(i?i.y\:0)+(e?e.y\:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||"undefined"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x\:0)-(e?e.x\:0),(i?i.y\:0)-(e?e.y\:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right\:{get\:function(){return this.left+this.width},set\:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable\:!0},bottom\:{get\:function(){return this.top+this.height},set\:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable\:!0},tl\:{get\:function(){return new CPoint(this.left,this.top)}},tr\:{get\:function(){return new CPoint(this.right,this.top)}},bl\:{get\:function(){return new CPoint(this.left,this.bottom)}},br\:{get\:function(){return new CPoint(this.right,this.bottom)}},area\:{get\:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO\:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom\:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom\:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect\: "+JSON.stringify(this)};;\x0awindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function o(e,n){this.hardwareType=e||"",this.mobile=n||""}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw"Invalid number of arguments";o=n[0],s=n[1]}for(e=e.split(".").map(t),o=o?o.split(".").map(t)\:[],s=s?s.split(".").map(t)\:[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf("Playstation")){var t=e.match(/\\bSilk\\/([0-9._-]+)\\b/);t&&(n.browserName="Amazon Silk",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf("Chrome")&&s(n.browserVersion,["28",null])||0===n.browserName.indexOf("Opera")&&s(n.browserVersion,["15",null]))&&(n.browserRenderingEngine="Blink"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(/Trident\\/([0-9.]+)/))?n[1]\:(n=e.match(/Presto\\/([0-9.]+)/))?n[1]\:(n=e.match(/AppleWebKit\\/*([0-9.]+)/i))?n[1]\:(n=e.match(/Gecko\\/*([0-9.]+)/),n?n[1]\:"")}())}t.prototype.android=function(){return"Android"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&s(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&s(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return"Firefox"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t="iP"===(e.navigator.platform||"").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf("Safari")&&-1!==r.indexOf("Version"),o=!/constructor/i.test(e.HTMLElement);i&&!e.navigator.standalone?n="iOS Safari or Safari Controller"\:(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n="WKWebView")\:n="UIWebView"}else/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(n="AndroidWebView");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},i.prototype.webkit=function(){return"WebKit"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return"Phone"===this.hardwareType},o.prototype.tablet=function(){return"Tablet"===this.hardwareType},o.prototype.desktop=function(){return"Desktop"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||"",r=r||{},a(t,r),new n(r,t)}}(window);;\x0awindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\x0a!function(e){function n(){var e=p().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&s(e[2].replace(/_/g,"."),arguments)}function t(){var e=p().match(/Android ([0-9.]+)/),n=p().match(/Windows Phone/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(/Windows Phone ([0-9.]+)/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(/Gecko\\/*([0-9.]+)/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv\:([0-9]{1,}[.0-9]{0,})/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(/Silk\\/([0-9.]+)/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)?s("2",arguments)\:!1}function d(){return"undefined"!=typeof offsetWidthOverride?offsetWidthOverride\:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return/iPad/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(/\\D/g,""),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw"Invalid number of arguments";a=n[0],o=n[1]}e=e.split(".").map(t),a=a?a.split(".").map(t)\:[],o=o?o.split(".").map(t)\:[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;return e=p().match(n()?/CriOS\\/([0-9]+.)/\:/Chrome\\/([0-9]+.)/),!!e&&s(e[1],arguments)}function g(){var e="(-webkit-min-device-pixel-ratio\: 1.5),(min--moz-device-pixel-ratio\: 1.5),(-o-min-device-pixel-ratio\: 3/2),(min-resolution\: 1.5dppx)";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max\:e.Math.max,min\:e.Math.min,userAgent\:e.navigator.userAgent,top\:e.top},p=function(){return"undefined"!=typeof e.userAgentOverride?e.userAgentOverride\:v.userAgent}}(window);;\x0a!function(e){function t(){var t=e;try{for(;"undefined"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error("No element specified!");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if("undefined"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),"undefined"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error("No element specified!");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t="webkit"+u(t)),!n||"none"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);return a(t)?n[t]\:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&"none"!=t.display}function u(e){return e+="",e?e[0].toUpperCase()+e.slice(1)\:""}var l=e.navigator.userAgent,s=t(),c=/rv\:.*Gecko\\//.test(l),d=/MSIE|Trident\\//.test(l),m=/WebKit/.test(l),p=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,y={},w=[],E=function(){return m?"webkit"\:d?"ms"\:c?"Moz"\:""}(),R=function(){var e=l.match(/AppleWebKit\\/(\\d+)/);return e&&~~e[1]<540}(),v=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css\:i,computedCSS\:r,isWebkit\:m,isGecko\:c,isIE\:d},e.css=i,e.computedCSS=r}(window);;\x0afunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get("PerformanceTiming")||e.get("MonotypeOffloadFonts"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name\:t,type\:"interval",id\:this._id++,startTime\:Date.now(),args\:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger("perf").log(this.name+"(#"+this.id+") "+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name\:"perfTiming",section\:t.name,type\:t.type,perfId\:t.id,startTime\:t.startTime,endTime\:t.endTime,args\:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type="mark",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\x0avar EventEmitter={emit\:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits\:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener\:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener\:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once\:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll\:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\x0afunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]\:Array.prototype.slice.call(arguments),{run\:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\x0afunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get("BatchTrackingRequests");this._useBatching=t?"control"!==t.chosenVariant.slice(0,7)\:this._useBatching;var n=t&&"Beacon"===t.chosenVariant.slice(-6),i=e.get("TrackWithBeaconAPI")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush()\:noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId\:this._sessionId,accountId\:this._accountId,stream\:"adEvents",instantiation\:this._instantiation,index\:this._eventIndex++,clientTimestamp\:new Date/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name\:"eventLimitReached"})),t.events.forEach(function(e){Logger("tracking").log("Queuing event "+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger("tracking").log("Queuing pixel "+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn("Tracking limit reached\: "+TrackingCenter.eventCountLimit+" events.");if(i(t)?0>t&&(t=0)\:t=1500,n=n||noop,"live"!==this._purpose){var s=this._createTrackingEvent(e);return Logger("tracking").log("Ignoring non-live event "+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once("trackingQueueEmptied",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t)\:o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events\:i,pixels\:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement("img");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit("trackingQueueEmptied"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t="undefined"==typeof t?this._usePixel\:t,n="undefined"==typeof n?this._useBeacon\:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0)\:this.once("trackingQueueEmptied",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0)\:void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+"json/"+base64json+"?crc32c="+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events\:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events\:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events\:e,pixels\:t,dest\:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1)\:(this._pendingEvents=[],this._pendingPixels=[]),n};;\x0afunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track("variantExposed")}.bind(this),this.trackSuccess=function(){this._track("variantSucceeded")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(/'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/!/g,"%21").replace(/~/g,"%7E")}).join("/");return this._instances[n]||null},Experiment.prototype._track=function(t){this["_"+t+"Tracked"]||(this["_"+t+"Tracked"]=!0,this._trackingCenter.track({name\:t,experimentKey\:this.key,variant\:this.chosenVariant}))};;\x0afunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument\:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"))\:("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers()\:this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers()\:this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),void this.el.removeEventListener("tap",this.captureBubbleEvents,!1))\:void("function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start()\:(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t))\:TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier\:0,target\:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch])\:n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;\x0afunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){"object"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r\:1,this._trackingCenter.track({name\:"aggregator",metric\:t,value\:r,customDimensions\:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+"Attempts",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+"Successes",r),this.trackAggregatorTime(t+"Time",a,r))}.bind(this)};;\x0afunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf("all")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name\:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+="";e.length<n;)e="0"+e;return e}var n=new Date;return n.getFullYear()+"-"+e(n.getMonth()+1,2)+"-"+e(n.getDate(),2)+" "+e(n.getHours(),2)+"\:"+e(n.getMinutes(),2)+"\:"+e(n.getSeconds(),2)+"."+e(n.getTime()-1e3*Math.floor(n.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(",")\:[],e.sessionId)};;\x0afunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width\:0,height\:0,area\:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions()\:this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area/this._maxPossibleDimensions.area\:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit("rectInViewChanged",i),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged\: "+this.rectInView.toString())),o&&(this.emit("areaInViewRatioChanged",s),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged\: "+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;\x0afunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on("areaInViewRatioChanged",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker())\:0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0)\:!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){this._containerIsViewable=e,e?this._tryStartTracker()\:t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error("adapter was not registered yet!");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on("appeared",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on("disappeared",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0)\:!1};;\x0afunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3\:1e3,1e4\:2e3,63e3\:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name\:AdViewableTimeTracker.eventName,from\:i/1e3,to\:e/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing()\:this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t\:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0)\:!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\x0a!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},e.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=i}(window);;\x0a!function(e){"use strict";var r={};r.toString=function(){return"[Clazz CustomAudiences]"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+"/"+encodeURIComponent(r)+"/"+encodeURIComponent(t)+"?"+creative.authTokenUrlParam),i.send(n)}if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method\: "+e);if("undefined"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists\:t,userData\:n};var u=creative.secure?creative.customAudiencesUrl\:creative.insecureCustomAudiencesUrl,s="/audiences/"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;\x0afunction ReportingObserverWrapper(e){this._reportTypes=["intervention"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]\:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if("ReportingObserver"in e){var r=new e.ReportingObserver(this._processReports,{types\:this._reportTypes,buffered\:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener("beforeunload",this._emptyQueueAndProcessReports),window.addEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener("beforeunload",this._emptyQueueAndProcessReports),window.removeEventListener("unload",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention\:{heavyAdCPUIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("CPU usage")>-1&&-1===e.message.indexOf("future version")},heavyAdNetworkIntervention\:function(e){return"HeavyAdIntervention"===e.id&&e.message.indexOf("network usage")>-1&&-1===e.message.indexOf("future version")}}};;\x0a!function(){var A=[".video-player-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","    overflow\: hidden;","}",".video-player-engine {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    top\: 0;","    left\: 0;","    margin\: 0;","    padding\: 0;","    overflow\: hidden;","}",".video-player-engine video,",".video-player-engine .canvasContainer","{","    position\: relative;","    width\: 100%;","    height\: 100%;","    min-height\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-poster {","    position\: absolute;","    background-size\: contain;","    background-repeat\: no-repeat no-repeat;","    background-position\: center center;","}",".video-player-fitting-crop .video-player-poster {","    background-size\: cover;","}",".video-player-engine canvas {","    position\: relative;","    width\: 100%;","    background\: #000;","    top\: 0;","    left\: 0;","}",".video-player-engine canvas {","    image-rendering\: optimizeSpeed;","    image-rendering\: -moz-crisp-edges;","    -ms-interpolation-mode\: nearest-neighbor;","    image-rendering\: optimize-contrast;","    image-rendering\: -webkit-pixelated;","    image-rendering\: crisp-edges;","    image-rendering\: -webkit-optimize-speed;","    image-rendering\: -webkit-optimize-contrast;","}",".video-player-wrapper-empty {","    background-color\: #000;",'    background-image\: url("data\:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+");',"    background-repeat\: no-repeat;","    background-position\: center;","}",".video-controls-container {","    position\: absolute;","    width\: 100%;","    height\: 100%;","    top\: 0;","    left\: 0;","    font-size\: 14px;","}",".video-basic-controls-wrapper {","    position\: absolute;","    width\: 100%;","    height\: 100%;","}",".video-controls-slider-container {","    position\: absolute;","    width\: 100%;","    height\: 8px;","    bottom\: -1px;","    left\: 0;","    background\: #111;","}",".video-controls-progress-bar {","    opacity\: 0.3;","}",".video-controls-progress-bar,",".video-controls-time-bar {","    position\: absolute;","    width\: 0;","    top\: 0;","    left\: 0;","    height\: 100%;","}","@-webkit-keyframes video-player-spin{","    0%   { -webkit-transform\: rotate(0deg); }","    100% { -webkit-transform\: rotate(359deg); }","}","@-moz-keyframes video-player-spin{","    0%   { -moz-transform\: rotate(0deg); }","    100% { -moz-transform\: rotate(359deg); }","}","@keyframes video-player-spin{","    0%   { transform\: rotate(0deg); }","    100% { transform\: rotate(359deg); }","}",".video-player-spinner-big,",".video-player-spinner-small {","    display\: block;","    position\: absolute;","    top\: 50%;","    left\: 50%;","    -webkit-animation\: video-player-spin 1.5s infinite linear;","    animation\: video-player-spin 1.5s infinite linear;","}",".video-player-spinner-big {","    width\: 35px;","    height\: 35px;","    margin-top\: -17px;","    margin-left\: -17px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn/c/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o/dZD9n3r/zshGSGpOd54GZ0+9h/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal/o1kHX95VJq/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS/JUiCP3/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo/4lsxAwR/kX++TYWyZWT6qZrb9rp9pnkj/8dSqUon5zi73TTUhJs4QGV+qfh8h/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC");',"}",".video-player-spinner-small {","    width\: 18px;","    height\: 18px;","    margin-top\: -9px;","    margin-left\: -9px;",'    background-image\:url("data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe/vtzf30k63Q9X/8XZte6f8V/QrokopILq9/CB0+nnUip/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt/p4Kkm/xy/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8/ZC7pwsASgVp1L6qRVK9NiV3/RHyc/8RftSMiO8WZLaAAAAABJRU5ErkJggg==");',"}",".video-controls-hiddable,",".video-controls-unhiddable {","    width\: 100%;","    height\: 100%;","}",".video-basic-controls-wrapper .center-button {","    position\: absolute;","    width\: 4em;","    height\: 4em;","    border-top-left-radius\: 2em;","    border-top-right-radius\: 2em;","    border-bottom-left-radius\: 2em;","    border-bottom-right-radius\: 2em;","    background\: #111;","    margin\: auto;","    top\: 0;","    left\: 0;","    bottom\: 0;","    right\: 0;","    text-align\: center;","    cursor\: pointer;","    opacity\: 0.8;","    z-index\: 1;","}",".center-button div {","    position\: relative;","    width\: 100%;","    color\: white;","    font-size\: 2em;","    top\: 0.5em;","}",".center-button .celtra-icon-play { left\: 0.1em;}",".center-button .celtra-icon-replay { top\: 0.62em; left\:0.05em}",".video-basic-controls-wrapper .custom-button {","    position\: absolute;","    height\: 100%;","    width\: 100%;","    top\: 0;","    left\: 0;","    cursor\: pointer;","    opacity\: 0.8;","}",".custom-button img {","    margin\: auto;","    position\: absolute;","    top\: 0;","    right\: 0;","    bottom\: 0;","    left\: 0;","}",".video-controls-button {","    position\: absolute;","    cursor\: pointer;","    font-size\: 1.5em;","    color\: white;","    width\: 2.5em;","    height\: 2.5em;","}",".video-controls-desktop .video-controls-button div {","    margin-top\: -0.5em;","}",".ie-click-event {","    background-color\: rgba(255,255,255,0);","}",".video-controls-button-shadow {","    text-shadow\: 1px 1px 3px #000;","}",".video-controls-button-top-right {","    right\: 0;","    top\: 0;","}",".video-controls-desktop .video-controls-button-top-right {","    margin-right\: 0.5em;","    margin-top\: 0.5em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button-bottom-right {","    right\: 0;","    bottom\: 0;","}",".video-controls-desktop .video-controls-button-bottom-right {","    margin-right\: 0.5em;","    margin-bottom\: 0.75em;","    width\: 1.5em;","    height\: 1.5em;","}",".video-controls-button div {","    position\: absolute;","    height\: 50%;","    width\: 100%;","    left\: 0;","    text-align\: center;","    top\:  50%;","    margin-top\: -0.75em;","    vertical-align\: middle;","}",".video-controls-button .celtra-icon-close {","    font-size\: 0.7em;","    left\: 0.07412em;","}",".video-controls-button .celtra-icon-enter-full-screen,",".video-controls-button .celtra-icon-exit-full-screen {","    left\: 0.09em;","}",".video-controls-pending {","    animation\: video-controls-pending 1s infinite linear;","}","@-webkit-keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@keyframes video-controls-pending {","    0%   { opacity\: 1 }","    50% { opacity\: 0 }","    100%   { opacity\: 1 }","}","@font-face {",'    font-family\: "celtraicons";','    src\:url("data\:application/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA/gYBB4KABlT/4uLHgoAGVP/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA/sEHgRFBG0E2wWp/JQO/JQO/JQO+5QOi/dUFYs/rUbAXAi1uwVjrnK/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B/sHi/shCA6L9+kVi/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i/cLi+3ti/cLi/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ/gIGBgX+GfYsI/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9/EVd5/7EfsR+xH3EXd39xH7EfsR+xGfd/cR9xH3EfsRn5/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i/cfi4+LkIuPoJqdnZmhCA73t2sVi/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u/tWi4v7Vbu63Drt7QX3Z/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb/h4/HmoqEjOBfw494QVi/s984r3E/sOi/ca+zL3MgUO+I/QFYuLi4uLiwj7L/cv9y/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y/7L/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y/7L/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L/cv9y/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P/g/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf/9//8AAAAAACDmAP/9//8AAf/jGgQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),','        url("data\:font/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX//wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO/98BwgHgAAIAABcRBU4BdCECAf0AAgAX/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9/wIB/f8CAQAAAgAK/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO////3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD/4AAAAgD/////AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD//wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=");',"    font-weight\: normal;","    font-style\: normal;","}",'[class^="celtra-icon-"], [class*=" celtra-icon-"] {','    font-family\: "celtraicons";',"    speak\: none;","    font-style\: normal;","    font-weight\: normal;","    font-variant\: normal;","    text-transform\: none;","    line-height\: 1;","    -webkit-font-smoothing\: antialiased;","    -moz-osx-font-smoothing\: grayscale;","}",'.celtra-icon-redo\:before { content\: "\\\\e600"; }','.celtra-icon-close\:before { content\: "\\\\e60d"; }','.celtra-icon-go-landscape\:before { content\: "\\\\e603"; }','.celtra-icon-twitter\:before { content\: "\\\\e605"; }','.celtra-icon-facebook\:before { content\: "\\\\e606"; }','.celtra-icon-phone\:before { content\: "\\\\e607"; }','.celtra-icon-play\:before { content\: "\\\\e608"; }','.celtra-icon-pause\:before { content\: "\\\\e609"; }','.celtra-icon-exit-full-screen\:before { content\: "\\\\e60a"; }','.celtra-icon-enter-full-screen\:before { content\: "\\\\e60b"; }','.celtra-icon-unmute\:before { content\: "\\\\e60c"; }','.celtra-icon-mute\:before { content\: "\\\\e601"; }','.celtra-icon-replay\:before { content\: "\\\\e602"; }','.celtra-icon-close2\:before { content\: "\\\\e604"; }',".spinner .center-button {","    display\: none;","}",".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color\: red; }",""].join("\\n");this.VideoPlayerCss=A}();;\x0a!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0\:"ENDED",1\:"PLAYING",2\:"PAUSED",3\:"BUFFERING",5\:"VIDEO_CUED",6\:"UNSTARTED",7\:"SEEKING"},t.TRUTHY_REGEX=/^(yes|true|1)$/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!("ontouchstart"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return"function"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top\:0,left\:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top\:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left\:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]\:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw"idempotented called with no function.";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n))\:(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i)\:i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]\:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t/36e5),n=Math.floor((t-36e5*e)/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+"\:"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n/r*(e/t)>0,u=!!i;return(u?!c\:c)?(o=n,a=Math.ceil(e*(n/t)),l=0,s=r-a)\:(a=r,o=Math.ceil(t*(r/e)),l=n-o,s=0),{width\:Math.ceil(o),height\:Math.ceil(a),marginHorizontal\:l>>1,marginVertical\:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(/[a-z]+/,""))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||"on",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle("display","",arguments)},t.hide=function(){t.changeStyle("display","none",arguments)},t.showCursor=function(e){t.changeStyle("cursor","",e)},t.hideCursor=function(e){t.changeStyle("cursor","none",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return"object"==typeof Node?t instanceof Node\:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||"";if("object"==typeof o){n=t.urlSerialize(o);break}"function"==typeof o&&(o=o()||""),r=o.length>0&&"/"==o[o.length-1];var a=0===i?o.replace(/\\/$/,"")\:o.replace(/^\\//,"").replace(/\\/$/,"");a&&e.push(a)}return e.join("/")+(r?"/"\:"")+(n?"?"+n\:"")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute("x-bind");n&&(t[n]=e,e.removeAttribute("x-bind"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement("div"),r=r||noop;return o.innerHTML=tmpl("string"==typeof e?e\:e.join(""),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName("head")[0];if(!n.getElementById(t)){var i=document.createElement("style");i.setAttribute("id",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement("source");return n.setAttribute("src",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0/0&&""!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL="R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!("ontouchstart"in window),t.isTopNode=function(t){return"BODY"===t.tagName||"viewport"===t.id||"celtra-modal"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0\:!1,t.pause(),n&&(n.style.display="none"),r.style.zIndex=-1)\:(n&&(n.style.display=""),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e\:"insecure"+t.capitaliseFirstLetter(e))+"Url",i="undefined"!=typeof creative?creative[r]\:urls[r];if(i)return i;throw"Undefined url key "+r},t.ifDefined=function(t,e){return"undefined"!=typeof t?t\:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState\:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit("statechange",t,e))},getState\:function(){return this._state},isState\:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win="defaultView"in this.doc?this.doc.defaultView\:this.doc.parentWindow,this.initialHostOffset={left\:this.win.pageXOffset||document.documentElement.scrollLeft,top\:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?"fixed"\:"absolute",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width="100%",l.height="100%",l.left="0px",l.top="0px",o||(l.background="#000"),this.containerEl.addEventListener("touchmove",r),this.containerEl.addEventListener("touchstart",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===("undefined"==typeof adapter?creative.adapter\:adapter).getTopWindow()&&(this.containerEl.style.width="100%",this.containerEl.style.height="100%");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios("7")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+"px",t.height=this.lastHeight+"px",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit("resize",{width\:this.lastWidth,height\:this.lastHeight,scrollX\:this.lastScrollX,scrollY\:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter\:creative.adapter;"touchstart"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("CriOS");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener("touchmove",r),this.containerEl.removeEventListener("touchstart",r),clearInterval(this.intervalId),this.containerEl.innerHTML="")},window.FullScreenHandler=t}();;\x0a!function(){var e={startMuted\:!1,preload\:!1,from\:null,to\:null,blobHash\:null,hasAudio\:!0,customUrlParameters\:{},forceMPEG4Video\:!1,forceMPEG1Video\:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios("10",null)&&!deviceInfo.browser.chrome(null,"64")||deviceInfo.os.android()&&deviceInfo.browser.chrome("53",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung("6.4",null)},t=function(r,i){var o=merge(e,i);"1"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread\:r,startMuted\:o.videoElement?o.videoElement.muted\:o.startMuted};return"jsVideo"==n?merge(s(o),t)\:merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?"html5"\:r.forceMPEG1Video||r.fallbackToMPEG1?"jsVideo"\:n()||e?"html5"\:"jsVideo"},s=function(e){return{clazz\:"JsVideoEngine",preset\:e.fallbackToMPEG1?"mpeg1LQVideo"\:"mpeg1SHQVideo",engineType\:"mpeg1",file\:"video.avi",doAVSync\:e.hasAudio&&!e.isTeaser,isTeaser\:e.isTeaser,preload\:e.preload,options\:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix\:"webm",extension\:"webm"}\:{prefix\:"mpeg4",extension\:"mp4"},t=e.hqQuality&&!deviceInfo.browser.firefox()?"HQPlus"\:"HQ";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?"HD"\:deviceInfo.browser.firefox()?"HQ"\:"HQPlus"\:e.isSnapchatFormat?t="HQPlus"\:!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?"HQ"\:"HQPlus");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,"10")&&e.isVideo360;return{clazz\:a?"CrossOriginHtml5VideoEngine"\:"Html5VideoEngine",preset\:d,engineType\:"html5",file\:"video."+n.extension,doAVSync\:s,isTeaser\:e.isTeaser,preload\:e.preload,crossOrigin\:!0,options\:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o("cachedApi"),"videoStream",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?"WebAudioEngine"\:"Html5AudioEngine";return{clazz\:r,preload\:e.preload}},u=function(e){var i={preset\:"aacAudio",file\:"audio.m4v"};return r(o("cachedApi"),"videoStream",e.blobHash,i.preset,i.file,e?v(i.preset,e)\:{})},f=function(e,r,o){return i(merge({from\:o.from,to\:o.to,muted\:r?"1"\:null,transform\:"VideoStream",celtraCacheBust\:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from\:r.from,to\:r.to,transfom\:"VideoStream",celtraCacheBust\:p(e)},r.customUrlParameters))},m=function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext},p=function(e){if("undefined"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?"-"+r\:"")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\x0a!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp\:{attachment\:"body",positioning\:"screen",type\:"layer"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls\:!1,controlsHidden\:!1,baseUrl\:urls.staticUrl+"runner/FullscreenVideoPlayer/",muteUnmuteEnabled\:!((ios("9")||ios("8"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia("toPlayVideo"),t();var u=function(){return{clazz\:"Html5VideoEngine",engineType\:"html5",videoUrl\:r.file.getUrl(),doAVSync\:!1,options\:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android("4","5")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay\:!1,baseUrl\:l.baseUrl,closeFSOnEnd\:!0,fullscreenMode\:"permanent",autohideTime\:3,duration\:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on("playButtonPressed",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on("userInteraction",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on("timeupdate",a.onTimeUpdate),s.on("close",a.close),s.on("ended",a.close),s.on("error",a.close),s.on("exitfullscreen",a.close),adapter.once("dismissed",a.close),adapter.once("collapsed",a.close),adapter.on("orientationchange",a.refresh),adapter.on("resize",a.refresh),adapter.once("mediaStopRequested",a.close)},a.removeListeners=function(){s.off("timeupdate",a.onTimeUpdate),s.off("close",a.close),s.off("ended",a.close),s.off("error",a.close),s.off("exitfullscreen",a.close),adapter.off("dismissed",a.close),adapter.off("collapsed",a.close),adapter.off("orientationchange",a.refresh),adapter.off("resize",a.refresh),adapter.off("mediaStopRequested",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,"undefined"!=typeof ADMARVEL?1e3\:100))},window.FullscreenVideoPlayer=a}();;\x0a!function(){function e(e,t,n){e.setAttribute("x-celtra-media",""),n.playsInline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin="anonymous"),e.src=t,e.preload=n.preload?"auto"\:"none"}var t=function(t,n){var r={playsInline\:!1,maxTimeupdatesPerSecond\:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o\:document.createElement("video");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=["loadedmetadata","durationchange","progress","canplay","play","playing","pause","ended","buffering","endbuffering","muted","unmuted","seeking","seeked","exitfullscreen","webkitendfullscreen","error","canunmute","custominfo","playersourceloading"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit("volumechange",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit("timeupdate",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime\:{get\:function(){return this.getCurrentTime()},set\:function(e){this.setCurrentTime(e)}},reportsSeeking\:{get\:function(){return!!a.reportsSeeking}},buffered\:{get\:function(){return a.buffered}},duration\:{get\:function(){return a.duration}},muted\:{get\:function(){return a.muted},set\:function(e){a.muted=e}},isPlaying\:{get\:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused\:{get\:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android("4.0","4.2")&&(a.style.height="auto",a.style.minHeight="auto");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a)\:noop,h=a.pause?a.pause.bind(a)\:noop,b=!0,E=function(){d.emit("autoplaynotpossible")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e["catch"](function(e){d.emit("autoplayrejected"),("NotAllowedError"===e.name||"AbortError"===e.name)&&(Logger("Html5VideoEngine").error("Video Engine - ",e),a.muted=!0,d.emit("forcemuted"),b?(b=!1,T())\:(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime\:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit("534.30")||celtra.webkit("537.36")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener("progress",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener("progress",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\x0a!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init\:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus="unstarted",this.loop=!!i,t&&this.load(),this},load\:function(){if("unstarted"===this._loadStatus){this._loadStatus="pending";var e=new XMLHttpRequest;e.open("GET",this._sourceUrl,!0),e.responseType="arraybuffer",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock\:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio\:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt\:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause\:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy\:function(){this.pause(),"function"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack\:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),"function"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext\:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom\:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,"function"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t)\:"function"==typeof this._sourceNode.start?this._sourceNode.start(0,t)\:this._sourceNode.noteOn(0,t)},_clearSourceNode\:function(){if(this._sourceNode){try{"function"==typeof this._sourceNode.stop?this._sourceNode.stop(0)\:this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate\:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval)\:this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,"timeupdate"),250)},_decodeAudioData\:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus="loaded",this.emit("canplay"),this.emit("canplaythrough")}.bind(this))}}),Object.defineProperties(i,{paused\:{get\:function(){return this._paused}},ended\:{get\:function(){return!1}},ready\:{get\:function(){return"loaded"===this._loadStatus}},playedBefore\:{get\:function(){return n}},currentTime\:{get\:function(){return this._paused?this._pausedAt\:o.currentTime-this._timeDiff},set\:function(e){this._pausedAt=e,"loaded"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\x0a!function(){var e=.3,n=function(n,t){if("undefined"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload="auto",r.src=n,r.start=noop)\:(r.preload="none",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered/r.duration>e&&o()};return r.addEventListener("canplay",o),r.addEventListener("canplaythrough",o),r.addEventListener("progress",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit("537.36")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener("progress",i),r.removeEventListener("canplay",o),r.removeEventListener("canplaythrough",o)},r.setAttribute("x-celtra-media",""),r};this.Html5AudioEngine=n}();;\x0a!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once("destroy",this.destroy),this.video.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted),this.video.on("replayed",this.onReplayed)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("play",this.onPlay),this.video.on("playing",this.onPlay),this.video.on("seeked",this.onPlay),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("userpaused",this.onPause),this.video.off("pause",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("play",this.onPlay),this.video.off("playing",this.onPlay),this.video.off("seeked",this.onPlay),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate),this.video.off("replayed",this.onReplayed)},onFirstPlay\:function(){if(this.video.off("userplayed",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit("534.30"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom()\:fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay\:function(){this.muted||this.audio.playFrom()},onReplayed\:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t/2}catch(h){}}}};this.AVSyncAudio=d}();;\x0a!function(){var i=.6,t=1,e=3e3,s=2,o={init\:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once("destroy",this.destroy),i.once("userplayed",this.onFirstPlay),this.video.on("muted",this.onMuted),this.video.on("unmuted",this.onUnMuted)},attach\:function(){this.video.on("pause",this.onPause),this.video.on("ended",this.onEnded),this.video.on("userpaused",this.onPause),this.video.on("seeking",this.onPause),this.video.on("timeupdate",this.onTimeUpdate)},destroy\:function(){this.audio.pause(),this.video.off("userplayed",this.onFirstPlayed),this.video.off("pause",this.onPause),this.video.off("userpaused",this.onPause),this.video.off("seeking",this.onPause),this.video.off("ended",this.onEnded),this.video.off("muted",this.onMuted),this.video.off("unmuted",this.onUnMuted),this.video.off("timeupdate",this.onTimeUpdate)},onFirstPlay\:function(){this.video.off("userplayed",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit("534.30"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach())\:(this.video.once("canplay",s),this.video.once("playing",s),this.video.once("timeupdate",s),this.audio.once("canplaythrough",function(){i=!1,this.video.off("canplay",s),this.video.off("playing",s),this.video.off("timeupdate",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause\:function(){this.audio.pause()},onEnded\:function(){this.audio.pause(),this.audio.currentTime=0},onMuted\:function(){this.muted=!0,this.audio.pause()},onUnMuted\:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime)\:this.audio.unlock()},onTimeUpdate\:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\x0a!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime\:0,progressbar\:!0,progressbarColour\:"#4589ce",startInFullScreen\:!1,controlsHidden\:!1,fullscreenMode\:"both",minLengthToSeek\:30,muteUnmuteEnabled\:!0},e.PLAYER_EVENTS={durationchange\:"onVPDurationChange",muted\:"onVPMuted",unmuted\:"onVPUnmuted",progress\:"onVPProgress",play\:"onVPPlay",playing\:"onVPPlaying",pause\:"onVPPause",autoplayrejected\:"onVPAutoplayRejected",forcemuted\:"onVPForceMuted",ended\:"onVPEnded",buffering\:"onVPBuffering",timeupdate\:"onVPTimeupdate",seekto\:"onVPSeekto",enterfullscreen\:"onVPEnterFullscreen",exitfullscreen\:"onVPExitFullscreen",orientationchange\:"onVPOrientationChange",canunmute\:"onVPCanUnmute",playersourceloading\:"onVPPlayerSourceLoading"},extend(e.prototype,{render\:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init\:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide("sliderContainer"),"permanent"===this._opts.fullscreenMode?(this._videoControls.hide("enterFullScreen","exitFullScreen"),this._videoControls.show("close"))\:this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide("close","enterFullScreen","exitFullScreen")\:(this._videoControls.hide("close","exitFullScreen"),this._videoControls.show("enterFullScreen")),"disabled"===this._opts.fullscreenMode&&this._videoControls.hide("enterFullScreen","exitFullScreen","close"),this._opts.debug?this._videoControls.show("monitor")\:this._videoControls.hide("monitor"),this._opts.muteUnmuteEnabled?(this._videoControls.hide("mute"),this._videoControls.hide("unMute"))\:this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide("pause","replay","play"),this._opts.isAutoplay||this._videoControls.show("play"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes\:function(e){80>e?this._videoControls.addClass("spinner","video-player-spinner-small")\:this._videoControls.addClass("spinner","video-player-spinner-big")},reset\:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide("pause","replay"),this._videoControls.show("play"),this._spinnerHide(),defer(function(){this._videoControls.hide("duringPlaySet")}.bind(this),500)},destroy\:function(){this._videoControls.destroy()},handleUserInteraction\:function(e,i){switch(e){case"vidWrapper"\:this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case"wrapper"\:if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0)\:this._videoPlayer.paused?(this._videoPlayer.play(),this.emit("userInteraction",{isUserEngaged\:!0}))\:(this._videoPlayer.pause(),this.emit("userInteraction")),this._makeControlsDisapear();break;case"mute"\:this._videoPlayer.mute(),this._videoControls.pendingStateOn("mute"),this._makeControlsDisapear(),this.emit("userInteraction");break;case"unMute"\:this._videoPlayer.unMute(),this._videoControls.pendingStateOn("unMute"),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"enterFullScreen"\:this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"exitFullScreen"\:this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit("userInteraction");break;case"pause"\:if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit("userInteraction");break;case"play"\:if(this._controlsInitiallyDisabled)return;this.emit("userInteraction",{isUserEngaged\:!0}),this.emit("playButtonPressed");break;case"replay"\:this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit("userInteraction",{isUserEngaged\:!0});break;case"close"\:this._videoPlayer.close(),this.emit("userInteraction")}},onVPPlayerSourceLoading\:function(){this._spinnerShow()},onVPCanUnmute\:function(){},onVPMuted\:function(){this._isMuted=!0,this._videoControls.hide("mute"),this._videoControls.show("unMute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPUnmuted\:function(){this._isMuted=!1,this._videoControls.hide("unMute"),this._videoControls.show("mute"),this._videoControls.pendingStateOff("unMute"),this._videoControls.pendingStateOff("mute")},onVPPlay\:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide("play")},onVPPlaying\:function(){var e=this._opts.autohideTime;this._videoControls.hide("play","pause","replay"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause\:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show("play")},onVPAutoplayRejected\:function(){this.reset()},onVPForceMuted\:function(){this.onVPMuted()},onVPBuffering\:function(){this._spinnerShow(),this._videoControls.hide("play")},onVPEnded\:function(){this._changeVisibilityTimed(!1),this._videoControls.hide("play","pause"),this._opts.pauseOnEnd||this._videoControls.show("replay")},onVPProgress\:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate\:function(e){var i=this._videoPlayer.duration,t=i&&e/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide("play"),this._videoControls.hide("pause"),this._videoControls.hide("replay")),this._spinnerHide()},onVPEnterFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("enterFullScreen"),this._videoControls.show("exitFullScreen"),this._makeControlsDisapear()},onVPOrientationChange\:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?"26px"\:""})},onVPExitFullscreen\:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide("exitFullScreen"),this._videoControls.show("enterFullScreen"),this._makeControlsDisapear()},onVPSeekto\:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility\:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide("duringPlaySet"))\:void(e?(this._videoControls.show("duringPlaySet"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0)\:(this._videoControls.hide("duringPlaySet"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed\:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i)\:this._changeVisibility(e)},_makeControlsDisapear\:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide\:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide("spinner"))},_spinnerShow\:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide("play"),this._videoControls.show("spinner"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\x0a!function(){var t="50px",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class="video-basic-controls-wrapper <%= desktop %> touchable" data-bind="wrapper">','  <div class="video-controls-hiddable" data-bind="duringPlaySet">','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="mute"><div class="celtra-icon-mute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable" data-bind="unMute"><div class="celtra-icon-unmute"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="close"><div class="celtra-icon-close"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="enterFullScreen"><div class="celtra-icon-enter-full-screen"></div></div>','    <div class="video-controls-button video-controls-button-shadow video-controls-button-top-right touchable" data-bind="exitFullScreen"><div class="celtra-icon-exit-full-screen"></div></div>','    <div class="video-controls-slider-container touchable"  data-bind="sliderContainer">','        <div class="video-controls-progress-bar" data-bind="progressBar"></div>','        <div class="video-controls-time-bar" data-bind="timeBar"></div>',"    </div>","  </div>",'  <div class="video-controls-unhiddable" data-bind="outOfPlaySet">','    <div class="video-sizable"><div class="video-player-spinner-big" data-bind="spinner"></div></div>','    <div class="center-button touchable" data-bind="pause"><div class="celtra-icon-pause"></div></div>','    <div class="center-button touchable" data-bind="play"><div class="celtra-icon-play"></div></div>','    <div class="center-button touchable" data-bind="replay"><div class="celtra-icon-replay"></div></div>',"  </div>","</div>"],extend(e.prototype,{render\:function(i,n){var o=n.isMasterVideo?[]\:["play","replay"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop\:windows("10")?"video-controls-desktop ie-click-event"\:desktop()?"video-controls-desktop"\:""},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide("outOfPlaySet"),this._container.querySelector("[data-bind=progressBar]").style.backgroundColor=n.progressbarColour,this._container.querySelector("[data-bind=timeBar]").style.backgroundColor=n.progressbarColour;var r="undefined"!=typeof creative?creative\:window.creative;if(r){var s="MRAIDAdapter"===r.adapter.constructor.name;"crop"===n.fitting&&s&&(this._container.querySelector("[data-bind=exitFullScreen]").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,"center-button"),addClass(i,"custom-button"),i.innerHTML='<img src="'+e.getUrl()+'" data-bind="'+t+'" style="width\: '+e.width+"px; height\: "+e.height+'px;" />'}}.bind(this)),this._container.addEventListener("tap",this.onTapHandler)}return this._container},show\:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide\:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor\:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor\:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=progressBar]")&&(this._container.querySelector("[data-bind=progressBar]").style.width=100*t+"%")},setTimeBarWidth\:function(t){t=Math.min(t,1),this._container&&this._container.querySelector("[data-bind=timeBar]")&&(this._container.querySelector("[data-bind=timeBar]").style.width=100*t+"%")},hideAndShowWrapper\:function(){this.hide("wrapper"),defer(function(){this.show("wrapper")}.bind(this))},disableMuteUnmuteControls\:function(){this._getElements("mute")[0].innerHTML="",this._getElements("unMute")[0].innerHTML=""},pendingStateOn\:function(t){addClass(this._getElements(t)[0],"video-controls-pending")},pendingStateOff\:function(t){this._container&&removeClass(this._getElements(t)[0],"video-controls-pending")},addClass\:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass\:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange\:function(t){t()},onTapHandler\:function(t){t.stopPropagation();var e=t.target.getAttribute("data-bind");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler\:function(t){t.addEventListener("mousemove",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute("data-bind")\:"vidWrapper";this.hasMouseMoved?this.hasMouseMoved=!1\:("wrapper"===n||"vidWrapper"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper\:function(t){return function(e){var i=e.getAttribute("data-bind");i&&(t[i]=e)}},_getElements\:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector("[data-bind="+n+"]"),e&&t.push(e)}return t}},destroy\:function(){this._container&&(this._container.removeEventListener("tap",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\x0a!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on("userInteraction",this.emit.bind(this,"userInteraction"))),this._aspectRatio=this._opts.videoWidth/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,"paused",{get\:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,"componentName",{get\:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,"duration",{get\:function(){return this.serverReportedDuration?this.serverReportedDuration\:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,"serverReportedDuration",{get\:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,"currentTime",{get\:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,"reportsSeeking",{get\:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,"muted",{get\:function(){return this._muted}}),Object.defineProperty(t.prototype,"fullscreen",{get\:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,"engineType",{get\:function(){return this._engineType}}),Object.defineProperty(t.prototype,"videoPreset",{get\:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,"engineInitialized",{get\:function(){return this._initialized}}),Object.defineProperty(t.prototype,"ended",{get\:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner\:!0,closeFSOnEnd\:!1,fitting\:"fit",fullscreenMode\:"both",pauseOnEnd\:!1,playFrom\:null,playTo\:null,poster\:"data\:image/gif;base64,"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes\:0,videoWidth\:160,videoHeight\:100},n={loadedmetadata\:"onLoadedMetaData",durationchange\:"onDurationChange",progress\:"onProgress",timeupdate\:["onTimeUpdate","onTimeUpdateRepeat"],canplay\:"onCanPlay",play\:"onPlay",playing\:"onPlaying",pause\:"onPause",autoplayrejected\:"onAutoplayRejected",autoplaynotpossible\:"onAutoplayNotPossible",forcemuted\:"onForceMuted",ended\:"onEnded",buffering\:"onBuffering",endbuffering\:"onEndBuffering",muted\:"onMuted",unmuted\:"onUnMuted",seeking\:"onSeeking",seeked\:"onSeeked",exitfullscreen\:"onExitFullScreen",webkitendfullscreen\:"onExitFullScreen",error\:"onError",canunmute\:"onCanUnMute",custominfo\:"onCustomInfo",playersourceloading\:"onPlayerSourceLoading",volumechange\:"onVolumeChange"};t.DOM=['<div class="video-player-wrapper" x-bind="_wrapperEl">','    <div class="video-player-engine" x-bind="_engineContainerEl"></div>','    <div x-bind="_posterEl" class="video-player-poster" style="background-image\: url(\\'<%= poster %>\\')"></div>','    <div class="video-controls-container" x-bind="_controlsWrapperEl"></div>',"</div>"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag("celtra-video-player-style",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers("add")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit("rendered")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display="none")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display="")},extend(t.prototype,{onLoadedMetaData\:function(){this.redraw(),this.emit("canunmute")},onCanPlay\:function(){this.emit("canplay")},onDurationChange\:function(){this.emit("durationchange")},onBuffering\:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit("buffering")},onEndBuffering\:function(){this.emit("endbuffering")},onPlayerSourceLoading\:function(e){(this._opts.autoplay||e)&&this.emit("playersourceloading")},onMuted\:function(){this._muted=!0,this.emit("muted")},onUnMuted\:function(){this._muted=!1,this.emit("unmuted")},onVolumeChange\:function(e){this._muted=0==e,this.emit(this._muted?"muted"\:"unmuted"),this.emit("volumechange",e)},onProgress\:function(){this.buffered="object"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0)\:this._videoEngine.buffered,this.emit("progress",this.buffered/(this.duration||1))},onTimeUpdate\:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit("playing")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit("firstRender"),this._firstRenderEmitted=!0),this.emit("timeupdate",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat\:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat()\:(this.pause(),this._doEnd()))},onPlay\:function(){this.emit("play")},onPlaying\:function(){this.emit("playing"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause\:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit("pause")},onAutoplayRejected\:function(){this.emit("autoplayrejected")},onAutoplayNotPossible\:function(){this.emit("autoplaynotpossible")},onForceMuted\:function(){this.emit("forcemuted")},onExitFullScreen\:function(){this.exitFullScreen()},onEnded\:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat()\:this._doEnd()},getContainerDimensions\:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl\:this._wrapperEl.parentNode;return{width\:e.clientWidth,height\:e.clientHeight}}return{width\:this.width,height\:this.height}},redraw\:function(){var e="fit"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case"top"\:n.marginVertical=0;break;case"bottom"\:n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+"px",e.height=n.height+"px",e.minHeight=n.height+"px",e.left=n.marginHorizontal+"px",e.top=n.marginVertical+"px"},o=function(e){e.width=i.width+"px",e.height=i.height+"px",e.minHeight=i.height+"px",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style))\:(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking\:function(){this.emit("seeking")},onSeeked\:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING\:this.play();break;case CeltraPlayerUtils.PAUSED\:this.silentPause()}this._stateBeforeSeek=void 0}this.emit("seeked")},onError\:function(){this.emit("error")},onCanUnMute\:function(){this.emit("canunmute")},onCustomInfo\:function(e){this.emit("custominfo",e)}}),extend(t.prototype,{getState\:function(){return this._state},mute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute\:function(){this._videoEngine&&"function"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay\:function(){this._videoEngine.play()},createSpecs\:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options\:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl\:creative.insecureCachedApiUrl)+"blobs/"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl\:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream)\:null;return{videoEngineSpec\:i,videoUrl\:s,audioEngineSpec\:n,audioUrl\:o}},initialize\:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background="transparent"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute()\:this.unMute()),this._initialized=!0},play\:function(e){return null==this._videoEngine?void Logger("VideoPlayer").log("Video not initialized!")\:(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit("userplayed"))},_createEngines\:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,"JsVideoEngine"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec)\:"Html5VideoEngine"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;"WebAudioEngine"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted))\:"Html5AudioEngine"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline\:this.playsInline()})}},silentPause\:function(){this._videoEngine.pause()},pause\:function(){this._videoEngine&&this._videoEngine.pause(),this.emit("userpaused"),this._playingEmitted=!1},close\:function(){this.playsInline()?this.exitFullScreen()\:this.emit("close")},replay\:function(){this.emit("replayed"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset\:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen\:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute("class").includes("celtra-base-creative-unit");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit("enterfullscreen")}},exitFullScreen\:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex="",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once("pause",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit("exitfullscreen")},hide\:function(){this._wrapperEl&&(this._wrapperEl.style.display="none")},show\:function(){this._wrapperEl&&(this._wrapperEl.style.display="")},destroy\:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers("remove"),this._wrapperEl=null}.bind(this);"undefined"!=typeof TouchEventSimulator?defer(e,100)\:e(),this.emit("destroy")},getDuration\:function(){return this.duration},getCurrentTime\:function(){return this._videoEngine?this._videoEngine.getCurrentTime()\:null},setCurrentTime\:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo\:function(e){this.emit("seekto",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit("repeat")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause()\:this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit("ended"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1)\:(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+"EventListener",n=["","webkit","moz","ms"].some(function(e){if("undefined"!=typeof document["on"+e+"fullscreenchange"]){var t="ms"!==e?e+"fullscreenchange"\:"MSFullscreenChange";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i]("resize",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return"permanent"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\x0a!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from\:n,to\:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\x0a!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null\:n.duration}var t=[void 0,null,0,1],r={videoStart\:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile\:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint\:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile\:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete\:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime\:null!==i&&this.currentTime>i?this.currentTime\:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name\:u,label\:this.componentName}),delete e[u])}i=t}.bind(t);return t.on("timeupdate",u),t.on("destroy",function(){t.off("timeupdate",u)}),t}}();;\x0a!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver="function"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this))\:null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from\:0,to\:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit("videoDurationUpdate",{duration\:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1)\:(this.checkDuration=!0,e.on("durationchange",this.trackDurationChange)),e.on("pause",this.stop),e.on("timeupdate",this.start),e.on("ended",this.stopAndReset),e.on("repeat",this.stopAndReset),e.on("playing",this.start),e.on("seeked",this.start),r().on("mediaStopRequested",this.stop),e.on("muted",this.flush),e.on("unmuted",this.flush),e.on("enterfullscreen",this.flush),e.on("exitfullscreen",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return"undefined"!=typeof creative?creative.adapter\:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from\:this._lastVideoPlayedSegment.to,to\:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to\:this._serverReportedDuration,i=extend({},t,{to\:e,name\:"videoPlayedSegment",muted\:!!this._video.muted,fullscreen\:void 0===this._video.fullscreen?!0\:this._video.fullscreen,gaze\:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit("videoPlayedSegment",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from\:0,to\:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit("videoDurationUpdate",{duration\:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off("pause",this.stop),t.off("ended",this.stopAndReset),t.off("playing",this.start),t.off("timeupdate",this.start),t.off("durationchange",this.tick),t.off("muted",this.flush),t.off("unmuted",this.flush),t.off("enterfullscreen",this.flush),t.off("exitfullscreen",this.flush),t.off("durationchange",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off("mediaStopRequested",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\x0avar CCalendar={saveTheDateAction\:function(e,t,n){var a={start\:t.start.value,end\:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor("dateSaved",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name\:"dateSaved",label\:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl\:function(e,t){var n={format\:"ics"},a=["eventName","location","start","end","timezone","reminder","notes"];if(a.forEach(function(t){if(t in e){var a=e[t];"object"==typeof a&&a.hasOwnProperty("value")&&(a=a.value),"string"==typeof a&&a.length&&(n[t]=a)}}),n.start&&"eventName"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(/^https\:/,t)+"calendar?"+buildQuery(n)}return null},getEventGoogleCalendarUrl\:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(" ","T");return e.allDay&&(a=a.substr(0,10)+"T"+("start"===t?"00\:00\:00"\:"23\:59\:59"),e.timezone="user"),new Date(a+("user"===e.timezone?n(a)\:"+00\:00"))}(e,t);return a.toISOString().replace(/[-\:]|(?\:\\.[0-9]*)/g,"")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60);return(t>0?"-"\:"+")+a(r)+"\:"+a(n-60*r)}function a(e){return("0"+e).slice(-2)}var r="https\://calendar.google.com/calendar/"+(desktop()?"render?"\:"gp#~calendar\:view=e&")+"action=TEMPLATE",o={dates\:t(e,"start")+"/"+t(e,"end"),location\:e.location,text\:e.eventName,details\:e.notes};return r+"&"+buildQuery(o)},toString\:function(){return"[Clazz CCalendar]"}};;\x0afunction StateObject(t){Object.defineProperties(this,{values\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:{}},_isDirty\:{enumerable\:!1,configurable\:!1,writable\:!0,value\:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty\:!1,value\:e},Object.defineProperty(this,t,{get\:function(){return this.values[t].value},set\:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit("change\:"+t,e,r))},enumerable\:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return"undefined"==typeof t?this._isDirty\:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\x0afunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x\:t[i],v\:0},this.derivative={dx\:0,dv\:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get\:function(){return this.stateObject[this.propertyName]},set\:function(t){this.stateObject[this.propertyName]=t},enumerable\:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce\:1e3,damping\:20,restThreshold\:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i\:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null)\:(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if("undefined"==typeof e)return{dx\:t.v,dv\:this._acceleration(t)};var a={x\:t.x+e.dx*i,v\:t.v+e.dv*i};return{dx\:a.v,dv\:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp\:1.8},EasingAnimation.presets={easeIn\:.6,easeOut\:1.8,linear\:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null)\:this.value=Math.pow(t/this._targetTime,this.options.exp)*i+this._startValue};;\x0afunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow="hidden",this.container.style.position="absolute",this.container.style.left=this.container.style.top=0,this.iframe.style.display="block",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.iframe.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\x0afunction Placement(t){this.root=null,this.width={value\:100,unit\:"%"},this.height={value\:100,unit\:"%"},this.left={value\:0,unit\:"px"},this.top={value\:0,unit\:"px"},this.borders={left\:0,right\:0,top\:0,bottom\:0},this._positioning=t||"container",this.origin={horizontal\:"left",vertical\:"top"},this._usesFixedPositioning=!1,this._minWidth={value\:0,unit\:"px"},this._minHeight={value\:0,unit\:"px"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error("Placement.attachTo not implemented")},Placement.prototype.getContainer=function(){throw new Error("Placement.getContainer not implemented")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,"creative",{get\:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,"positioning",{get\:function(){return this._positioning},set\:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,"visible",{get\:function(){return this._visible}}),Object.defineProperty(Placement.prototype,"_canUseFixedPositioning",{get\:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable\:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value\:n.value,unit\:n.unit},this.height={value\:r.value,unit\:r.unit}),this._visible&&("screen"==this.positioning?(o=h.width,s=h.height)\:"page"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight)\:(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),"%"==n.unit&&(n.value=Math.round(n.value*o/100),n.unit="px"),"%"==r.unit&&(r.value=Math.round(r.value*s/100),r.unit="px"),"%"==l.unit&&(l.value=Math.round(l.value*o/100),l.unit="px"),"%"==a.unit&&(a.value=Math.round(a.value*s/100),a.unit="px"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit("resized"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement("div"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position="absolute",t.style.setProperty("display","block","important"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat(["celtra-placement"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!("StickyPlacement"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position="relative")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty("cssCustomClass")&&"string"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(",")),e},Placement.prototype._clearCSS=function(){this.root.style=""},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class "'+t+'" not added\: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+"px solid transparent",this.root.style.borderRight=e+"px solid transparent",this.root.style.borderTop=i+"px solid transparent",this.root.style.borderBottom=o+"px solid transparent",this.borders={left\:t,right\:e,top\:i,bottom\:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case"screen"\:if(this._canUseFixedPositioning)this.root.style.position="fixed","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft=o?""\:(r.width-this.root.offsetWidth)/2+"px")\:(this.root.style.right=s.value+s.unit,this.root.style.left="auto",this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop=(r.height-this.root.offsetHeight)/2+"px")\:(this.root.style.bottom=n.value+n.unit,this.root.style.top="auto",this.root.style.marginTop="");else{var l="",a="";if("%"==s.unit&&(s.value*=r.width/100,s.unit="px"),"%"==n.unit&&(n.value*=r.height/100,n.unit="px"),"left"==this.origin.horizontal)s.value+=r.left;else if("center"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)/2+"px";else{var u="%"==this.width.unit?this.width.value/100*r.width\:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if("top"==this.origin.vertical)n.value+=r.top;else if("center"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)/2+"px";else{var p="%"==this.height.unit?this.height.value/100*r.height\:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position="absolute",this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom="auto"}break;case"container"\:this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="")\:"center"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right="auto",this.root.style.marginLeft="px"==this.height.unit?-Math.round(this.width.value/2)+"px"\:-(this.root.offsetWidth/2)+"px")\:(this.root.style.left="auto",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=""),"top"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="")\:"center"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom="auto",this.root.style.marginTop="px"==this.height.unit?-Math.round(this.height.value/2)+"px"\:-(this.root.offsetHeight/2)+"px")\:(this.root.style.top="auto",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop="");break;case"page"\:var c={width\:this.root.ownerDocument.documentElement.clientWidth,height\:this.root.ownerDocument.documentElement.clientHeight};"%"==s.unit&&(s.value=Math.round(s.value*c.width/100),s.unit="px"),"%"==n.unit&&(n.value=Math.round(n.value*c.height/100),n.unit="px"),this.root.style.position="absolute","left"==this.origin.horizontal?(this.root.style.left=s.value-h.left+"px",this.root.style.top=n.value-h.top+"px")\:"center"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)/2-h.left+s.value+"px",this.root.style.top=(c.height-this.root.offsetHeight)/2-h.top+n.value+"px")\:(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+"px",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+"px"),this.root.style.right=this.root.style.bottom="auto";break;case"static"\:this.root.style.position="static",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom="auto",this.root.style.marginLeft=this.root.style.marginTop=""}this.emit("repositioned")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,"usesFixedPositioning",{get\:function(){return this._usesFixedPositioning},set\:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable\:!0}),Placement.prototype.hide=function(){this.root.style.display="none",this._visible=!1,this.emit("hidden")},Placement.prototype.show=function(){this.root.style.display="block",this._visible=!0,this.update(),this.emit("shown")},Placement.prototype.destroy=function(){this.emit("destroyed"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),"max"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error("Not implemented")},Placement.prototype.querySelector=function(){throw new Error("Not implemented")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if("screen"==this.positioning&&this._canUseFixedPositioning)return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:this.root.offsetLeft,top\:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width\:this.root.offsetWidth,height\:this.root.offsetHeight,left\:t.left-e.left,top\:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value\:t,unit\:"px"};var e=t.match(/^(-?[\\d.]+)(px|%)$/);if(!e)throw new Error('Cannot parse length "'+t+'"');return{value\:parseFloat(e[1],10),unit\:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left\:e.left,top\:e.top,width\:t.size.width,height\:t.size.height},o=t.horizontalPosition||"center",s=t.verticalPosition||"center";return"center"==o?i.left+=(e.width-t.size.width)/2\:"right"==o&&(i.left+=e.width-t.size.width),"center"==s?i.top+=(e.height-t.size.height)/2\:"bottom"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit("populated"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error("Not implemented")},Placement.prototype.setBackground=function(t){null==t&&(t="none"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY="auto",ios()&&(i.style.webkitOverflowScrolling="touch",detach(i,"touchmove",t,!1)))\:(i.style.overflowY="hidden",ios()&&(i.style.webkitOverflowScrolling="auto",attach(i,"touchmove",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement("div");e.style.cssText="position\:absolute;top\:0;left\:0;width\:100%;height\:100%;opacity\:0.01;background\:black;",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\x0afunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,"",n,r);return i.root=t.parentNode,i.root.style.display="none",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,"notranslate"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="initial-scale=1,maximum-scale=1"/></head><body><div id="viewport"></div></body></html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error("Root node not attached to document yet!");return this.querySelector("#viewport")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement("iframe"),this.frame.style.border="0px",this.frame.setAttribute("frameborder","0"),this.frame.setAttribute("scrolling","no"),this.frame.setAttribute("allowFullScreen",""),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error("Can't access contentWindow of an iframe, skip placement initialization.");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n="";for(var t in this.windowVarsByCopy)n+="window."+t+" = "+JSON.stringify(this.windowVarsByCopy[t])+";\\n";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement("script");r.textContent=n+";\\n"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,"load",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t)\:null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t)\:[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector("#viewport")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement("script");t.textContent="window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}",this.frame.contentDocument.querySelector("head").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container\:this._getViewportElement()})};;\x0afunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement("div"),this.root.style.overflow="hidden",addClass(this.root,"notranslate"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,"DivPlacement.attachTo defer callback",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\x0afunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal="center",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,"",e,s,o);return n.root=t.parentNode,n.root.style.display="none",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,"notranslate"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,"celtra-placement-sticky")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once("populated",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow="visible",this._dismissButton=this.root.ownerDocument.createElement("img"),this._dismissButton.src=this.stickyOptions.baseUrl+"runner/clazzes/CreativeUnit/close-up.svg",this._dismissButton.style)switch(position="absolute",left="auto",right="6px",width="32px",height="32px",zIndex=10,this.stickyOptions.stickiness){case"top"\:top="auto",bottom="-16px";break;case"bottom"\:top="-16px",bottom="auto"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,"touchend",this._handleDismissTouchEnd,!1)\:attach(this._dismissButton,"click",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)["padding-"+this.stickyOptions.stickiness]),i.style["padding-"+this.stickyOptions.stickiness]=this.root.offsetHeight+"px"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style["padding-"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display="none"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display="block"};;\x0afunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable["viewable"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability\:this.observingViewability,observingViewableTime\:this.observingViewableTime},this._allowNonNativeRAFForViewableTime="1"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name\:"userError",userErrorId\:"nonFriendlyIFrame"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,"placements",{get\:function(){return this.adapter.placements},enumerable\:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability("00")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error("transitionTo not implemented")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i\:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on("orientationchange",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on("resized",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on("shown",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on("hidden",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,"win"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name\:"viewportPlacementGeometry",pageDimensions\:this.adapter.getPageDimensions(),viewportPositionRect\:r,firstPlacementPositionRect\:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime="0"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t)\:new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=["INPUT","TEXTAREA","SELECT"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\x0afunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio\:0,boundingClientRect\:{bottom\:0,height\:0,left\:0,right\:0,top\:0,width\:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry()\:this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t)\:null;return{globalUnitRect\:s,intersect\:a,ratio\:a&&s.area>0?a.area/s.area\:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect\:this._asyncComputed.boundingClientRect,intersect\:e,ratio\:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio\:e.intersectionRatio,rect\:e.intersectionRect,boundingClientRect\:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i/e;t.push(r)}return t}var t=this.element,i=50,r={threshold\:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on("containerViewableChange",this._calc),Ticker.frame(this._calc,"update"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off("containerViewableChange",this._calc),Ticker.removeFrame(this._calc,"update");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0\:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);"Core"==e?o()\:this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable("Core",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable("IAB",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable("IABvideo",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable("FBvideo",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case"IAB"\:var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd\:this.criteria.IABsmallAd;case"Core"\:case"IABvideo"\:case"FBvideo"\:return this.criteria[e];default\:throw new Error("Unknown viewability criterion.")}},UnitViewabilityObserver.criteria={Core\:{name\:"Core",ratio\:0,time\:0},IABsmallAd\:{name\:"50/1",ratio\:.5,time\:1e3},IABlargeAd\:{name\:"30/1",ratio\:.3,time\:1e3},IABvideo\:{name\:"50/2",ratio\:.5,time\:2e3},FBvideo\:{name\:"50/3",ratio\:.5,time\:3e3}};;\x0afunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling\:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on("containerViewableChange",this._autoSwitchObserverRunningState)),e.on("destroyed",this.destroy),this._autoSwitchObserverRunningState(),e.on("shown",this._autoSwitchObserverRunningState),e.on("hidden",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().addEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener("touchend",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start()\:!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit("rectInViewChanged",this.rectInView),this.emit("outerRectInViewChanged",this.outerRectInView),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString()),this.emit("areaInViewRatioChanged",this.areaInView),Logger("InViewObject").debug(this.placement.constructor.name+", areaInViewRatioChanged\: "+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView()\:this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect())\:CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO\:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit("rectInViewChanged",h),Logger("InViewObject").debug(this.placement.constructor.name+", rectInViewChanged\: "+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit("outerRectInViewChanged",s),Logger("InViewObject").debug(this.placement.constructor.name+", placementRectInViewChanged\: "+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener("scroll",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener("touchstart",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener("touchend",this._onTouchEnd,!0)),this.stop(),this.adapter.off("containerViewableChange",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.frame(this._tick,"update")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off("outerRectInViewChanged",this.computeRectInView)\:this.adapter.Ticker.removeFrame(this._tick,"update")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\x0afunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent("MouseEvents");a.initEvent("tap",!0,!0),e.dispatchEvent(a)}var c="undefined"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,"click",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,"touchstart",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,"touched");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,"touched")\:addClass(r,"touched")}},k=function(){if(!T&&(T=!0,detach(t,"touchmove",w,!1),detach(t,"touchend",arguments.callee,!1),hasClass(r,"touched"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,"touched"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,"touchend",y,!0),nextFrame(function(){m=!0,k()})};attach(t,"touchcancel",function(t){removeClass(r,"touched"),k(t)},!1),attach(t,"touchmove",w,!1),attach(t,"touchend",k,!1),attach(t,"touchend",y,!0)}},!0)};\x0afunction CrossScreenFormat(t){Format.apply(this,arguments),t.adBehavior.attachInlinePlacementToViewport=!0}inherit(CrossScreenFormat,Format),CrossScreenFormat.extractBreakpoints=function(t){return t.widthBreakpoints},CrossScreenFormat.prototype.setupInlineWebPlacementContainer=function(t,e){var i=this.sticky&&"body"==t.tagName.toLowerCase();if("static"!=t.ownerDocument.defaultView.getComputedStyle(t).position||i||(t.style.position="relative"),this.adapter.nesting.iabFriendlyIframe&&"1"!==this.adapter.runtimeParams.preventIFrameBusting&&this.adapter.hideIABFriendlyIframe(),t.style.width="100%",t.style.height=this._getContainerHeight(e.minimumSize.height),!this.adapter.usePubCSS){if(e.lockedToVariant)return t.style.minWidth=e.lockedToVariant.baseSize.width+"px",void(t.style.minHeight=e.lockedToVariant.baseSize.height+"px");t.style.minWidth=t.clientWidth<=1?e.widthBreakpoints[0].width+"px"\:Math.min(t.offsetWidth,e.widthBreakpoints[0].width)+"px",0===t.offsetHeight?(this._setHeightFromMatchingBreakpoint=!0,t.style.minHeight=this._getMinHeightForFlexiblePlacement(t.offsetWidth,e))\:this._setHeightFromMatchingBreakpoint=!1}},CrossScreenFormat.prototype._getContainerHeight=function(t){if(!this.adapter.nesting.iabFriendlyIframe||"1"===this.adapter.runtimeParams.preventIFrameBusting)return"100%";var e=this.adapter.readIABIFrameHeight();return"px"===e.unit&&e.value>=t?e.toString()\:this.sticky?void 0\:"100%"},CrossScreenFormat.prototype._getMinHeightForFlexiblePlacement=function(t,e){var i;return this.uvOverrideSize?i=this.uvOverrideSize.height\:(e.variantSelector="widestThenShortest",i=e.usesUpdatedVariantSelection?e.getVariantForSize(t,this.adapter.getTopWindow().innerHeight).getComputedHeight(t)\:e.getMatchingBreakpoint(t).height),i+"px"},CrossScreenFormat.getVariantForSize=function(t,e,i){function r(t,e,i){function r(t,e,i){return e>=t.layouts[0].minSize.width&&i>=t.layouts[0].minSize.height?1\:0}function n(t,e,i){var r=t.layouts[0].minSize.width/t.layouts[0].minSize.height,n=e/i;return r>n?e/t.layouts[0].minSize.width\:i/t.layouts[0].minSize.height}function a(t,e,i){var r=n(t,e,i);return t.layouts[0].minSize.width*t.layouts[0].minSize.height*r*r/(e*i)}function o(t,e,i){return r(t,e,i)*a(t,e,i)/n(t,e,i)}var s=t.map(function(t){return{variant\:t,rank\:o(t,e,i)}}).sort(function(t,e){return e.rank-t.rank});return s[0].variant}return t.getVariantForSize?t.getVariantForSize(e,i)\:r(t.variants,e,i)};;\x0afunction CrossScreenBannerFormat(e){CrossScreenFormat.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,e.adBehavior.adWillHideIframe=!0,e.adBehavior.canBeInterstitialPlacement=!0,e.adBehavior.crossScreenSticky=this.sticky="top"==this.adapter.runtimeParams.sticky||"bottom"==this.adapter.runtimeParams.sticky,this._placementSize=new StateObject({width\:0,height\:0,minHeight\:0}),this._update=this._update.bind(this),this._render=this._render.bind(this),this.thumbnailMode="thumb"==this.adapter.runtimeParams.purpose,this.thumbnailMode?this.setupThumbnail()\:this.setup()}inherit(CrossScreenBannerFormat,CrossScreenFormat),CrossScreenBannerFormat.prototype.setup=function(){this.setupViewableTimeObserver(),this.adapter.on("ready",function(){this.adapter.on("stateChange",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo("default")}.bind(this))},CrossScreenBannerFormat.prototype.setupThumbnail=function(){this.adapter.on("ready",function(){this.transitionTo("default")}.bind(this))},CrossScreenBannerFormat.prototype.populateBanner=function(e,t){var i=this.units.banner=e.creative.units.banner;i.swipeable=!0,this.adapter.isRxAvailable&&i.createRxState(),this.sticky&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),i.firstAppearWithoutUserInteraction=!0,this.connectPlacementEventsToUnitBehavior(e,i);var a=i.getNode(function(){e.populate(a,t)}.bind(this)),r=e.creative,n=r.secure?r.staticUrl\:r.insecureStaticUrl;"function"==typeof AppleNewsBadge&&(new AppleNewsBadge).createAppleNewsBadge(a,n,function(e){this.adapter.showMessage(e)}.bind(this))},CrossScreenBannerFormat.prototype.transitionTo=function(e,t){if(t||(t=noop),null===this.state&&"default"==e)this._transitionFromNullToDefault(t);else{if("default"!=this.state&&null!==this.state||"dismissed"!=e)throw new Error("Invalid state transition request! ("+this.state+" => "+e+")");this.destroy()}this.state=e},CrossScreenBannerFormat.prototype._transitionFromNullToDefault=function(e){this._ensureBannerPlacement(function(t){t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(t.root),this._triggerAppearAfterViewable(t,this.units.banner),this.start(),e()}.bind(this))},CrossScreenBannerFormat.prototype._ensureBannerPlacement=function(e){this.placements.banner?defer(function(){e(this.placements.banner)}.bind(this))\:this.adapter.createPlacements({banner\:{attachment\:"inline",positioning\:this.sticky?"static"\:"container",type\:"unit"}},function(){var t=this.placements.banner,i=t.creative.units.banner;if(t.applyCustomPubClasses(),this.adapter.usePubCSS=t.usePubClasses(),t.addClasses("celtra-banner"),this.adapter.runtimeParams.creativeVariantLockSize&&i.lockVariantSelectionToSize(this.adapter.runtimeParams.creativeVariantLockSize),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.isInlineWebPlacement&&this.setupInlineWebPlacementContainer(t.root.parentNode,i),this.sticky&&!this.adapter.usePubCSS){i.variantSelector="widestThenShortest";var a=t.root.parentNode.offsetWidth,r=i.getVariantForSize(a,i.getLargestComputedHeight(a));t.setSize("100%",r.getComputedHeight(a))}else this.adapter.isPreviewAdapter&&(i.variantSelector="fittingWidestThenTallest"),t.setSize("100%","100%");t.setPosition(0,0),t.show();var n=t.getPlacementGeometry();i.setAvailableSize(n.width,n.height),this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(i),i.enterRenderTree(),e(t)}.bind(this))}.bind(this))},CrossScreenBannerFormat.prototype._triggerAppearAfterViewable=function(e,t){this.adapter.viewabilityMeasurable.viewable00?this.adapter.waitForViewableCore(e,t.node,function(i){e.creative.track({name\:"viewable00",criterion\:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),t.appear()}.bind(this))\:defer(function(){t.appear()},void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(e,t.node,function(t){e.creative.track({name\:"viewable501",criterion\:t})})},CrossScreenBannerFormat.prototype.destroy=function(){this.stop(),CrossScreenBannerFormat.uber.destroy.apply(this)},CrossScreenBannerFormat.prototype.start=function(){this.adapter.Ticker.frame(this._update,"update"),this.adapter.Ticker.frame(this._render,"render")},CrossScreenBannerFormat.prototype.stop=function(){this.adapter.Ticker.removeFrame(this._update,"update"),this.adapter.Ticker.removeFrame(this._render,"render")},CrossScreenBannerFormat.prototype._update=function(){if(this.units.banner){var e=this.units.banner;if(e.updateRxState(this.placements.banner.root),this.adapter.usePubCSS){var t=this.placements.banner.root;return this._placementSize.width=t.offsetWidth,void(this._placementSize.height=t.offsetHeight)}var i,a=this.placements.banner.root.parentNode,r=a.offsetWidth,n=a.offsetHeight,s=this._placementSize.minHeight;if(i=e.usesUpdatedVariantSelection?this.placements.banner.getViewportGeometry().height\:e.getLargestComputedHeight(r),this.sticky){e.variantSelector="widestThenShortest";var o=e.getVariantForSize(r,i);n=s=o.getComputedHeight(r)}else if(this.adapter.isPreviewAdapter){e.variantSelector="fittingWidestThenTallest";var h=a.parentNode.style.height;h="string"==typeof h&&h.length?parseInt(h)\:i;var o=e.getVariantForSize(r,h);s=o.getComputedHeight(r)}else if(this.adapter.isInlineWebPlacement&&(this._setHeightFromMatchingBreakpoint||0===a.offsetHeight)){e.variantSelector="widestThenShortest";var o=e.getVariantForSize(r,i);s=o.getComputedHeight(r),n=Math.max(s,n),this._setHeightFromMatchingBreakpoint||(this._setHeightFromMatchingBreakpoint=!0)}else if(e.getVariantForSize(r,n).scaleUnit){e.variantSelector=null,i=a.offsetHeight;var o=e.getVariantForSize(r,i);s=n=Math.min(o.getComputedHeight(r),i)}this._placementSize.width=r,this._placementSize.height=n,this._placementSize.minHeight=s}},CrossScreenBannerFormat.prototype._render=function(){if(this._placementSize.isDirty()){var e=this.placements.banner;if(!this.adapter.usePubCSS){if(this.adapter.isInlineWebPlacement&&this._placementSize.isDirty("minHeight")){var t=e.root.parentNode;t.style.minHeight=this._placementSize.minHeight+"px"}this.sticky&&e.enableDocumentPadding()}e.setSize(this._placementSize.width,this._placementSize.height),this._placementSize.markClean()}};;\x0afunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return"1"===t||e&&"treatment"===e.chosenVariant&&"0"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h("DeferWithAsap"),e._useAsap),this._renderBeforeDomReady=c(h("RenderBeforeDomReady"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel="",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded\:!1,viewabilityObservee\:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial\:!1,expandable\:!1,expanded\:!1,sticky\:!1,crossScreenSticky\:!1,attachInlinePlacementToViewport\:!1,scrollable\:!1},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00\:!1,viewable501\:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,"undefined"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll\:ios("9")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width\:"100%",height\:"100%"},this.mediaState=new MediaState,this.nativeRAFIsSupported=["r","webkitR","mozR","msR"].some(function(e){return e+"equestAnimationFrame"in window}),this.visibilityApiIsSupported=["webkit","moz","ms",""].some(function(e){return(e?e+"Hidden"\:"hidden")in window.document});var u=function(e){e&&(this.trackingCenter.track({name\:"containerBecameViewable"}),this.off("containerViewableChange",u))}.bind(this);defer(function(){var e=this.perf.start("Adapter.startObservingEnvironment");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name\:"containerBecameViewable"})\:this.on("containerViewableChange",u))}.bind(this),0,"SDKAdapter defer _startObservingEnvironment",this.useAsap),this.on("containerViewableChange",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("unload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("beforeunload",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener("pagehide",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on("resize",this._updatePlacements),this._displayed=!1,this.on("displayed",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once("domReady",this.perf.marks("Adapter.domReady")),this.once("documentReady",this.perf.marks("Adapter.documentReady")),this.once("sdkReady",this.perf.marks("Adapter.sdkReady")),this.once("ready",this.perf.marks("Adapter.ready")),defer(function(){var e=this.perf.start("Adapter.initSdk");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit("sdkReady")}.bind(this),0,"SDKAdapter defer sdkReady",this.useAsap))}.bind(this),0,"SDKAdapter defer _initSdk",this.useAsap),this.on("documentReady",function(){android("4.0")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid\:"undefined"!=typeof this.tagWindow.mraid};e(t)}.bind(this),"mraidCheckEnvironmentInfo")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.dataLoadStatus},enumerable\:!0},blobURIsSupported\:{get\:function(){return!!runtimeParams.protoLoading&&"supported"===runtimeParams.protoLoading.blobLoadStatus},enumerable\:!0}}),Object.defineProperty(SDKAdapter.prototype,"__CELTRA",{get\:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats\:[]}),this.getTopWindow().__CELTRA},enumerable\:!0}),Object.defineProperty(SDKAdapter.prototype,"assumeScrollSupported",{get\:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return"$sf"in e&&e.$sf.ext}function t(e){return e.context&&"undefined"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,"orientation",{get\:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable\:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,"containerIsViewable",{get\:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable\:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),"ReportingObserver"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on("domReady",function(){this._initDocument(deferred(this.emits("documentReady"),0,"SDKAdapter._startObservingEnvironment deferred documentReady",this.useAsap))}.bind(this)),this.once("sdkReady",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width\:this.getTopWindow().innerWidth,height\:this.getTopWindow().innerHeight},n={width\:this.tagWindow.innerWidth,height\:this.tagWindow.innerHeight},r={scope\:"global",userAgent\:this.getTopWindow().navigator.userAgent,orientation\:this.orientation,topmostReachableWindow\:i,hostWindow\:n,nesting\:this.nesting,pageVisibilityApi\:this.visibilityApiIsSupported,requestAnimationFrame\:this.nativeRAFIsSupported,topWindowNativeRAFSupported\:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed\:"1"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes\:(new Date).getTimezoneOffset(),supportsContainerViewability\:this.supportsContainerViewability,supportsContainerInitialViewability\:this.supportsContainerInitialViewability,tagParentWidth\:t?t.clientWidth\:"",tagParentHeight\:t?t.clientHeight\:"",ampDetected\:this.ampDetected,ampNestingLevel\:this.ampNestingLevel,safeFrameDetected\:this.safeFrameDetected,fetchSupported\:isFetchSupported(),asapEnabled\:this.useAsap,nativePromisesSupported\:isNativeImplementation(window.Promise),beaconSupported\:isBeaconSupported(),IntersectionObserverSupported\:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported\:isNativeImplementation(window.MutationObserver),webView\:deviceInfo.browser.webView(),isWindowOpenNative\:"function"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf("[native code]")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+"//"+this.getTopWindow().location.host,"undefined"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+"...")}e(r)}.bind(this),"environmentInfo")}.bind(this)),this._renderBeforeDomReady)this.emit("domReady");else{var a=!1;this._waitForDomReady(function(){a||(this.emit("domReady"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error("SDKAdapter._onReportReceived not implemented!")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback\:null,_viewportChangeCallback\:null,start\:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener("resize",this._resizeHandler,!1),n.addEventListener("scroll",this._scrollHandler,!1),ios()&&(n.addEventListener("focus",this._focusHandler,!0),n.addEventListener("blur",this._blurHandler,!0))},stop\:function(){var t=e.getTopWindow();t.removeEventListener("resize",this._resizeHandler,!1),t.removeEventListener("scroll",this._scrollHandler,!1),ios()&&(t.removeEventListener("focus",this._focusHandler,!0),t.removeEventListener("blur",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),"undefined"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),"undefined"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200))\:e.dismiss()}.bind(t),t._scrollHandler=function(){"undefined"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback())\:e.dismiss()}.bind(t),t._focusHandler=function(t){["INPUT","TEXTAREA"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios("9",null)?100\:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued\:!1,start\:function(){t.addEventListener("orientationchange",this._handler,!1)},stop\:function(){t.removeEventListener("orientationchange",this._handler,!1)},getOrientation\:function(){return e._normalizeOrientation(t.orientation)||0},_handler\:function(){"undefined"!=typeof window?(e.emit("_rawOrientationChange"),i._orientationChangeEventQueued=!0,e.once("resize",i._trigger),setTimeout(i._trigger,1e3))\:e.dismiss()},_trigger\:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits("orientationchange")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable\:!1,start\:function(){defer(function(){this.isViewable=!0,e.emit("containerViewableChange",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop\:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraLoaded",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent("HTMLEvents");t.initEvent("celtraClosed",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e)\:void this.once("displayed",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on("containerViewableChange",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function("f","return function() { f(); };"),r={_detachmentHandler\:null,_interval\:60,_timer\:null,start\:function(t){this._detachmentHandler=t,this._timer=i.setTimeout(this.wrappedTimerTick,this._interval),e.Ticker.frame(this.rafTick,"update")},stop\:function(){i.clearTimeout(this._timer),this._timer=null,e.Ticker.removeFrame(this.rafTick,"update")},timerTick\:function(){this.isDetached()?this._detachmentHandler()\:this._timer=i.setTimeout(this.wrappedTimerTick,this._interval)},rafTick\:function(){this.isDetached()&&this._detachmentHandler()},isDetached\:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1\:(this._timer=null,!0)}return!0}};return r.timerTick=r.timerTick.bind(r),r.rafTick=r.rafTick.bind(r),r.wrappedTimerTick=n(r.timerTick),r},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=["Nexus 10","GT-N8","SM-P60","GT-P5","SCH-19","GT-P7","SM-T9","SM-T8"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;"interactive"===t.readyState||"loaded"===t.readyState||"complete"===t.readyState?defer(e,0,"SDKAdapter._waitForDomReady defer cb",this.useAsap)\:t.addEventListener("DOMContentLoaded",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};"complete"===t.document.readyState?defer(e,0,"SDKAdapter.waitForWindowLoad readyState === complete cb",this.useAsap)\:(t.setTimeout(r,1e3*i),t.addEventListener("load",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit("beforeResize",function(t){e=t}),e?defer(function(){this.emit("resize")}.bind(this),700)\:this.emit("resize")},SDKAdapter.prototype._handleViewportChange=function(){this.emit("viewportChange")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit("orientationchange",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits("placementsUpdated"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,"undefined"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit("mediaStopRequested",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll("audio,video"),i=0;i<t.length;i++)t[i].hasAttribute("x-celtra-media")||"function"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start("Adapter.createPlacements",r);if(0==r.length)o.end(),defer(t,0,"SDKAdapter.createPlacements defer no placements callback",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,"SDKAdapter.createPlacements defer callback",s)}),r.forEach(function(t){var i=e[t],n={attachment\:i.attachment,positioning\:i.positioning,type\:i.type},r=this.perf.start("Adapter.createPlacement",{name\:t,descriptor\:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,"SDKAdapter.createPlacements defer scheduler notifies",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error("SDKAdapter.createPlacement not implemented!")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i)\:t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect())\:CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left\:0,top\:0,width\:e.innerWidth,height\:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error("SDKAdapter.expand not implemented!")},SDKAdapter.prototype.collapse=function(){throw new Error("SDKAdapter.collapse not implemented!")},SDKAdapter.prototype.dismiss=function(){throw new Error("SDKAdapter.dismiss not implemented!")},SDKAdapter.prototype.resize=function(){throw new Error("SDKAdapter.resize not implemented!")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error("SDKAdapter.playVideoInPlayer not implemented!")},SDKAdapter.prototype.callPhone=function(e){window.location.href="tel\:"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error("SDKAdapter.getApp not implemented!")},SDKAdapter.prototype.canSaveImage=function(){throw new Error("SDKAdapter.canSaveImage not implemented!")},SDKAdapter.prototype.saveImage=function(){throw new Error("SDKAdapter.saveImage not implemented!")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;"undefined"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name\:"userError",userErrorId\:"exitUriIsEmpty"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o())\:(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i)\:this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||"undefined"==typeof t.closed?!1\:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0\:(this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"new"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error("SDKAdapter._openInSameWindow not implemented!")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator("openBrowserFailed",1,{targetWindow\:"same"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height\:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width\:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?"https\:"\:"webcal\:";return{url\:CCalendar.getEventICSUrl(e,t),openInNewWindow\:!1}}return{url\:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow\:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0))\:t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return"a"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?"portrait"\:"landscape"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i="n"===n?"noOrientation"\:"l"===n?"landscape"\:"p"===n?"portrait"\:"a"===n&&t?t.width<t.height?"portrait"\:t.width>t.height?"landscape"\:e()\:e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name\:t,error\:i.message+"\\n"+i.stack},n)}}if("function"!=typeof e)throw new Error("The dataCollector param was not a function.");if("undefined"==typeof t)throw new Error("The eventName param was not defined.");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement("div");return e.id="viewport",e.style.cssText="position\: absolute; left\: 0; top\: 0; width\: 100%; height\: 100%; overflow\: visible;",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\x0afunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios("7"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on("ready",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,"assumeScrollSupported",{get\:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits("displayed"),void 0,"BrowserAdapter emits displayed on ready",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();"ontouchstart"in e||navigator.msMaxTouchPoints||attach(e.document,"mouseout",function(t){t=t?t\:e.event;var i=e.document.documentElement,n=Math.max(i.clientWidth,e.innerWidth||0),r=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,p=o>n-1,d=1>s,l=s>r-1;t.toElement&&"HTML"!==t.toElement.tagName||!(a||p||d||l)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-d>n?i()\:o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener("click",e,!0),a.parentNode.removeChild(a),a=null)}var n=500,r=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement("div")),p=s.createElement("script"),d=new Date;a.id="celtra-click-shield-"+r,a.style.position="absolute",a.style.left=a.style.top=0,a.style.width="100%",a.style.height="100%",a.style.background="none",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.addEventListener("click",e,!0),s.body.appendChild(a),p.type="text/javascript";var l="window.setTimeout(function() { var shield = document.getElementById('"+a.id+"'); if (shield) { shield.parentNode.removeChild(shield); }}, "+n+");";try{p.appendChild(s.createTextNode(l))}catch(c){p.text=l}a.appendChild(p),o.requestAnimationFrame(t),defer(i,n)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported\:!1,propertyName\:"",eventName\:"",isVisible\:function(){return this.isSupported?!t[this.propertyName]\:!0},init\:function(){["webkit","moz","ms",""].forEach(function(e){var i=e?e+"Hidden"\:"hidden";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+"visibilitychange")},this)}};i.init();var n=this.useAsap,r={isViewable\:!1,start\:function(){i.isVisible()&&defer(o,void 0,"BrowserAdapter observer start",n),i.isSupported&&t.addEventListener(i.eventName,o)},stop\:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit("containerViewableChange",this.isViewable)}.bind(r);return r},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)"screen"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==["newGeometryWithSampling","newGeometryWithoutSampling"].indexOf(this.experiments.get("UseNewUnitViewabilityLogic")&&this.experiments.get("UseNewUnitViewabilityLogic").chosenVariant),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r=i&&n;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,r)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()};;\x0afunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name\:"userError",userErrorId\:"multipleStickyAds"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk("1")||/\\bHTC.One.S\\b/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(/HTC/g.test(navigator.userAgent)||"hiding"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android("4.0"),this.hacks.requiresWrappingPlacementWithComments=windows("10"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(/Windowshop/.test(navigator.userAgent)&&kindle()),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00\:!0,viewable501\:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.nesting.iabFriendlyIframe&&"1"!==this.runtimeParams.preventIFrameBusting){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(s){}this._iabWin=n,this.win=this._iabWin.parent,this.hostElement=this.win.document.createElement("div"),this.readIABIFrameHeight=function(){function e(e){return"%"===e.slice(-1)?"%"\:"px"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute("height")||"0",n=parseInt(i,10),s=e(i);return{value\:n,unit\:s,toString\:function(){return n+s}}},this._iabWin.frameElement.parentNode.insertBefore(this.hostElement,this._iabWin.frameElement.nextSibling)}else this.win=this.tagWindow;addClass(this.hostElement,"celtra-ad-inline-host"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment("ie10hack"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on("documentReady",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||"1"===this.runtimeParams.preventIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&"undefined"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl\:(this.runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl)+"runner/FullscreenVideoPlayer/"}),this.emit("ready")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this._iabWin.frameElement.style.display="none")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+"px",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+"px")},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on("keyboardShown",this._onKeyboardShown),e.on("keyboardHidden",this._onKeyboardHidden),this.on("_rawOrientationChange",this._downsizePlacements))\:(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios("8",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(r),r instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(r.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter\:this.trackingCenter,aggregatorTracking\:this.aggregatorTracking,experiments\:this.experiments,adapter\:this,console\:console,runtimeParams\:this.runtimeParams,celtraDeviceInfoRuntimeParams\:this.runtimeParams.deviceInfo,nextFrame\:this.nextFrame,cancelFrame\:this.cancelFrame,Ticker\:this.Ticker,macros\:this.macros,perf\:this.perf},s={urls\:urls,urlOpenedOverrideUrls\:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls\:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage\:this.urlOpenedUrlAppendage,clickThroughDestinationUrl\:this.clickThroughDestinationUrl},r=null;switch(this._initialInnerDims={height\:adapter.getTopWindow().innerHeight,width\:adapter.getTopWindow().innerWidth},e.type){case"unit"\:if(["top","bottom"].indexOf(runtimeParams.sticky)>-1&&"static"==e.positioning){e.positioning="screen",e.attachment="body";var a={stickiness\:runtimeParams.sticky,showDismissButton\:"1"==runtimeParams.showDismissButton||"1"==runtimeParams.showStickyCloseButton,baseUrl\:runtimeParams.secure?urls.staticUrl\:urls.insecureStaticUrl,dismissCallback\:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};r=new StickyPlacement(e.positioning,this.unitScript,n,s,a)}else r=new IframePlacement(e.positioning,this.unitScript,n,s);break;case"layer"\:r=new DivPlacement(e.positioning);break;default\:throw new Error("I can't do that, Dave.")}if(!r.root||!r.root.parentNode){var o;"node"==e.attachment?o=e.parentNode\:"placement"==e.attachment?o=e.placement.root\:"inline"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement\:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport)\:o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&"1"==this.runtimeParams._nobust?this.tagWindow.document.body\:this.getTopWindow().document.body,r.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&r.once("populated",function(){(r instanceof IframePlacement||!(r instanceof IframePlacement)&&!this._topListenerAttached)&&(r.getContainer().ownerDocument.addEventListener("focus",this._onKeyboardShown,!0),r.getContainer().ownerDocument.addEventListener("blur",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow\:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this.nesting.hostileIframe?(this.openBrowserSameWindowInHostileIFrame(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e()))\:(this.animateExpansion=""!=t.animation&&this.enableCustomStateTransitions,this._stopAllMedia(),this._preExpandScroll={x\:this.win.scrollX,y\:this.win.scrollY},void this.waitForHook("beforeExpand",function(){this._enableClickShield(),defer(function(){this.emit("stateChange","expanded")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook("beforeCollapse",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit("stateChange","default")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook("beforeDismiss",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit("stateChange","dismissed"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook("beforeResize",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case"heavyAdCPUIntervention"\:case"heavyAdNetworkIntervention"\:this.trackingCenter.track({name\:"userError",userErrorId\:e}),this.trackingCenter.flushWithBeacon(),this.dismiss();break;default\:console.warn("Received unknown report!")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i)\:(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(/Chrome/.test(navigator.userAgent)||deviceInfo.os.ios("9",null)){var t=document.createElement("a");t.href="tel\:"+encodeURIComponent(e),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target="_top"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e)\:this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0\:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+"?transform=download&name="+t),i()},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement("style"),this._parentPageHighlightStyle.textContent="a, input, textarea, select { -webkit-tap-highlight-color\: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility\: hidden !important; }",this.getTopWindow().document.querySelector("head").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get("TrackViewableAreaChange")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name\:"viewableAreaRatio",ratio\:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,s=0,r=1e3,a=0,o=30,h=function(){s=n;var e={name\:"largestViewableAreaRatio",ratio\:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h())\:!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>s&&h(),this.trackViewableAreaRatio()}.bind(this),r))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=["touchmove","wheel"];else var t=["touchstart","touchmove","touchend","wheel"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive\:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\x0afunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait\:{left\:0,top\:0,width\:null,height\:0},landscape\:{left\:0,top\:0,width\:null,height\:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,"isPortrait",{get\:function(){return"undefined"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation\:this.win.innerWidth<this.win.innerHeight},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"isLandscape",{get\:function(){return!this.isPortrait},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"orientation",{get\:function(){return this.isPortrait?"portrait"\:"landscape"},enumerable\:!0}),Object.defineProperty(ViewportObserver.prototype,"fullInnerHeigth",{get\:function(){return"portrait"==this.orientation?adapter._initialInnerDims.height\:adapter._initialInnerDims.width},enumerable\:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener("orientationchange",this.triggerTimer),this.win.addEventListener("resize",this.triggerTimer),this.win.addEventListener("scroll",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener("orientationchange",this.triggerTimer),this.win.removeEventListener("resize",this.triggerTimer),this.win.removeEventListener("scroll",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit("keyboardShown"))\:(this.keyboardShown=!1,this.emit("keyboardHidden")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions())\:(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width\:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,"win")};;\x0a\x0a            Logger.initFromRuntimeParams(runtimeParams);\x0a\x0a            var urls = {"creativeUrl"\:"https\://ads.celtra.com/compiled/faa787f1/","apiUrl"\:"https\://hub.celtra.com/api/","cachedApiUrl"\:"https\://cache-ssl.celtra.com/api/","staticUrl"\:"https\://cache-ssl.celtra.com/api/static/vc1614b6250/","insecureCreativeUrl"\:"http\://ads.celtra.com/compiled/faa787f1/","insecureApiUrl"\:"http\://hub.celtra.com/api/","insecureCachedApiUrl"\:"http\://cache.celtra.com/api/","insecureStaticUrl"\:"http\://cache.celtra.com/api/static/vc1614b6250/","trackingUrl"\:"https\://track.celtra.com/","insecureTrackingUrl"\:"http\://track.celtra.com/","geoUrl"\:"https\://geo.celtra.com/","insecureGeoUrl"\:"http\://geo.celtra.com/","customAudiencesUrl"\:"https\://audiences.celtra.com","insecureCustomAudiencesUrl"\:"http\://audiences.celtra.com","shareUrl"\:"https\://hub-user.celtra.com/share/","insecureShareUrl"\:"http\://hub-user.celtra.com/share/"};\x0a            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl \: urls.insecureStaticUrl;\x0a\x0a            var shouldBatchTrackers = !!'';\x0a\x0a            var trackingCenter = new TrackingCenter(\x0a                runtimeParams.sessionId,\x0a                runtimeParams.accountId,\x0a                runtimeParams.purpose,\x0a                runtimeParams.secure ? urls.trackingUrl \: urls.insecureTrackingUrl,\x0a                trackers,\x0a                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\x0a            );\x0a\x0a            if (runtimeParams.fallbackSdkUsed === '1') {\x0a                trackingCenter.track({\x0a                    name \: 'fallbackSdkUsed',\x0a                    sdk  \: 'MobileWeb'\x0a                });\x0a            }\x0a\x0a            var aggregatorTracking = new AggregatorTracking(trackingCenter);\x0a\x0a            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\x0a\x0a            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\x0a\x0a            var perf = new PerformanceTracker(trackingCenter, experiments);\x0a\x0a            if (runtimeParams.clientTimestamp) {\x0a                // Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\x0a                // times from before PerformanceTracker is available\x0a                perf.collect({\x0a                    name\: 'redirectDownload',\x0a                    type\: 'interval',\x0a                    id\: null,\x0a                    startTime\: parseFloat(runtimeParams.clientTimestamp) * 1000,\x0a                    endTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                    args\: []\x0a                });\x0a            }\x0a\x0a            perf.collect({\x0a                name\: 'payloadDownload',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.redirectJsClientTimestamp * 1000,\x0a                endTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                args\: []\x0a            });\x0a\x0a            var unitName = 'banner';\x0a            var requiredDeviceType = 'Any';\x0a\x0a            perf.collect({\x0a                name\: 'payLoadDownloadedToAdapter.new',\x0a                type\: 'interval',\x0a                id\: null,\x0a                startTime\: runtimeParams.payloadJsClientTimestamp * 1000,\x0a                endTime\: Date.now(),\x0a                args\: []\x0a            });\x0a\x0a            var perfAdapterNew = perf.start('Adapter.new');\x0a            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\x0a            perfAdapterNew.end();\x0a            trackingCenter.windowForPixels = adapter.getTopWindow();\x0a\x0a            var perfFormatNew = perf.start('Format.new');\x0a            var format = new CrossScreenBannerFormat(adapter, {"banner"\:{"size"\:null,"variants"\:[{"backgroundColor"\:"rgba(0,0,0,1)","layouts"\:[{"minSize"\:{"width"\:900,"height"\:225}}]}]}});\x0a            perfFormatNew.end();\x0a        "	3.0140511240612947e-05
{Window}:"timer"	2.3314155225140837e-05
{HTMLBodyElement}:"closure_lm_40379"	0.0
{HTMLBodyElement}:"closure_lm_404639"	0.0
{HTMLBodyElement}:"closure_lm_404723"	0.0
{HTMLBodyElement}:"closure_lm_443316"	0.0
{HTMLBodyElement}:"closure_lm_405919"	0.0
{HTMLBodyElement}:"closure_lm_406453"	0.0
{HTMLBodyElement}:"closure_lm_441947"	0.0
{HTMLBodyElement}:"closure_lm_406520"	0.0
{HTMLBodyElement}:"closure_lm_408554"	0.0
{HTMLBodyElement}:"closure_lm_410682"	0.0
{HTMLBodyElement}:"closure_lm_62325"	0.0
{HTMLBodyElement}:"closure_lm_411237"	0.0
{HTMLBodyElement}:"closure_lm_411271"	0.0
{HTMLBodyElement}:"closure_lm_411371"	0.0
{HTMLBodyElement}:"closure_lm_629922"	0.0
{HTMLBodyElement}:"closure_lm_411417"	0.0
{HTMLBodyElement}:"closure_lm_413824"	0.0
{HTMLBodyElement}:"closure_lm_403349"	0.0
{HTMLBodyElement}:"closure_lm_403199"	0.0
{HTMLBodyElement}:"closure_lm_401408"	0.0
{HTMLBodyElement}:"closure_lm_443360"	0.0
{HTMLBodyElement}:"closure_lm_446971"	0.0
{HTMLBodyElement}:"closure_lm_446966"	0.0
{HTMLBodyElement}:"closure_lm_446795"	0.0
{HTMLBodyElement}:"closure_lm_446442"	0.0
{HTMLBodyElement}:"closure_lm_44547"	0.0
{HTMLBodyElement}:"closure_lm_622150"	0.0
{HTMLBodyElement}:"closure_lm_445089"	0.0
{HTMLBodyElement}:"closure_lm_445076"	0.0
{HTMLBodyElement}:"closure_lm_444943"	0.0
{HTMLBodyElement}:"closure_lm_397693"	0.0
{HTMLBodyElement}:"closure_lm_398016"	0.0
{HTMLBodyElement}:"closure_lm_398751"	0.0
{HTMLBodyElement}:"closure_lm_400655"	0.0
{HTMLBodyElement}:"closure_lm_400765"	0.0
{HTMLBodyElement}:"closure_lm_401378"	0.0
{HTMLBodyElement}:"closure_lm_622580"	0.0
{HTMLBodyElement}:"closure_lm_63045"	0.0
{HTMLBodyElement}:"closure_lm_414960"	0.0
{HTMLBodyElement}:"closure_lm_434000"	0.0
{HTMLBodyElement}:"closure_lm_433702"	0.0
{HTMLBodyElement}:"closure_lm_416138"	0.0
{HTMLBodyElement}:"closure_lm_628711"	0.0
{HTMLBodyElement}:"closure_lm_438747"	0.0
{HTMLBodyElement}:"closure_lm_436962"	0.0
{HTMLBodyElement}:"closure_lm_428185"	0.0
{HTMLBodyElement}:"closure_lm_428384"	0.0
{HTMLBodyElement}:"closure_lm_428940"	0.0
{HTMLBodyElement}:"closure_lm_624394"	0.0
{HTMLBodyElement}:"closure_lm_430099"	0.0
{HTMLBodyElement}:"closure_lm_435751"	0.0
{HTMLBodyElement}:"closure_lm_625457"	0.0
{HTMLBodyElement}:"closure_lm_430491"	0.0
{HTMLBodyElement}:"closure_lm_626535"	0.0
{HTMLBodyElement}:"closure_lm_430602"	0.0
{HTMLBodyElement}:"closure_lm_431812"	0.0
{HTMLBodyElement}:"closure_lm_435401"	0.0
{HTMLBodyElement}:"closure_lm_627901"	0.0
{HTMLBodyElement}:"closure_lm_432388"	0.0
{HTMLBodyElement}:"closure_lm_438751"	0.0
{HTMLBodyElement}:"closure_lm_439499"	0.0
{HTMLBodyElement}:"closure_lm_441585"	0.0
{HTMLBodyElement}:"closure_lm_441635"	0.0
{HTMLBodyElement}:"closure_lm_623898"	0.0
{HTMLBodyElement}:"closure_lm_41627"	0.0
{HTMLBodyElement}:"closure_lm_62409"	0.0
{HTMLBodyElement}:"closure_lm_417107"	0.0
{HTMLBodyElement}:"closure_lm_417248"	0.0
{HTMLBodyElement}:"closure_lm_41976"	0.0
{HTMLBodyElement}:"closure_lm_419843"	0.0
{HTMLBodyElement}:"closure_lm_4200"	0.0
{HTMLBodyElement}:"closure_lm_415503"	0.0
{HTMLBodyElement}:"closure_lm_4203"	0.0
{HTMLBodyElement}:"closure_lm_422629"	0.0
{HTMLBodyElement}:"closure_lm_629199"	0.0
{HTMLBodyElement}:"closure_lm_423110"	0.0
{HTMLBodyElement}:"closure_lm_424567"	0.0
{HTMLBodyElement}:"closure_lm_424983"	0.0
{HTMLBodyElement}:"closure_lm_425455"	0.0
{HTMLBodyElement}:"closure_lm_425675"	0.0
{HTMLBodyElement}:"closure_lm_426307"	0.0
{HTMLBodyElement}:"closure_lm_421665"	0.0
{HTMLBodyElement}:"closure_lm_427638"	0.0
{HTMLBodyElement}:"closure_lm_396908"	0.0
{HTMLBodyElement}:"closure_lm_630782"	0.0
{HTMLBodyElement}:"closure_lm_347421"	0.0
{HTMLBodyElement}:"closure_lm_349414"	0.0
{HTMLBodyElement}:"closure_lm_639228"	0.0
{HTMLBodyElement}:"closure_lm_350023"	0.0
{HTMLBodyElement}:"closure_lm_350517"	0.0
{HTMLBodyElement}:"closure_lm_350590"	0.0
{HTMLBodyElement}:"closure_lm_351008"	0.0
{HTMLBodyElement}:"closure_lm_351875"	0.0
{HTMLBodyElement}:"closure_lm_351905"	0.0
{HTMLBodyElement}:"closure_lm_352496"	0.0
{HTMLBodyElement}:"closure_lm_353023"	0.0
{HTMLBodyElement}:"closure_lm_639746"	0.0
{HTMLBodyElement}:"closure_lm_353786"	0.0
{HTMLBodyElement}:"closure_lm_638764"	0.0
{HTMLBodyElement}:"closure_lm_357766"	0.0
{HTMLBodyElement}:"closure_lm_359154"	0.0
{HTMLBodyElement}:"closure_lm_360369"	0.0
{HTMLBodyElement}:"closure_lm_361298"	0.0
{HTMLBodyElement}:"closure_lm_361516"	0.0
{HTMLBodyElement}:"closure_lm_361625"	0.0
{HTMLBodyElement}:"closure_lm_362374"	0.0
{HTMLBodyElement}:"closure_lm_363172"	0.0
{HTMLBodyElement}:"closure_lm_637805"	0.0
{HTMLBodyElement}:"closure_lm_363714"	0.0
{HTMLBodyElement}:"closure_lm_354589"	0.0
{HTMLBodyElement}:"closure_lm_347142"	0.0
{HTMLBodyElement}:"closure_lm_346558"	0.0
{HTMLBodyElement}:"closure_lm_346335"	0.0
{HTMLBodyElement}:"closure_lm_327895"	0.0
{HTMLBodyElement}:"closure_lm_328239"	0.0
{HTMLBodyElement}:"closure_lm_329375"	0.0
{HTMLBodyElement}:"closure_lm_329384"	0.0
{HTMLBodyElement}:"closure_lm_33090"	0.0
{HTMLBodyElement}:"closure_lm_330943"	0.0
{HTMLBodyElement}:"closure_lm_640828"	0.0
{HTMLBodyElement}:"closure_lm_333011"	0.0
{HTMLBodyElement}:"closure_lm_333840"	0.0
{HTMLBodyElement}:"closure_lm_333963"	0.0
{HTMLBodyElement}:"closure_lm_334525"	0.0
{HTMLBodyElement}:"closure_lm_334909"	0.0
{HTMLBodyElement}:"closure_lm_335447"	0.0
{HTMLBodyElement}:"closure_lm_336955"	0.0
{HTMLBodyElement}:"closure_lm_3376"	0.0
{HTMLBodyElement}:"closure_lm_339746"	0.0
{HTMLBodyElement}:"closure_lm_640108"	0.0
{HTMLBodyElement}:"closure_lm_339831"	0.0
{HTMLBodyElement}:"closure_lm_341638"	0.0
{HTMLBodyElement}:"closure_lm_341791"	0.0
{HTMLBodyElement}:"closure_lm_639932"	0.0
{HTMLBodyElement}:"closure_lm_342706"	0.0
{HTMLBodyElement}:"closure_lm_343111"	0.0
{HTMLBodyElement}:"closure_lm_343271"	0.0
{HTMLBodyElement}:"closure_lm_343967"	0.0
{HTMLBodyElement}:"closure_lm_363855"	0.0
{HTMLBodyElement}:"closure_lm_630484"	0.0
{HTMLBodyElement}:"closure_lm_363864"	0.0
{HTMLBodyElement}:"closure_lm_365131"	0.0
{HTMLBodyElement}:"closure_lm_385884"	0.0
{HTMLBodyElement}:"closure_lm_386242"	0.0
{HTMLBodyElement}:"closure_lm_386269"	0.0
{HTMLBodyElement}:"closure_lm_388115"	0.0
{HTMLBodyElement}:"closure_lm_38875"	0.0
{HTMLBodyElement}:"closure_lm_388985"	0.0
{HTMLBodyElement}:"closure_lm_636677"	0.0
{HTMLBodyElement}:"closure_lm_389258"	0.0
{HTMLBodyElement}:"closure_lm_390665"	0.0
{HTMLBodyElement}:"closure_lm_390721"	0.0
{HTMLBodyElement}:"closure_lm_391980"	0.0
{HTMLBodyElement}:"closure_lm_384155"	0.0
{HTMLBodyElement}:"closure_lm_635219"	0.0
{HTMLBodyElement}:"closure_lm_392159"	0.0
{HTMLBodyElement}:"closure_lm_392600"	0.0
{HTMLBodyElement}:"closure_lm_39427"	0.0
{HTMLBodyElement}:"closure_lm_39469"	0.0
{HTMLBodyElement}:"closure_lm_394852"	0.0
{HTMLBodyElement}:"closure_lm_633684"	0.0
{HTMLBodyElement}:"closure_lm_395312"	0.0
{HTMLBodyElement}:"closure_lm_395459"	0.0
{HTMLBodyElement}:"closure_lm_633623"	0.0
{HTMLBodyElement}:"closure_lm_632413"	0.0
{HTMLBodyElement}:"closure_lm_397495"	0.0
{HTMLBodyElement}:"closure_lm_635187"	0.0
{HTMLBodyElement}:"closure_lm_383634"	0.0
{HTMLBodyElement}:"closure_lm_637080"	0.0
{HTMLBodyElement}:"closure_lm_383382"	0.0
{HTMLBodyElement}:"closure_lm_36520"	0.0
{HTMLBodyElement}:"closure_lm_36523"	0.0
{HTMLBodyElement}:"closure_lm_637797"	0.0
{HTMLBodyElement}:"closure_lm_365846"	0.0
{HTMLBodyElement}:"closure_lm_366024"	0.0
{HTMLBodyElement}:"closure_lm_367783"	0.0
{HTMLBodyElement}:"closure_lm_637390"	0.0
{HTMLBodyElement}:"closure_lm_369150"	0.0
{HTMLBodyElement}:"closure_lm_369242"	0.0
{HTMLBodyElement}:"closure_lm_371601"	0.0
{HTMLBodyElement}:"closure_lm_371653"	0.0
{HTMLBodyElement}:"closure_lm_373088"	0.0
{HTMLBodyElement}:"closure_lm_373768"	0.0
{HTMLBodyElement}:"closure_lm_373793"	0.0
{HTMLBodyElement}:"closure_lm_374095"	0.0
{HTMLBodyElement}:"closure_lm_374257"	0.0
{HTMLBodyElement}:"closure_lm_376569"	0.0
{HTMLBodyElement}:"closure_lm_377462"	0.0
{HTMLBodyElement}:"closure_lm_377666"	0.0
{HTMLBodyElement}:"closure_lm_379303"	0.0
{HTMLBodyElement}:"closure_lm_379501"	0.0
{HTMLBodyElement}:"closure_lm_637373"	0.0
{HTMLBodyElement}:"closure_lm_379912"	0.0
{HTMLBodyElement}:"closure_lm_380399"	0.0
{HTMLBodyElement}:"closure_lm_381465"	0.0
{HTMLBodyElement}:"closure_lm_364602"	0.0
{HTMLBodyElement}:"closure_lm_447072"	0.0
{HTMLBodyElement}:"closure_lm_601283"	0.0
{HTMLBodyElement}:"closure_lm_447155"	0.0
{HTMLBodyElement}:"closure_lm_536716"	0.0
{HTMLBodyElement}:"closure_lm_53842"	0.0
{HTMLBodyElement}:"closure_lm_541495"	0.0
{HTMLBodyElement}:"closure_lm_541716"	0.0
{HTMLBodyElement}:"closure_lm_605566"	0.0
{HTMLBodyElement}:"closure_lm_542287"	0.0
{HTMLBodyElement}:"closure_lm_542342"	0.0
{HTMLBodyElement}:"closure_lm_543630"	0.0
{HTMLBodyElement}:"closure_lm_544071"	0.0
{HTMLBodyElement}:"closure_lm_545115"	0.0
{HTMLBodyElement}:"closure_lm_545252"	0.0
{HTMLBodyElement}:"closure_lm_536033"	0.0
{HTMLBodyElement}:"closure_lm_545943"	0.0
{HTMLBodyElement}:"closure_lm_547021"	0.0
{HTMLBodyElement}:"closure_lm_547366"	0.0
{HTMLBodyElement}:"closure_lm_547813"	0.0
{HTMLBodyElement}:"closure_lm_548368"	0.0
{HTMLBodyElement}:"closure_lm_54846"	0.0
{HTMLBodyElement}:"closure_lm_548558"	0.0
{HTMLBodyElement}:"closure_lm_549452"	0.0
{HTMLBodyElement}:"closure_lm_549643"	0.0
{HTMLBodyElement}:"closure_lm_550940"	0.0
{HTMLBodyElement}:"closure_lm_551665"	0.0
{HTMLBodyElement}:"closure_lm_553452"	0.0
{HTMLBodyElement}:"closure_lm_546362"	0.0
{HTMLBodyElement}:"closure_lm_535906"	0.0
{HTMLBodyElement}:"closure_lm_606221"	0.0
{HTMLBodyElement}:"closure_lm_535446"	0.0
{HTMLBodyElement}:"closure_lm_519386"	0.0
{HTMLBodyElement}:"closure_lm_519680"	0.0
{HTMLBodyElement}:"closure_lm_521457"	0.0
{HTMLBodyElement}:"closure_lm_521543"	0.0
{HTMLBodyElement}:"closure_lm_522227"	0.0
{HTMLBodyElement}:"closure_lm_523174"	0.0
{HTMLBodyElement}:"closure_lm_524580"	0.0
{HTMLBodyElement}:"closure_lm_525718"	0.0
{HTMLBodyElement}:"closure_lm_526827"	0.0
{HTMLBodyElement}:"closure_lm_609581"	0.0
{HTMLBodyElement}:"closure_lm_607553"	0.0
{HTMLBodyElement}:"closure_lm_527468"	0.0
{HTMLBodyElement}:"closure_lm_527555"	0.0
{HTMLBodyElement}:"closure_lm_52806"	0.0
{HTMLBodyElement}:"closure_lm_606858"	0.0
{HTMLBodyElement}:"closure_lm_528084"	0.0
{HTMLBodyElement}:"closure_lm_528392"	0.0
{HTMLBodyElement}:"closure_lm_529251"	0.0
{HTMLBodyElement}:"closure_lm_530858"	0.0
{HTMLBodyElement}:"closure_lm_606673"	0.0
{HTMLBodyElement}:"closure_lm_531756"	0.0
{HTMLBodyElement}:"closure_lm_532138"	0.0
{HTMLBodyElement}:"closure_lm_532549"	0.0
{HTMLBodyElement}:"closure_lm_532559"	0.0
{HTMLBodyElement}:"closure_lm_53508"	0.0
{HTMLBodyElement}:"closure_lm_553615"	0.0
{HTMLBodyElement}:"closure_lm_605289"	0.0
{HTMLBodyElement}:"closure_lm_554639"	0.0
{HTMLBodyElement}:"closure_lm_554699"	0.0
{HTMLBodyElement}:"closure_lm_58110"	0.0
{HTMLBodyElement}:"closure_lm_581340"	0.0
{HTMLBodyElement}:"closure_lm_601842"	0.0
{HTMLBodyElement}:"closure_lm_582524"	0.0
{HTMLBodyElement}:"closure_lm_582914"	0.0
{HTMLBodyElement}:"closure_lm_583525"	0.0
{HTMLBodyElement}:"closure_lm_586461"	0.0
{HTMLBodyElement}:"closure_lm_588272"	0.0
{HTMLBodyElement}:"closure_lm_588997"	0.0
{HTMLBodyElement}:"closure_lm_589088"	0.0
{HTMLBodyElement}:"closure_lm_589530"	0.0
{HTMLBodyElement}:"closure_lm_592262"	0.0
{HTMLBodyElement}:"closure_lm_592808"	0.0
{HTMLBodyElement}:"closure_lm_593226"	0.0
{HTMLBodyElement}:"closure_lm_593902"	0.0
{HTMLBodyElement}:"closure_lm_594089"	0.0
{HTMLBodyElement}:"closure_lm_59637"	0.0
{HTMLBodyElement}:"closure_lm_596644"	0.0
{HTMLBodyElement}:"closure_lm_596704"	0.0
{HTMLBodyElement}:"closure_lm_596880"	0.0
{HTMLBodyElement}:"closure_lm_59719"	0.0
{HTMLBodyElement}:"closure_lm_598057"	0.0
{HTMLBodyElement}:"closure_lm_598202"	0.0
{HTMLBodyElement}:"closure_lm_599412"	0.0
{HTMLBodyElement}:"closure_lm_601023"	0.0
{HTMLBodyElement}:"closure_lm_580689"	0.0
{HTMLBodyElement}:"closure_lm_518593"	0.0
{HTMLBodyElement}:"closure_lm_579104"	0.0
{HTMLBodyElement}:"closure_lm_578379"	0.0
{HTMLBodyElement}:"closure_lm_555125"	0.0
{HTMLBodyElement}:"closure_lm_555632"	0.0
{HTMLBodyElement}:"closure_lm_555920"	0.0
{HTMLBodyElement}:"closure_lm_556298"	0.0
{HTMLBodyElement}:"closure_lm_556742"	0.0
{HTMLBodyElement}:"closure_lm_557193"	0.0
{HTMLBodyElement}:"closure_lm_557264"	0.0
{HTMLBodyElement}:"closure_lm_557419"	0.0
{HTMLBodyElement}:"closure_lm_603733"	0.0
{HTMLBodyElement}:"closure_lm_557845"	0.0
{HTMLBodyElement}:"closure_lm_558027"	0.0
{HTMLBodyElement}:"closure_lm_561694"	0.0
{HTMLBodyElement}:"closure_lm_563143"	0.0
{HTMLBodyElement}:"closure_lm_564620"	0.0
{HTMLBodyElement}:"closure_lm_56665"	0.0
{HTMLBodyElement}:"closure_lm_568272"	0.0
{HTMLBodyElement}:"closure_lm_569285"	0.0
{HTMLBodyElement}:"closure_lm_570469"	0.0
{HTMLBodyElement}:"closure_lm_572342"	0.0
{HTMLBodyElement}:"closure_lm_573527"	0.0
{HTMLBodyElement}:"closure_lm_574348"	0.0
{HTMLBodyElement}:"closure_lm_575281"	0.0
{HTMLBodyElement}:"closure_lm_57537"	0.0
{HTMLBodyElement}:"closure_lm_575437"	0.0
{HTMLBodyElement}:"closure_lm_577487"	0.0
{HTMLBodyElement}:"closure_lm_578451"	0.0
{HTMLBodyElement}:"closure_lm_518001"	0.0
{HTMLBodyElement}:"closure_lm_517540"	0.0
{HTMLBodyElement}:"closure_lm_515777"	0.0
{HTMLBodyElement}:"closure_lm_466367"	0.0
{HTMLBodyElement}:"closure_lm_46803"	0.0
{HTMLBodyElement}:"closure_lm_46903"	0.0
{HTMLBodyElement}:"closure_lm_472551"	0.0
{HTMLBodyElement}:"closure_lm_474696"	0.0
{HTMLBodyElement}:"closure_lm_474933"	0.0
{HTMLBodyElement}:"closure_lm_475235"	0.0
{HTMLBodyElement}:"closure_lm_617345"	0.0
{HTMLBodyElement}:"closure_lm_326455"	0.0
{HTMLBodyElement}:"closure_lm_475882"	0.0
{HTMLBodyElement}:"closure_lm_476840"	0.0
{HTMLBodyElement}:"closure_lm_617136"	0.0
{HTMLBodyElement}:"closure_lm_478633"	0.0
{HTMLBodyElement}:"closure_lm_478808"	0.0
{HTMLBodyElement}:"closure_lm_479089"	0.0
{HTMLBodyElement}:"closure_lm_479288"	0.0
{HTMLBodyElement}:"closure_lm_479697"	0.0
{HTMLBodyElement}:"closure_lm_480010"	0.0
{HTMLBodyElement}:"closure_lm_480379"	0.0
{HTMLBodyElement}:"closure_lm_482370"	0.0
{HTMLBodyElement}:"closure_lm_483741"	0.0
{HTMLBodyElement}:"closure_lm_484944"	0.0
{HTMLBodyElement}:"closure_lm_48513"	0.0
{HTMLBodyElement}:"closure_lm_616577"	0.0
{HTMLBodyElement}:"closure_lm_48554"	0.0
{HTMLBodyElement}:"closure_lm_465419"	0.0
{HTMLBodyElement}:"closure_lm_487699"	0.0
{HTMLBodyElement}:"closure_lm_464295"	0.0
{HTMLBodyElement}:"closure_lm_464193"	0.0
{HTMLBodyElement}:"closure_lm_447274"	0.0
{HTMLBodyElement}:"closure_lm_447290"	0.0
{HTMLBodyElement}:"closure_lm_447391"	0.0
{HTMLBodyElement}:"closure_lm_448163"	0.0
{HTMLBodyElement}:"closure_lm_601538"	0.0
{HTMLBodyElement}:"closure_lm_450156"	0.0
{HTMLBodyElement}:"closure_lm_450455"	0.0
{HTMLBodyElement}:"closure_lm_451101"	0.0
{HTMLBodyElement}:"closure_lm_451130"	0.0
{HTMLBodyElement}:"closure_lm_451177"	0.0
{HTMLBodyElement}:"closure_lm_451629"	0.0
{HTMLBodyElement}:"closure_lm_451728"	0.0
{HTMLBodyElement}:"closure_lm_456071"	0.0
{HTMLBodyElement}:"closure_lm_456322"	0.0
{HTMLBodyElement}:"closure_lm_458659"	0.0
{HTMLBodyElement}:"closure_lm_460455"	0.0
{HTMLBodyElement}:"closure_lm_620850"	0.0
{HTMLBodyElement}:"closure_lm_619278"	0.0
{HTMLBodyElement}:"closure_lm_462257"	0.0
{HTMLBodyElement}:"closure_lm_462306"	0.0
{HTMLBodyElement}:"closure_lm_463322"	0.0
{HTMLBodyElement}:"closure_lm_463480"	0.0
{HTMLBodyElement}:"closure_lm_464065"	0.0
{HTMLBodyElement}:"closure_lm_619232"	0.0
{HTMLBodyElement}:"closure_lm_464162"	0.0
{HTMLBodyElement}:"closure_lm_618857"	0.0
{HTMLBodyElement}:"closure_lm_621308"	0.0
{HTMLBodyElement}:"closure_lm_614991"	0.0
{HTMLBodyElement}:"closure_lm_614883"	0.0
{HTMLBodyElement}:"closure_lm_504713"	0.0
{HTMLBodyElement}:"closure_lm_504924"	0.0
{HTMLBodyElement}:"closure_lm_50493"	0.0
{HTMLBodyElement}:"closure_lm_505267"	0.0
{HTMLBodyElement}:"closure_lm_610718"	0.0
{HTMLBodyElement}:"closure_lm_506239"	0.0
{HTMLBodyElement}:"closure_lm_506851"	0.0
{HTMLBodyElement}:"closure_lm_507368"	0.0
{HTMLBodyElement}:"closure_lm_507870"	0.0
{HTMLBodyElement}:"closure_lm_507980"	0.0
